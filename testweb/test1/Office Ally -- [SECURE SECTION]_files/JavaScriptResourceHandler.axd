
(function(a){var c=a.fn.jquery;a.checkVersion={_isValidVersion:function(d,e,f){var a,b,c;if(f){b=d.split(".");c=e.split(".");for(a=0;a<b.length;a++)if(b[a]>c[a])return true;else if(b[a]<c[a])return false;return true}else return d===e},jquery:function(a,d){var b=this._isValidVersion(a,c,d);return b;}}})(jQuery);(function(a){if(a.checkVersion.jquery("1.9.1")||a.checkVersion.jquery("1.11.3")||a.checkVersion.jquery("2.1.4")){var matched,browser;a.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"};};matched=a.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version;}
if(browser.chrome){browser.webkit=true;}else if(browser.webkit){browser.safari=true;}
a.browser=browser;}})(jQuery);Function.__typeName="Function";Function.__class=true;Function.createCallback=function(b,a){return function(){var e=arguments.length;if(e>0){var d=[];for(var c=0;c<e;c++)d[c]=arguments[c];d[e]=a;return b.apply(this,d)}return b.call(this,a)}};Function.createDelegate=function(a,b){return function(){return b.apply(a,arguments)}};Function.emptyFunction=Function.emptyMethod=function(){};Function.validateParameters=function(c,b,a){return Function._validateParams(c,b,a)};Function._validateParams=function(g,e,c){var a,d=e.length;c=c||typeof c==="undefined";a=Function._validateParameterCount(g,e,c);if(a){a.popStackFrame();return a}for(var b=0,i=g.length;b<i;b++){var f=e[Math.min(b,d-1)],h=f.name;if(f.parameterArray)h+="["+(b-d+1)+"]";else if(!c&&b>=d)break;a=Function._validateParameter(g[b],f,h);if(a){a.popStackFrame();return a}}return null};Function._validateParameterCount=function(j,d,i){var a,c,b=d.length,e=j.length;if(e<b){var f=b;for(a=0;a<b;a++){var g=d[a];if(g.optional||g.parameterArray)f--}if(e<f)c=true}else if(i&&e>b){c=true;for(a=0;a<b;a++)if(d[a].parameterArray){c=false;break}}if(c){var h=Error.parameterCount();h.popStackFrame();return h}return null};Function._validateParameter=function(c,a,h){var b,g=a.type,l=!!a.integer,k=!!a.domElement,m=!!a.mayBeNull;b=Function._validateParameterType(c,g,l,k,m,h);if(b){b.popStackFrame();return b}var e=a.elementType,f=!!a.elementMayBeNull;if(g===Array&&typeof c!=="undefined"&&c!==null&&(e||!f)){var j=!!a.elementInteger,i=!!a.elementDomElement;for(var d=0;d<c.length;d++){var n=c[d];b=Function._validateParameterType(n,e,j,i,f,h+"["+d+"]");if(b){b.popStackFrame();return b}}}return null};Function._validateParameterType=function(b,c,k,j,h,d){var a,g;if(typeof b==="undefined")if(h)return null;else{a=Error.argumentUndefined(d);a.popStackFrame();return a}if(b===null)if(h)return null;else{a=Error.argumentNull(d);a.popStackFrame();return a}if(c&&c.__enum){if(typeof b!=="number"){a=Error.argumentType(d,Object.getType(b),c);a.popStackFrame();return a}if(b%1===0){var e=c.prototype;if(!c.__flags||b===0){for(g in e)if(e[g]===b)return null}else{var i=b;for(g in e){var f=e[g];if(f===0)continue;if((f&b)===f)i-=f;if(i===0)return null}}}a=Error.argumentOutOfRange(d,b,String.format(Sys.Res.enumInvalidValue,b,c.getName()));a.popStackFrame();return a}if(j&&(!Sys._isDomElement(b)||b.nodeType===3)){a=Error.argument(d,Sys.Res.argumentDomElement);a.popStackFrame();return a}if(c&&!Sys._isInstanceOfType(c,b)){a=Error.argumentType(d,Object.getType(b),c);a.popStackFrame();return a}if(c===Number&&k)if(b%1!==0){a=Error.argumentOutOfRange(d,b,Sys.Res.argumentInteger);a.popStackFrame();return a}return null};Error.__typeName="Error";Error.__class=true;Error.create=function(d,b){var a=new Error(d);a.message=d;if(b)for(var c in b)a[c]=b[c];a.popStackFrame();return a};Error.argument=function(a,c){var b="Sys.ArgumentException: "+(c?c:Sys.Res.argument);if(a)b+="\n"+String.format(Sys.Res.paramName,a);var d=Error.create(b,{name:"Sys.ArgumentException",paramName:a});d.popStackFrame();return d};Error.argumentNull=function(a,c){var b="Sys.ArgumentNullException: "+(c?c:Sys.Res.argumentNull);if(a)b+="\n"+String.format(Sys.Res.paramName,a);var d=Error.create(b,{name:"Sys.ArgumentNullException",paramName:a});d.popStackFrame();return d};Error.argumentOutOfRange=function(c,a,d){var b="Sys.ArgumentOutOfRangeException: "+(d?d:Sys.Res.argumentOutOfRange);if(c)b+="\n"+String.format(Sys.Res.paramName,c);if(typeof a!=="undefined"&&a!==null)b+="\n"+String.format(Sys.Res.actualValue,a);var e=Error.create(b,{name:"Sys.ArgumentOutOfRangeException",paramName:c,actualValue:a});e.popStackFrame();return e};Error.argumentType=function(d,c,b,e){var a="Sys.ArgumentTypeException: ";if(e)a+=e;else if(c&&b)a+=String.format(Sys.Res.argumentTypeWithTypes,c.getName(),b.getName());else a+=Sys.Res.argumentType;if(d)a+="\n"+String.format(Sys.Res.paramName,d);var f=Error.create(a,{name:"Sys.ArgumentTypeException",paramName:d,actualType:c,expectedType:b});f.popStackFrame();return f};Error.argumentUndefined=function(a,c){var b="Sys.ArgumentUndefinedException: "+(c?c:Sys.Res.argumentUndefined);if(a)b+="\n"+String.format(Sys.Res.paramName,a);var d=Error.create(b,{name:"Sys.ArgumentUndefinedException",paramName:a});d.popStackFrame();return d};Error.format=function(a){var c="Sys.FormatException: "+(a?a:Sys.Res.format),b=Error.create(c,{name:"Sys.FormatException"});b.popStackFrame();return b};Error.invalidOperation=function(a){var c="Sys.InvalidOperationException: "+(a?a:Sys.Res.invalidOperation),b=Error.create(c,{name:"Sys.InvalidOperationException"});b.popStackFrame();return b};Error.notImplemented=function(a){var c="Sys.NotImplementedException: "+(a?a:Sys.Res.notImplemented),b=Error.create(c,{name:"Sys.NotImplementedException"});b.popStackFrame();return b};Error.parameterCount=function(a){var c="Sys.ParameterCountException: "+(a?a:Sys.Res.parameterCount),b=Error.create(c,{name:"Sys.ParameterCountException"});b.popStackFrame();return b};Error.prototype.popStackFrame=function(){if(typeof this.stack==="undefined"||this.stack===null||typeof this.fileName==="undefined"||this.fileName===null||typeof this.lineNumber==="undefined"||this.lineNumber===null)return;var a=this.stack.split("\n"),c=a[0],e=this.fileName+":"+this.lineNumber;while(typeof c!=="undefined"&&c!==null&&c.indexOf(e)===-1){a.shift();c=a[0]}var d=a[1];if(typeof d==="undefined"||d===null)return;var b=d.match(/@(.*):(\d+)$/);if(typeof b==="undefined"||b===null)return;this.fileName=b[1];this.lineNumber=parseInt(b[2]);a.shift();this.stack=a.join("\n")};Object.__typeName="Object";Object.__class=true;Object.getType=function(b){var a=b.constructor;if(!a||typeof a!=="function"||!a.__typeName||a.__typeName==="Object")return Object;return a};Object.getTypeName=function(a){return Object.getType(a).getName()};String.__typeName="String";String.__class=true;String.prototype.endsWith=function(a){return this.substr(this.length-a.length)===a};String.prototype.startsWith=function(a){return this.substr(0,a.length)===a};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.trimEnd=function(){return this.replace(/\s+$/,"")};String.prototype.trimStart=function(){return this.replace(/^\s+/,"")};String.format=function(){return String._toFormattedString(false,arguments)};String._toFormattedString=function(l,j){var c="",e=j[0];for(var a=0;true;){var f=e.indexOf("{",a),d=e.indexOf("}",a);if(f<0&&d<0){c+=e.slice(a);break}if(d>0&&(d<f||f<0)){c+=e.slice(a,d+1);a=d+2;continue}c+=e.slice(a,f);a=f+1;if(e.charAt(a)==="{"){c+="{";a++;continue}if(d<0)break;var h=e.substring(a,d),g=h.indexOf(":"),k=parseInt(g<0?h:h.substring(0,g),10)+1,i=g<0?"":h.substring(g+1),b=j[k];if(typeof b==="undefined"||b===null)b="";if(b.toFormattedString)c+=b.toFormattedString(i);else if(l&&b.localeFormat)c+=b.localeFormat(i);else if(b.format)c+=b.format(i);else c+=b.toString();a=d+1}return c};Boolean.__typeName="Boolean";Boolean.__class=true;Boolean.parse=function(b){var a=b.trim().toLowerCase();if(a==="false")return false;if(a==="true")return true};Date.__typeName="Date";Date.__class=true;Number.__typeName="Number";Number.__class=true;RegExp.__typeName="RegExp";RegExp.__class=true;if(!window)this.window=this;window.Type=Function;Type.prototype.callBaseMethod=function(a,d,b){var c=Sys._getBaseMethod(this,a,d);if(!b)return c.apply(a);else return c.apply(a,b)};Type.prototype.getBaseMethod=function(a,b){return Sys._getBaseMethod(this,a,b)};Type.prototype.getBaseType=function(){return typeof this.__baseType==="undefined"?null:this.__baseType};Type.prototype.getInterfaces=function(){var a=[],b=this;while(b){var c=b.__interfaces;if(c)for(var d=0,f=c.length;d<f;d++){var e=c[d];if(!Array.contains(a,e))a[a.length]=e}b=b.__baseType}return a};Type.prototype.getName=function(){return typeof this.__typeName==="undefined"?"":this.__typeName};Type.prototype.implementsInterface=function(d){this.resolveInheritance();var c=d.getName(),a=this.__interfaceCache;if(a){var e=a[c];if(typeof e!=="undefined")return e}else a=this.__interfaceCache={};var b=this;while(b){var f=b.__interfaces;if(f)if(Array.indexOf(f,d)!==-1)return a[c]=true;b=b.__baseType}return a[c]=false};Type.prototype.inheritsFrom=function(b){this.resolveInheritance();var a=this.__baseType;while(a){if(a===b)return true;a=a.__baseType}return false};Type.prototype.initializeBase=function(a,b){this.resolveInheritance();if(this.__baseType)if(!b)this.__baseType.apply(a);else this.__baseType.apply(a,b);return a};Type.prototype.isImplementedBy=function(a){if(typeof a==="undefined"||a===null)return false;var b=Object.getType(a);return!!(b.implementsInterface&&b.implementsInterface(this))};Type.prototype.isInstanceOfType=function(a){return Sys._isInstanceOfType(this,a)};Type.prototype.registerClass=function(c,b,d){this.prototype.constructor=this;this.__typeName=c;this.__class=true;if(b){this.__baseType=b;this.__basePrototypePending=true}Sys.__upperCaseTypes[c.toUpperCase()]=this;if(d){this.__interfaces=[];for(var a=2,f=arguments.length;a<f;a++){var e=arguments[a];this.__interfaces.push(e)}}return this};Type.prototype.registerInterface=function(a){Sys.__upperCaseTypes[a.toUpperCase()]=this;this.prototype.constructor=this;this.__typeName=a;this.__interface=true;return this};Type.prototype.resolveInheritance=function(){if(this.__basePrototypePending){var b=this.__baseType;b.resolveInheritance();for(var a in b.prototype){var c=b.prototype[a];if(!this.prototype[a])this.prototype[a]=c}delete this.__basePrototypePending}};Type.getRootNamespaces=function(){return Array.clone(Sys.__rootNamespaces)};Type.isClass=function(a){if(typeof a==="undefined"||a===null)return false;return!!a.__class};Type.isInterface=function(a){if(typeof a==="undefined"||a===null)return false;return!!a.__interface};Type.isNamespace=function(a){if(typeof a==="undefined"||a===null)return false;return!!a.__namespace};Type.parse=function(typeName,ns){var fn;if(ns){fn=Sys.__upperCaseTypes[ns.getName().toUpperCase()+"."+typeName.toUpperCase()];return fn||null}if(!typeName)return null;if(!Type.__htClasses)Type.__htClasses={};fn=Type.__htClasses[typeName];if(!fn){fn=eval(typeName);Type.__htClasses[typeName]=fn}return fn};Type.registerNamespace=function(e){var d=window,c=e.split(".");for(var b=0;b<c.length;b++){var f=c[b],a=d[f];if(!a)a=d[f]={};if(!a.__namespace){if(b===0&&e!=="Sys")Sys.__rootNamespaces[Sys.__rootNamespaces.length]=a;a.__namespace=true;a.__typeName=c.slice(0,b+1).join(".");a.getName=function(){return this.__typeName}}d=a}};Type._checkDependency=function(c,a){var d=Type._registerScript._scripts,b=d?!!d[c]:false;if(typeof a!=="undefined"&&!b)throw Error.invalidOperation(String.format(Sys.Res.requiredScriptReferenceNotIncluded,a,c));return b};Type._registerScript=function(a,c){var b=Type._registerScript._scripts;if(!b)Type._registerScript._scripts=b={};if(b[a])throw Error.invalidOperation(String.format(Sys.Res.scriptAlreadyLoaded,a));b[a]=true;if(c)for(var d=0,f=c.length;d<f;d++){var e=c[d];if(!Type._checkDependency(e))throw Error.invalidOperation(String.format(Sys.Res.scriptDependencyNotFound,a,e))}};Type.registerNamespace("Sys");Sys.__upperCaseTypes={};Sys.__rootNamespaces=[Sys];Sys._isInstanceOfType=function(c,b){if(typeof b==="undefined"||b===null)return false;if(b instanceof c)return true;var a=Object.getType(b);return!!(a===c)||a.inheritsFrom&&a.inheritsFrom(c)||a.implementsInterface&&a.implementsInterface(c)};Sys._getBaseMethod=function(d,e,c){var b=d.getBaseType();if(b){var a=b.prototype[c];return a instanceof Function?a:null}return null};Sys._isDomElement=function(a){var c=false;if(typeof a.nodeType!=="number"){var b=a.ownerDocument||a.document||a;if(b!=a){var d=b.defaultView||b.parentWindow;c=d!=a}else c=typeof b.body==="undefined"}return!c};Array.__typeName="Array";Array.__class=true;Array.add=Array.enqueue=function(a,b){a[a.length]=b};Array.addRange=function(a,b){a.push.apply(a,b)};Array.clear=function(a){a.length=0};Array.clone=function(a){if(a.length===1)return[a[0]];else return Array.apply(null,a)};Array.contains=function(a,b){return Sys._indexOf(a,b)>=0};Array.dequeue=function(a){return a.shift()};Array.forEach=function(b,e,d){for(var a=0,f=b.length;a<f;a++){var c=b[a];if(typeof c!=="undefined")e.call(d,c,a,b)}};Array.indexOf=function(a,c,b){return Sys._indexOf(a,c,b)};Array.insert=function(a,b,c){a.splice(b,0,c)};Array.parse=function(value){if(!value)return[];return eval(value)};Array.remove=function(b,c){var a=Sys._indexOf(b,c);if(a>=0)b.splice(a,1);return a>=0};Array.removeAt=function(a,b){a.splice(b,1)};Sys._indexOf=function(d,e,a){if(typeof e==="undefined")return-1;var c=d.length;if(c!==0){a=a-0;if(isNaN(a))a=0;else{if(isFinite(a))a=a-a%1;if(a<0)a=Math.max(0,c+a)}for(var b=a;b<c;b++)if(typeof d[b]!=="undefined"&&d[b]===e)return b}return-1};Type._registerScript._scripts={"MicrosoftAjaxCore.js":true,"MicrosoftAjaxGlobalization.js":true,"MicrosoftAjaxSerialization.js":true,"MicrosoftAjaxComponentModel.js":true,"MicrosoftAjaxHistory.js":true,"MicrosoftAjaxNetwork.js":true,"MicrosoftAjaxWebServices.js":true};Sys.IDisposable=function(){};Sys.IDisposable.prototype={};Sys.IDisposable.registerInterface("Sys.IDisposable");Sys.StringBuilder=function(a){this._parts=typeof a!=="undefined"&&a!==null&&a!==""?[a.toString()]:[];this._value={};this._len=0};Sys.StringBuilder.prototype={append:function(a){this._parts[this._parts.length]=a},appendLine:function(a){this._parts[this._parts.length]=typeof a==="undefined"||a===null||a===""?"\r\n":a+"\r\n"},clear:function(){this._parts=[];this._value={};this._len=0},isEmpty:function(){if(this._parts.length===0)return true;return this.toString()===""},toString:function(a){a=a||"";var b=this._parts;if(this._len!==b.length){this._value={};this._len=b.length}var d=this._value;if(typeof d[a]==="undefined"){if(a!=="")for(var c=0;c<b.length;)if(typeof b[c]==="undefined"||b[c]===""||b[c]===null)b.splice(c,1);else c++;d[a]=this._parts.join(a)}return d[a]}};Sys.StringBuilder.registerClass("Sys.StringBuilder");Sys.Browser={};Sys.Browser.InternetExplorer={};Sys.Browser.Firefox={};Sys.Browser.Safari={};Sys.Browser.Opera={};Sys.Browser.agent=null;Sys.Browser.hasDebuggerStatement=false;Sys.Browser.name=navigator.appName;Sys.Browser.version=parseFloat(navigator.appVersion);Sys.Browser.documentMode=0;if(navigator.userAgent.indexOf(" MSIE ")>-1){Sys.Browser.agent=Sys.Browser.InternetExplorer;Sys.Browser.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(Sys.Browser.version>=8)if(document.documentMode>=7)Sys.Browser.documentMode=document.documentMode;Sys.Browser.hasDebuggerStatement=true}else if(navigator.userAgent.indexOf(" Firefox/")>-1){Sys.Browser.agent=Sys.Browser.Firefox;Sys.Browser.version=parseFloat(navigator.userAgent.match(/Firefox\/(\d+\.\d+)/)[1]);Sys.Browser.name="Firefox";Sys.Browser.hasDebuggerStatement=true}else if(navigator.userAgent.indexOf(" AppleWebKit/")>-1){Sys.Browser.agent=Sys.Browser.Safari;Sys.Browser.version=parseFloat(navigator.userAgent.match(/AppleWebKit\/(\d+(\.\d+)?)/)[1]);Sys.Browser.name="Safari"}else if(navigator.userAgent.indexOf("Opera/")>-1)Sys.Browser.agent=Sys.Browser.Opera;Sys.EventArgs=function(){};Sys.EventArgs.registerClass("Sys.EventArgs");Sys.EventArgs.Empty=new Sys.EventArgs;Sys.CancelEventArgs=function(){Sys.CancelEventArgs.initializeBase(this);this._cancel=false};Sys.CancelEventArgs.prototype={get_cancel:function(){return this._cancel},set_cancel:function(a){this._cancel=a}};Sys.CancelEventArgs.registerClass("Sys.CancelEventArgs",Sys.EventArgs);Type.registerNamespace("Sys.UI");Sys._Debug=function(){};Sys._Debug.prototype={_appendConsole:function(a){if(typeof Debug!=="undefined"&&Debug.writeln)Debug.writeln(a);if(window.console&&window.console.log)window.console.log(a);if(window.opera)window.opera.postError(a);if(window.debugService)window.debugService.trace(a)},_appendTrace:function(b){var a=document.getElementById("TraceConsole");if(a&&a.tagName.toUpperCase()==="TEXTAREA")a.value+=b+"\n"},assert:function(c,a,b){if(!c){a=b&&this.assert.caller?String.format(Sys.Res.assertFailedCaller,a,this.assert.caller):String.format(Sys.Res.assertFailed,a);if(confirm(String.format(Sys.Res.breakIntoDebugger,a)))this.fail(a)}},clearTrace:function(){var a=document.getElementById("TraceConsole");if(a&&a.tagName.toUpperCase()==="TEXTAREA")a.value=""},fail:function(message){this._appendConsole(message);if(Sys.Browser.hasDebuggerStatement)eval("debugger")},trace:function(a){this._appendConsole(a);this._appendTrace(a)},traceDump:function(a,b){var c=this._traceDump(a,b,true)},_traceDump:function(a,c,f,b,d){c=c?c:"traceDump";b=b?b:"";if(a===null){this.trace(b+c+": null");return}switch(typeof a){case"undefined":this.trace(b+c+": Undefined");break;case"number":case"string":case"boolean":this.trace(b+c+": "+a);break;default:if(Date.isInstanceOfType(a)||RegExp.isInstanceOfType(a)){this.trace(b+c+": "+a.toString());break}if(!d)d=[];else if(Array.contains(d,a)){this.trace(b+c+": ...");return}Array.add(d,a);if(a==window||a===document||window.HTMLElement&&a instanceof HTMLElement||typeof a.nodeName==="string"){var k=a.tagName?a.tagName:"DomElement";if(a.id)k+=" - "+a.id;this.trace(b+c+" {"+k+"}")}else{var i=Object.getTypeName(a);this.trace(b+c+(typeof i==="string"?" {"+i+"}":""));if(b===""||f){b+="    ";var e,j,l,g,h;if(Array.isInstanceOfType(a)){j=a.length;for(e=0;e<j;e++)this._traceDump(a[e],"["+e+"]",f,b,d)}else for(g in a){h=a[g];if(!Function.isInstanceOfType(h))this._traceDump(h,g,f,b,d)}}}Array.remove(d,a)}}};Sys._Debug.registerClass("Sys._Debug");Sys.Debug=new Sys._Debug;Sys.Debug.isDebug=false;function Sys$Enum$parse(c,e){var a,b,i;if(e){a=this.__lowerCaseValues;if(!a){this.__lowerCaseValues=a={};var g=this.prototype;for(var f in g)a[f.toLowerCase()]=g[f]}}else a=this.prototype;if(!this.__flags){i=e?c.toLowerCase():c;b=a[i.trim()];if(typeof b!=="number")throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,c,this.__typeName));return b}else{var h=(e?c.toLowerCase():c).split(","),j=0;for(var d=h.length-1;d>=0;d--){var k=h[d].trim();b=a[k];if(typeof b!=="number")throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,c.split(",")[d].trim(),this.__typeName));j|=b}return j}}function Sys$Enum$toString(c){if(typeof c==="undefined"||c===null)return this.__string;var d=this.prototype,a;if(!this.__flags||c===0){for(a in d)if(d[a]===c)return a}else{var b=this.__sortedValues;if(!b){b=[];for(a in d)b[b.length]={key:a,value:d[a]};b.sort(function(a,b){return a.value-b.value});this.__sortedValues=b}var e=[],g=c;for(a=b.length-1;a>=0;a--){var h=b[a],f=h.value;if(f===0)continue;if((f&c)===f){e[e.length]=h.key;g-=f;if(g===0)break}}if(e.length&&g===0)return e.reverse().join(", ")}return""}Type.prototype.registerEnum=function(b,c){Sys.__upperCaseTypes[b.toUpperCase()]=this;for(var a in this.prototype)this[a]=this.prototype[a];this.__typeName=b;this.parse=Sys$Enum$parse;this.__string=this.toString();this.toString=Sys$Enum$toString;this.__flags=c;this.__enum=true};Type.isEnum=function(a){if(typeof a==="undefined"||a===null)return false;return!!a.__enum};Type.isFlags=function(a){if(typeof a==="undefined"||a===null)return false;return!!a.__flags};Sys.CollectionChange=function(e,a,c,b,d){this.action=e;if(a)if(!(a instanceof Array))a=[a];this.newItems=a||null;if(typeof c!=="number")c=-1;this.newStartingIndex=c;if(b)if(!(b instanceof Array))b=[b];this.oldItems=b||null;if(typeof d!=="number")d=-1;this.oldStartingIndex=d};Sys.CollectionChange.registerClass("Sys.CollectionChange");Sys.NotifyCollectionChangedAction=function(){throw Error.notImplemented()};Sys.NotifyCollectionChangedAction.prototype={add:0,remove:1,reset:2};Sys.NotifyCollectionChangedAction.registerEnum("Sys.NotifyCollectionChangedAction");Sys.NotifyCollectionChangedEventArgs=function(a){this._changes=a;Sys.NotifyCollectionChangedEventArgs.initializeBase(this)};Sys.NotifyCollectionChangedEventArgs.prototype={get_changes:function(){return this._changes||[]}};Sys.NotifyCollectionChangedEventArgs.registerClass("Sys.NotifyCollectionChangedEventArgs",Sys.EventArgs);Sys.Observer=function(){};Sys.Observer.registerClass("Sys.Observer");Sys.Observer.makeObservable=function(a){var c=a instanceof Array,b=Sys.Observer;if(a.setValue===b._observeMethods.setValue)return a;b._addMethods(a,b._observeMethods);if(c)b._addMethods(a,b._arrayMethods);return a};Sys.Observer._addMethods=function(c,b){for(var a in b)c[a]=b[a]};Sys.Observer._addEventHandler=function(c,a,b){Sys.Observer._getContext(c,true).events._addHandler(a,b)};Sys.Observer.addEventHandler=function(c,a,b){Sys.Observer._addEventHandler(c,a,b)};Sys.Observer._removeEventHandler=function(c,a,b){Sys.Observer._getContext(c,true).events._removeHandler(a,b)};Sys.Observer.removeEventHandler=function(c,a,b){Sys.Observer._removeEventHandler(c,a,b)};Sys.Observer.raiseEvent=function(b,e,d){var c=Sys.Observer._getContext(b);if(!c)return;var a=c.events.getHandler(e);if(a)a(b,d)};Sys.Observer.addPropertyChanged=function(b,a){Sys.Observer._addEventHandler(b,"propertyChanged",a)};Sys.Observer.removePropertyChanged=function(b,a){Sys.Observer._removeEventHandler(b,"propertyChanged",a)};Sys.Observer.beginUpdate=function(a){Sys.Observer._getContext(a,true).updating=true};Sys.Observer.endUpdate=function(b){var a=Sys.Observer._getContext(b);if(!a||!a.updating)return;a.updating=false;var d=a.dirty;a.dirty=false;if(d){if(b instanceof Array){var c=a.changes;a.changes=null;Sys.Observer.raiseCollectionChanged(b,c)}Sys.Observer.raisePropertyChanged(b,"")}};Sys.Observer.isUpdating=function(b){var a=Sys.Observer._getContext(b);return a?a.updating:false};Sys.Observer._setValue=function(a,j,g){var b,f,k=a,d=j.split(".");for(var i=0,m=d.length-1;i<m;i++){var l=d[i];b=a["get_"+l];if(typeof b==="function")a=b.call(a);else a=a[l];var n=typeof a;if(a===null||n==="undefined")throw Error.invalidOperation(String.format(Sys.Res.nullReferenceInPath,j))}var e,c=d[m];b=a["get_"+c];f=a["set_"+c];if(typeof b==="function")e=b.call(a);else e=a[c];if(typeof f==="function")f.call(a,g);else a[c]=g;if(e!==g){var h=Sys.Observer._getContext(k);if(h&&h.updating){h.dirty=true;return}Sys.Observer.raisePropertyChanged(k,d[0])}};Sys.Observer.setValue=function(b,a,c){Sys.Observer._setValue(b,a,c)};Sys.Observer.raisePropertyChanged=function(b,a){Sys.Observer.raiseEvent(b,"propertyChanged",new Sys.PropertyChangedEventArgs(a))};Sys.Observer.addCollectionChanged=function(b,a){Sys.Observer._addEventHandler(b,"collectionChanged",a)};Sys.Observer.removeCollectionChanged=function(b,a){Sys.Observer._removeEventHandler(b,"collectionChanged",a)};Sys.Observer._collectionChange=function(d,c){var a=Sys.Observer._getContext(d);if(a&&a.updating){a.dirty=true;var b=a.changes;if(!b)a.changes=b=[c];else b.push(c)}else{Sys.Observer.raiseCollectionChanged(d,[c]);Sys.Observer.raisePropertyChanged(d,"length")}};Sys.Observer.add=function(a,b){var c=new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,[b],a.length);Array.add(a,b);Sys.Observer._collectionChange(a,c)};Sys.Observer.addRange=function(a,b){var c=new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,b,a.length);Array.addRange(a,b);Sys.Observer._collectionChange(a,c)};Sys.Observer.clear=function(a){var b=Array.clone(a);Array.clear(a);Sys.Observer._collectionChange(a,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.reset,null,-1,b,0))};Sys.Observer.insert=function(a,b,c){Array.insert(a,b,c);Sys.Observer._collectionChange(a,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,[c],b))};Sys.Observer.remove=function(a,b){var c=Array.indexOf(a,b);if(c!==-1){Array.remove(a,b);Sys.Observer._collectionChange(a,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.remove,null,-1,[b],c));return true}return false};Sys.Observer.removeAt=function(b,a){if(a>-1&&a<b.length){var c=b[a];Array.removeAt(b,a);Sys.Observer._collectionChange(b,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.remove,null,-1,[c],a))}};Sys.Observer.raiseCollectionChanged=function(b,a){Sys.Observer.raiseEvent(b,"collectionChanged",new Sys.NotifyCollectionChangedEventArgs(a))};Sys.Observer._observeMethods={add_propertyChanged:function(a){Sys.Observer._addEventHandler(this,"propertyChanged",a)},remove_propertyChanged:function(a){Sys.Observer._removeEventHandler(this,"propertyChanged",a)},addEventHandler:function(a,b){Sys.Observer._addEventHandler(this,a,b)},removeEventHandler:function(a,b){Sys.Observer._removeEventHandler(this,a,b)},get_isUpdating:function(){return Sys.Observer.isUpdating(this)},beginUpdate:function(){Sys.Observer.beginUpdate(this)},endUpdate:function(){Sys.Observer.endUpdate(this)},setValue:function(b,a){Sys.Observer._setValue(this,b,a)},raiseEvent:function(b,a){Sys.Observer.raiseEvent(this,b,a)},raisePropertyChanged:function(a){Sys.Observer.raiseEvent(this,"propertyChanged",new Sys.PropertyChangedEventArgs(a))}};Sys.Observer._arrayMethods={add_collectionChanged:function(a){Sys.Observer._addEventHandler(this,"collectionChanged",a)},remove_collectionChanged:function(a){Sys.Observer._removeEventHandler(this,"collectionChanged",a)},add:function(a){Sys.Observer.add(this,a)},addRange:function(a){Sys.Observer.addRange(this,a)},clear:function(){Sys.Observer.clear(this)},insert:function(a,b){Sys.Observer.insert(this,a,b)},remove:function(a){return Sys.Observer.remove(this,a)},removeAt:function(a){Sys.Observer.removeAt(this,a)},raiseCollectionChanged:function(a){Sys.Observer.raiseEvent(this,"collectionChanged",new Sys.NotifyCollectionChangedEventArgs(a))}};Sys.Observer._getContext=function(b,c){var a=b._observerContext;if(a)return a();if(c)return(b._observerContext=Sys.Observer._createContext())();return null};Sys.Observer._createContext=function(){var a={events:new Sys.EventHandlerList};return function(){return a}};Date._appendPreOrPostMatch=function(e,b){var d=0,a=false;for(var c=0,g=e.length;c<g;c++){var f=e.charAt(c);switch(f){case"'":if(a)b.append("'");else d++;a=false;break;case"\\":if(a)b.append("\\");a=!a;break;default:b.append(f);a=false}}return d};Date._expandFormat=function(a,b){if(!b)b="F";var c=b.length;if(c===1)switch(b){case"d":return a.ShortDatePattern;case"D":return a.LongDatePattern;case"t":return a.ShortTimePattern;case"T":return a.LongTimePattern;case"f":return a.LongDatePattern+" "+a.ShortTimePattern;case"F":return a.FullDateTimePattern;case"M":case"m":return a.MonthDayPattern;case"s":return a.SortableDateTimePattern;case"Y":case"y":return a.YearMonthPattern;default:throw Error.format(Sys.Res.formatInvalidString)}else if(c===2&&b.charAt(0)==="%")b=b.charAt(1);return b};Date._expandYear=function(c,a){var d=new Date,e=Date._getEra(d);if(a<100){var b=Date._getEraYear(d,c,e);a+=b-b%100;if(a>c.Calendar.TwoDigitYearMax)a-=100}return a};Date._getEra=function(e,c){if(!c)return 0;var b,d=e.getTime();for(var a=0,f=c.length;a<f;a+=4){b=c[a+2];if(b===null||d>=b)return a}return 0};Date._getEraYear=function(d,b,e,c){var a=d.getFullYear();if(!c&&b.eras)a-=b.eras[e+3];return a};Date._getParseRegExp=function(b,e){if(!b._parseRegExp)b._parseRegExp={};else if(b._parseRegExp[e])return b._parseRegExp[e];var c=Date._expandFormat(b,e);c=c.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");var a=new Sys.StringBuilder("^"),j=[],f=0,i=0,h=Date._getTokenRegExp(),d;while((d=h.exec(c))!==null){var l=c.slice(f,d.index);f=h.lastIndex;i+=Date._appendPreOrPostMatch(l,a);if(i%2===1){a.append(d[0]);continue}switch(d[0]){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":a.append("(\\D+)");break;case"tt":case"t":a.append("(\\D*)");break;case"yyyy":a.append("(\\d{4})");break;case"fff":a.append("(\\d{3})");break;case"ff":a.append("(\\d{2})");break;case"f":a.append("(\\d)");break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":a.append("(\\d\\d?)");break;case"zzz":a.append("([+-]?\\d\\d?:\\d{2})");break;case"zz":case"z":a.append("([+-]?\\d\\d?)");break;case"/":a.append("(\\"+b.DateSeparator+")")}Array.add(j,d[0])}Date._appendPreOrPostMatch(c.slice(f),a);a.append("$");var k=a.toString().replace(/\s+/g,"\\s+"),g={"regExp":k,"groups":j};b._parseRegExp[e]=g;return g};Date._getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};Date.parseLocale=function(a){return Date._parse(a,Sys.CultureInfo.CurrentCulture,arguments)};Date.parseInvariant=function(a){return Date._parse(a,Sys.CultureInfo.InvariantCulture,arguments)};Date._parse=function(h,d,i){var a,c,b,f,e,g=false;for(a=1,c=i.length;a<c;a++){f=i[a];if(f){g=true;b=Date._parseExact(h,f,d);if(b)return b}}if(!g){e=d._getDateTimeFormats();for(a=0,c=e.length;a<c;a++){b=Date._parseExact(h,e[a],d);if(b)return b}}return null};Date._parseExact=function(w,D,k){w=w.trim();var g=k.dateTimeFormat,A=Date._getParseRegExp(g,D),C=(new RegExp(A.regExp)).exec(w);if(C===null)return null;var B=A.groups,x=null,e=null,c=null,j=null,i=null,d=0,h,p=0,q=0,f=0,l=null,v=false;for(var s=0,E=B.length;s<E;s++){var a=C[s+1];if(a)switch(B[s]){case"dd":case"d":j=parseInt(a,10);if(j<1||j>31)return null;break;case"MMMM":c=k._getMonthIndex(a);if(c<0||c>11)return null;break;case"MMM":c=k._getAbbrMonthIndex(a);if(c<0||c>11)return null;break;case"M":case"MM":c=parseInt(a,10)-1;if(c<0||c>11)return null;break;case"y":case"yy":e=Date._expandYear(g,parseInt(a,10));if(e<0||e>9999)return null;break;case"yyyy":e=parseInt(a,10);if(e<0||e>9999)return null;break;case"h":case"hh":d=parseInt(a,10);if(d===12)d=0;if(d<0||d>11)return null;break;case"H":case"HH":d=parseInt(a,10);if(d<0||d>23)return null;break;case"m":case"mm":p=parseInt(a,10);if(p<0||p>59)return null;break;case"s":case"ss":q=parseInt(a,10);if(q<0||q>59)return null;break;case"tt":case"t":var z=a.toUpperCase();v=z===g.PMDesignator.toUpperCase();if(!v&&z!==g.AMDesignator.toUpperCase())return null;break;case"f":f=parseInt(a,10)*100;if(f<0||f>999)return null;break;case"ff":f=parseInt(a,10)*10;if(f<0||f>999)return null;break;case"fff":f=parseInt(a,10);if(f<0||f>999)return null;break;case"dddd":i=k._getDayIndex(a);if(i<0||i>6)return null;break;case"ddd":i=k._getAbbrDayIndex(a);if(i<0||i>6)return null;break;case"zzz":var u=a.split(/:/);if(u.length!==2)return null;h=parseInt(u[0],10);if(h<-12||h>13)return null;var m=parseInt(u[1],10);if(m<0||m>59)return null;l=h*60+(a.startsWith("-")?-m:m);break;case"z":case"zz":h=parseInt(a,10);if(h<-12||h>13)return null;l=h*60;break;case"g":case"gg":var o=a;if(!o||!g.eras)return null;o=o.toLowerCase().trim();for(var r=0,F=g.eras.length;r<F;r+=4)if(o===g.eras[r+1].toLowerCase()){x=r;break}if(x===null)return null}}var b=new Date,t,n=g.Calendar.convert;if(n)t=n.fromGregorian(b)[0];else t=b.getFullYear();if(e===null)e=t;else if(g.eras)e+=g.eras[(x||0)+3];if(c===null)c=0;if(j===null)j=1;if(n){b=n.toGregorian(e,c,j);if(b===null)return null}else{b.setFullYear(e,c,j);if(b.getDate()!==j)return null;if(i!==null&&b.getDay()!==i)return null}if(v&&d<12)d+=12;b.setHours(d,p,q,f);if(l!==null){var y=b.getMinutes()-(l+b.getTimezoneOffset());b.setHours(b.getHours()+parseInt(y/60,10),y%60)}return b};Date.prototype.format=function(a){return this._toFormattedString(a,Sys.CultureInfo.InvariantCulture)};Date.prototype.localeFormat=function(a){return this._toFormattedString(a,Sys.CultureInfo.CurrentCulture)};Date.prototype._toFormattedString=function(e,j){var b=j.dateTimeFormat,n=b.Calendar.convert;if(!e||!e.length||e==="i")if(j&&j.name.length)if(n)return this._toFormattedString(b.FullDateTimePattern,j);else{var r=new Date(this.getTime()),x=Date._getEra(this,b.eras);r.setFullYear(Date._getEraYear(this,b,x));return r.toLocaleString()}else return this.toString();var l=b.eras,k=e==="s";e=Date._expandFormat(b,e);var a=new Sys.StringBuilder,c;function d(a){if(a<10)return"0"+a;return a.toString()}function m(a){if(a<10)return"00"+a;if(a<100)return"0"+a;return a.toString()}function v(a){if(a<10)return"000"+a;else if(a<100)return"00"+a;else if(a<1000)return"0"+a;return a.toString()}var h,p,t=/([^d]|^)(d|dd)([^d]|$)/g;function s(){if(h||p)return h;h=t.test(e);p=true;return h}var q=0,o=Date._getTokenRegExp(),f;if(!k&&n)f=n.fromGregorian(this);for(;true;){var w=o.lastIndex,i=o.exec(e),u=e.slice(w,i?i.index:e.length);q+=Date._appendPreOrPostMatch(u,a);if(!i)break;if(q%2===1){a.append(i[0]);continue}function g(a,b){if(f)return f[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}switch(i[0]){case"dddd":a.append(b.DayNames[this.getDay()]);break;case"ddd":a.append(b.AbbreviatedDayNames[this.getDay()]);break;case"dd":h=true;a.append(d(g(this,2)));break;case"d":h=true;a.append(g(this,2));break;case"MMMM":a.append(b.MonthGenitiveNames&&s()?b.MonthGenitiveNames[g(this,1)]:b.MonthNames[g(this,1)]);break;case"MMM":a.append(b.AbbreviatedMonthGenitiveNames&&s()?b.AbbreviatedMonthGenitiveNames[g(this,1)]:b.AbbreviatedMonthNames[g(this,1)]);break;case"MM":a.append(d(g(this,1)+1));break;case"M":a.append(g(this,1)+1);break;case"yyyy":a.append(v(f?f[0]:Date._getEraYear(this,b,Date._getEra(this,l),k)));break;case"yy":a.append(d((f?f[0]:Date._getEraYear(this,b,Date._getEra(this,l),k))%100));break;case"y":a.append((f?f[0]:Date._getEraYear(this,b,Date._getEra(this,l),k))%100);break;case"hh":c=this.getHours()%12;if(c===0)c=12;a.append(d(c));break;case"h":c=this.getHours()%12;if(c===0)c=12;a.append(c);break;case"HH":a.append(d(this.getHours()));break;case"H":a.append(this.getHours());break;case"mm":a.append(d(this.getMinutes()));break;case"m":a.append(this.getMinutes());break;case"ss":a.append(d(this.getSeconds()));break;case"s":a.append(this.getSeconds());break;case"tt":a.append(this.getHours()<12?b.AMDesignator:b.PMDesignator);break;case"t":a.append((this.getHours()<12?b.AMDesignator:b.PMDesignator).charAt(0));break;case"f":a.append(m(this.getMilliseconds()).charAt(0));break;case"ff":a.append(m(this.getMilliseconds()).substr(0,2));break;case"fff":a.append(m(this.getMilliseconds()));break;case"z":c=this.getTimezoneOffset()/60;a.append((c<=0?"+":"-")+Math.floor(Math.abs(c)));break;case"zz":c=this.getTimezoneOffset()/60;a.append((c<=0?"+":"-")+d(Math.floor(Math.abs(c))));break;case"zzz":c=this.getTimezoneOffset()/60;a.append((c<=0?"+":"-")+d(Math.floor(Math.abs(c)))+":"+d(Math.abs(this.getTimezoneOffset()%60)));break;case"g":case"gg":if(b.eras)a.append(b.eras[Date._getEra(this,l)+1]);break;case"/":a.append(b.DateSeparator)}}return a.toString()};String.localeFormat=function(){return String._toFormattedString(true,arguments)};Number.parseLocale=function(a){return Number._parse(a,Sys.CultureInfo.CurrentCulture)};Number.parseInvariant=function(a){return Number._parse(a,Sys.CultureInfo.InvariantCulture)};Number._parse=function(b,o){b=b.trim();if(b.match(/^[+-]?infinity$/i))return parseFloat(b);if(b.match(/^0x[a-f0-9]+$/i))return parseInt(b);var a=o.numberFormat,g=Number._parseNumberNegativePattern(b,a,a.NumberNegativePattern),h=g[0],e=g[1];if(h===""&&a.NumberNegativePattern!==1){g=Number._parseNumberNegativePattern(b,a,1);h=g[0];e=g[1]}if(h==="")h="+";var j,d,f=e.indexOf("e");if(f<0)f=e.indexOf("E");if(f<0){d=e;j=null}else{d=e.substr(0,f);j=e.substr(f+1)}var c,k,m=d.indexOf(a.NumberDecimalSeparator);if(m<0){c=d;k=null}else{c=d.substr(0,m);k=d.substr(m+a.NumberDecimalSeparator.length)}c=c.split(a.NumberGroupSeparator).join("");var n=a.NumberGroupSeparator.replace(/\u00A0/g," ");if(a.NumberGroupSeparator!==n)c=c.split(n).join("");var l=h+c;if(k!==null)l+="."+k;if(j!==null){var i=Number._parseNumberNegativePattern(j,a,1);if(i[0]==="")i[0]="+";l+="e"+i[0]+i[1]}if(l.match(/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/))return parseFloat(l);return Number.NaN};Number._parseNumberNegativePattern=function(a,d,e){var b=d.NegativeSign,c=d.PositiveSign;switch(e){case 4:b=" "+b;c=" "+c;case 3:if(a.endsWith(b))return["-",a.substr(0,a.length-b.length)];else if(a.endsWith(c))return["+",a.substr(0,a.length-c.length)];break;case 2:b+=" ";c+=" ";case 1:if(a.startsWith(b))return["-",a.substr(b.length)];else if(a.startsWith(c))return["+",a.substr(c.length)];break;case 0:if(a.startsWith("(")&&a.endsWith(")"))return["-",a.substr(1,a.length-2)]}return["",a]};Number.prototype.format=function(a){return this._toFormattedString(a,Sys.CultureInfo.InvariantCulture)};Number.prototype.localeFormat=function(a){return this._toFormattedString(a,Sys.CultureInfo.CurrentCulture)};Number.prototype._toFormattedString=function(e,j){if(!e||e.length===0||e==="i")if(j&&j.name.length>0)return this.toLocaleString();else return this.toString();var o=["n %","n%","%n"],n=["-n %","-n%","-%n"],p=["(n)","-n","- n","n-","n -"],m=["$n","n$","$ n","n $"],l=["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"];function g(a,c,d){for(var b=a.length;b<c;b++)a=d?"0"+a:a+"0";return a}function i(j,i,l,n,p){var h=l[0],k=1,o=Math.pow(10,i),m=Math.round(j*o)/o;if(!isFinite(m))m=j;j=m;var b=j.toString(),a="",c,e=b.split(/e/i);b=e[0];c=e.length>1?parseInt(e[1]):0;e=b.split(".");b=e[0];a=e.length>1?e[1]:"";var q;if(c>0){a=g(a,c,false);b+=a.slice(0,c);a=a.substr(c)}else if(c<0){c=-c;b=g(b,c+1,true);a=b.slice(-c,b.length)+a;b=b.slice(0,-c)}if(i>0){if(a.length>i)a=a.slice(0,i);else a=g(a,i,false);a=p+a}else a="";var d=b.length-1,f="";while(d>=0){if(h===0||h>d)if(f.length>0)return b.slice(0,d+1)+n+f+a;else return b.slice(0,d+1)+a;if(f.length>0)f=b.slice(d-h+1,d+1)+n+f;else f=b.slice(d-h+1,d+1);d-=h;if(k<l.length){h=l[k];k++}}return b.slice(0,d+1)+n+f+a}var a=j.numberFormat,d=Math.abs(this);if(!e)e="D";var b=-1;if(e.length>1)b=parseInt(e.slice(1),10);var c;switch(e.charAt(0)){case"d":case"D":c="n";if(b!==-1)d=g(""+d,b,true);if(this<0)d=-d;break;case"c":case"C":if(this<0)c=l[a.CurrencyNegativePattern];else c=m[a.CurrencyPositivePattern];if(b===-1)b=a.CurrencyDecimalDigits;d=i(Math.abs(this),b,a.CurrencyGroupSizes,a.CurrencyGroupSeparator,a.CurrencyDecimalSeparator);break;case"n":case"N":if(this<0)c=p[a.NumberNegativePattern];else c="n";if(b===-1)b=a.NumberDecimalDigits;d=i(Math.abs(this),b,a.NumberGroupSizes,a.NumberGroupSeparator,a.NumberDecimalSeparator);break;case"p":case"P":if(this<0)c=n[a.PercentNegativePattern];else c=o[a.PercentPositivePattern];if(b===-1)b=a.PercentDecimalDigits;d=i(Math.abs(this)*100,b,a.PercentGroupSizes,a.PercentGroupSeparator,a.PercentDecimalSeparator);break;default:throw Error.format(Sys.Res.formatBadFormatSpecifier)}var k=/n|\$|-|%/g,f="";for(;true;){var q=k.lastIndex,h=k.exec(c);f+=c.slice(q,h?h.index:c.length);if(!h)break;switch(h[0]){case"n":f+=d;break;case"$":f+=a.CurrencySymbol;break;case"-":if(/[1-9]/.test(d))f+=a.NegativeSign;break;case"%":f+=a.PercentSymbol}}return f};Sys.CultureInfo=function(c,b,a){this.name=c;this.numberFormat=b;this.dateTimeFormat=a};Sys.CultureInfo.prototype={_getDateTimeFormats:function(){if(!this._dateTimeFormats){var a=this.dateTimeFormat;this._dateTimeFormats=[a.MonthDayPattern,a.YearMonthPattern,a.ShortDatePattern,a.ShortTimePattern,a.LongDatePattern,a.LongTimePattern,a.FullDateTimePattern,a.RFC1123Pattern,a.SortableDateTimePattern,a.UniversalSortableDateTimePattern]}return this._dateTimeFormats},_getIndex:function(c,d,e){var b=this._toUpper(c),a=Array.indexOf(d,b);if(a===-1)a=Array.indexOf(e,b);return a},_getMonthIndex:function(a){if(!this._upperMonths){this._upperMonths=this._toUpperArray(this.dateTimeFormat.MonthNames);this._upperMonthsGenitive=this._toUpperArray(this.dateTimeFormat.MonthGenitiveNames)}return this._getIndex(a,this._upperMonths,this._upperMonthsGenitive)},_getAbbrMonthIndex:function(a){if(!this._upperAbbrMonths){this._upperAbbrMonths=this._toUpperArray(this.dateTimeFormat.AbbreviatedMonthNames);this._upperAbbrMonthsGenitive=this._toUpperArray(this.dateTimeFormat.AbbreviatedMonthGenitiveNames)}return this._getIndex(a,this._upperAbbrMonths,this._upperAbbrMonthsGenitive)},_getDayIndex:function(a){if(!this._upperDays)this._upperDays=this._toUpperArray(this.dateTimeFormat.DayNames);return Array.indexOf(this._upperDays,this._toUpper(a))},_getAbbrDayIndex:function(a){if(!this._upperAbbrDays)this._upperAbbrDays=this._toUpperArray(this.dateTimeFormat.AbbreviatedDayNames);return Array.indexOf(this._upperAbbrDays,this._toUpper(a))},_toUpperArray:function(c){var b=[];for(var a=0,d=c.length;a<d;a++)b[a]=this._toUpper(c[a]);return b},_toUpper:function(a){return a.split("\u00a0").join(" ").toUpperCase()}};Sys.CultureInfo.registerClass("Sys.CultureInfo");Sys.CultureInfo._parse=function(a){var b=a.dateTimeFormat;if(b&&!b.eras)b.eras=a.eras;return new Sys.CultureInfo(a.name,a.numberFormat,b)};Sys.CultureInfo.InvariantCulture=Sys.CultureInfo._parse({"name":"","numberFormat":{"CurrencyDecimalDigits":2,"CurrencyDecimalSeparator":".","IsReadOnly":true,"CurrencyGroupSizes":[3],"NumberGroupSizes":[3],"PercentGroupSizes":[3],"CurrencyGroupSeparator":",","CurrencySymbol":"\u00a4","NaNSymbol":"NaN","CurrencyNegativePattern":0,"NumberNegativePattern":1,"PercentPositivePattern":0,"PercentNegativePattern":0,"NegativeInfinitySymbol":"-Infinity","NegativeSign":"-","NumberDecimalDigits":2,"NumberDecimalSeparator":".","NumberGroupSeparator":",","CurrencyPositivePattern":0,"PositiveInfinitySymbol":"Infinity","PositiveSign":"+","PercentDecimalDigits":2,"PercentDecimalSeparator":".","PercentGroupSeparator":",","PercentSymbol":"%","PerMilleSymbol":"\u2030","NativeDigits":["0","1","2","3","4","5","6","7","8","9"],"DigitSubstitution":1},"dateTimeFormat":{"AMDesignator":"AM","Calendar":{"MinSupportedDateTime":"@-62135568000000@","MaxSupportedDateTime":"@253402300799999@","AlgorithmType":1,"CalendarType":1,"Eras":[1],"TwoDigitYearMax":2029,"IsReadOnly":true},"DateSeparator":"/","FirstDayOfWeek":0,"CalendarWeekRule":0,"FullDateTimePattern":"dddd, dd MMMM yyyy HH:mm:ss","LongDatePattern":"dddd, dd MMMM yyyy","LongTimePattern":"HH:mm:ss","MonthDayPattern":"MMMM dd","PMDesignator":"PM","RFC1123Pattern":"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'","ShortDatePattern":"MM/dd/yyyy","ShortTimePattern":"HH:mm","SortableDateTimePattern":"yyyy'-'MM'-'dd'T'HH':'mm':'ss","TimeSeparator":":","UniversalSortableDateTimePattern":"yyyy'-'MM'-'dd HH':'mm':'ss'Z'","YearMonthPattern":"yyyy MMMM","AbbreviatedDayNames":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"ShortestDayNames":["Su","Mo","Tu","We","Th","Fr","Sa"],"DayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"AbbreviatedMonthNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"MonthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"IsReadOnly":true,"NativeCalendarName":"Gregorian Calendar","AbbreviatedMonthGenitiveNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"MonthGenitiveNames":["January","February","March","April","May","June","July","August","September","October","November","December",""]},"eras":[1,"A.D.",null,0]});if(typeof __cultureInfo==="object"){Sys.CultureInfo.CurrentCulture=Sys.CultureInfo._parse(__cultureInfo);delete __cultureInfo}else Sys.CultureInfo.CurrentCulture=Sys.CultureInfo._parse({"name":"en-US","numberFormat":{"CurrencyDecimalDigits":2,"CurrencyDecimalSeparator":".","IsReadOnly":false,"CurrencyGroupSizes":[3],"NumberGroupSizes":[3],"PercentGroupSizes":[3],"CurrencyGroupSeparator":",","CurrencySymbol":"$","NaNSymbol":"NaN","CurrencyNegativePattern":0,"NumberNegativePattern":1,"PercentPositivePattern":0,"PercentNegativePattern":0,"NegativeInfinitySymbol":"-Infinity","NegativeSign":"-","NumberDecimalDigits":2,"NumberDecimalSeparator":".","NumberGroupSeparator":",","CurrencyPositivePattern":0,"PositiveInfinitySymbol":"Infinity","PositiveSign":"+","PercentDecimalDigits":2,"PercentDecimalSeparator":".","PercentGroupSeparator":",","PercentSymbol":"%","PerMilleSymbol":"\u2030","NativeDigits":["0","1","2","3","4","5","6","7","8","9"],"DigitSubstitution":1},"dateTimeFormat":{"AMDesignator":"AM","Calendar":{"MinSupportedDateTime":"@-62135568000000@","MaxSupportedDateTime":"@253402300799999@","AlgorithmType":1,"CalendarType":1,"Eras":[1],"TwoDigitYearMax":2029,"IsReadOnly":false},"DateSeparator":"/","FirstDayOfWeek":0,"CalendarWeekRule":0,"FullDateTimePattern":"dddd, MMMM dd, yyyy h:mm:ss tt","LongDatePattern":"dddd, MMMM dd, yyyy","LongTimePattern":"h:mm:ss tt","MonthDayPattern":"MMMM dd","PMDesignator":"PM","RFC1123Pattern":"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'","ShortDatePattern":"M/d/yyyy","ShortTimePattern":"h:mm tt","SortableDateTimePattern":"yyyy'-'MM'-'dd'T'HH':'mm':'ss","TimeSeparator":":","UniversalSortableDateTimePattern":"yyyy'-'MM'-'dd HH':'mm':'ss'Z'","YearMonthPattern":"MMMM, yyyy","AbbreviatedDayNames":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"ShortestDayNames":["Su","Mo","Tu","We","Th","Fr","Sa"],"DayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"AbbreviatedMonthNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"MonthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"IsReadOnly":false,"NativeCalendarName":"Gregorian Calendar","AbbreviatedMonthGenitiveNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"MonthGenitiveNames":["January","February","March","April","May","June","July","August","September","October","November","December",""]},"eras":[1,"A.D.",null,0]});Type.registerNamespace("Sys.Serialization");Sys.Serialization.JavaScriptSerializer=function(){};Sys.Serialization.JavaScriptSerializer.registerClass("Sys.Serialization.JavaScriptSerializer");Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs=[];Sys.Serialization.JavaScriptSerializer._charsToEscape=[];Sys.Serialization.JavaScriptSerializer._dateRegEx=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"',"g");Sys.Serialization.JavaScriptSerializer._escapeChars={};Sys.Serialization.JavaScriptSerializer._escapeRegEx=new RegExp('["\\\\\\x00-\\x1F]',"i");Sys.Serialization.JavaScriptSerializer._escapeRegExGlobal=new RegExp('["\\\\\\x00-\\x1F]',"g");Sys.Serialization.JavaScriptSerializer._jsonRegEx=new RegExp("[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]","g");Sys.Serialization.JavaScriptSerializer._jsonStringRegEx=new RegExp('"(\\\\.|[^"\\\\])*"',"g");Sys.Serialization.JavaScriptSerializer._serverTypeFieldName="__type";Sys.Serialization.JavaScriptSerializer._init=function(){var c=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f"];Sys.Serialization.JavaScriptSerializer._charsToEscape[0]="\\";Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs["\\"]=new RegExp("\\\\","g");Sys.Serialization.JavaScriptSerializer._escapeChars["\\"]="\\\\";Sys.Serialization.JavaScriptSerializer._charsToEscape[1]='"';Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs['"']=new RegExp('"',"g");Sys.Serialization.JavaScriptSerializer._escapeChars['"']='\\"';for(var a=0;a<32;a++){var b=String.fromCharCode(a);Sys.Serialization.JavaScriptSerializer._charsToEscape[a+2]=b;Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs[b]=new RegExp(b,"g");Sys.Serialization.JavaScriptSerializer._escapeChars[b]=c[a]}};Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder=function(b,a){a.append(b.toString())};Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder=function(a,b){if(isFinite(a))b.append(String(a));else throw Error.invalidOperation(Sys.Res.cannotSerializeNonFiniteNumbers)};Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder=function(a,c){c.append('"');if(Sys.Serialization.JavaScriptSerializer._escapeRegEx.test(a)){if(Sys.Serialization.JavaScriptSerializer._charsToEscape.length===0)Sys.Serialization.JavaScriptSerializer._init();if(a.length<128)a=a.replace(Sys.Serialization.JavaScriptSerializer._escapeRegExGlobal,function(a){return Sys.Serialization.JavaScriptSerializer._escapeChars[a]});else for(var d=0;d<34;d++){var b=Sys.Serialization.JavaScriptSerializer._charsToEscape[d];if(a.indexOf(b)!==-1)if(Sys.Browser.agent===Sys.Browser.Opera||Sys.Browser.agent===Sys.Browser.FireFox)a=a.split(b).join(Sys.Serialization.JavaScriptSerializer._escapeChars[b]);else a=a.replace(Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs[b],Sys.Serialization.JavaScriptSerializer._escapeChars[b])}}c.append(a);c.append('"')};Sys.Serialization.JavaScriptSerializer._serializeWithBuilder=function(b,a,i,g){var c;switch(typeof b){case"object":if(b)if(Number.isInstanceOfType(b))Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder(b,a);else if(Boolean.isInstanceOfType(b))Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder(b,a);else if(String.isInstanceOfType(b))Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder(b,a);else if(Array.isInstanceOfType(b)){a.append("[");for(c=0;c<b.length;++c){if(c>0)a.append(",");Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(b[c],a,false,g)}a.append("]")}else{if(Date.isInstanceOfType(b)){a.append('"\\/Date(');a.append(b.getTime());a.append(')\\/"');break}var d=[],f=0;for(var e in b){if(e.startsWith("$"))continue;if(e===Sys.Serialization.JavaScriptSerializer._serverTypeFieldName&&f!==0){d[f++]=d[0];d[0]=e}else d[f++]=e}if(i)d.sort();a.append("{");var j=false;for(c=0;c<f;c++){var h=b[d[c]];if(typeof h!=="undefined"&&typeof h!=="function"){if(j)a.append(",");else j=true;Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(d[c],a,i,g);a.append(":");Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(h,a,i,g)}}a.append("}")}else a.append("null");break;case"number":Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder(b,a);break;case"string":Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder(b,a);break;case"boolean":Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder(b,a);break;default:a.append("null")}};Sys.Serialization.JavaScriptSerializer.serialize=function(b){var a=new Sys.StringBuilder;Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(b,a,false);return a.toString()};Sys.Serialization.JavaScriptSerializer.deserialize=function(data,secure){if(data.length===0)throw Error.argument("data",Sys.Res.cannotDeserializeEmptyString);try{var exp=data.replace(Sys.Serialization.JavaScriptSerializer._dateRegEx,"$1new Date($2)");if(secure&&Sys.Serialization.JavaScriptSerializer._jsonRegEx.test(exp.replace(Sys.Serialization.JavaScriptSerializer._jsonStringRegEx,"")))throw null;return eval("("+exp+")")}catch(a){throw Error.argument("data",Sys.Res.cannotDeserializeInvalidJson)}};Type.registerNamespace("Sys.UI");Sys.EventHandlerList=function(){this._list={}};Sys.EventHandlerList.prototype={_addHandler:function(b,a){Array.add(this._getEvent(b,true),a)},addHandler:function(b,a){this._addHandler(b,a)},_removeHandler:function(c,b){var a=this._getEvent(c);if(!a)return;Array.remove(a,b)},removeHandler:function(b,a){this._removeHandler(b,a)},getHandler:function(b){var a=this._getEvent(b);if(!a||a.length===0)return null;a=Array.clone(a);return function(c,d){for(var b=0,e=a.length;b<e;b++)a[b](c,d)}},_getEvent:function(a,b){if(!this._list[a]){if(!b)return null;this._list[a]=[]}return this._list[a]}};Sys.EventHandlerList.registerClass("Sys.EventHandlerList");Sys.CommandEventArgs=function(c,a,b){Sys.CommandEventArgs.initializeBase(this);this._commandName=c;this._commandArgument=a;this._commandSource=b};Sys.CommandEventArgs.prototype={_commandName:null,_commandArgument:null,_commandSource:null,get_commandName:function(){return this._commandName},get_commandArgument:function(){return this._commandArgument},get_commandSource:function(){return this._commandSource}};Sys.CommandEventArgs.registerClass("Sys.CommandEventArgs",Sys.CancelEventArgs);Sys.INotifyPropertyChange=function(){};Sys.INotifyPropertyChange.prototype={};Sys.INotifyPropertyChange.registerInterface("Sys.INotifyPropertyChange");Sys.PropertyChangedEventArgs=function(a){Sys.PropertyChangedEventArgs.initializeBase(this);this._propertyName=a};Sys.PropertyChangedEventArgs.prototype={get_propertyName:function(){return this._propertyName}};Sys.PropertyChangedEventArgs.registerClass("Sys.PropertyChangedEventArgs",Sys.EventArgs);Sys.INotifyDisposing=function(){};Sys.INotifyDisposing.prototype={};Sys.INotifyDisposing.registerInterface("Sys.INotifyDisposing");Sys.Component=function(){if(Sys.Application)Sys.Application.registerDisposableObject(this)};Sys.Component.prototype={_id:null,_initialized:false,_updating:false,get_events:function(){if(!this._events)this._events=new Sys.EventHandlerList;return this._events},get_id:function(){return this._id},set_id:function(a){this._id=a},get_isInitialized:function(){return this._initialized},get_isUpdating:function(){return this._updating},add_disposing:function(a){this.get_events().addHandler("disposing",a)},remove_disposing:function(a){this.get_events().removeHandler("disposing",a)},add_propertyChanged:function(a){this.get_events().addHandler("propertyChanged",a)},remove_propertyChanged:function(a){this.get_events().removeHandler("propertyChanged",a)},beginUpdate:function(){this._updating=true},dispose:function(){if(this._events){var a=this._events.getHandler("disposing");if(a)a(this,Sys.EventArgs.Empty)}delete this._events;Sys.Application.unregisterDisposableObject(this);Sys.Application.removeComponent(this)},endUpdate:function(){this._updating=false;if(!this._initialized)this.initialize();this.updated()},initialize:function(){this._initialized=true},raisePropertyChanged:function(b){if(!this._events)return;var a=this._events.getHandler("propertyChanged");if(a)a(this,new Sys.PropertyChangedEventArgs(b))},updated:function(){}};Sys.Component.registerClass("Sys.Component",null,Sys.IDisposable,Sys.INotifyPropertyChange,Sys.INotifyDisposing);function Sys$Component$_setProperties(a,i){var d,j=Object.getType(a),e=j===Object||j===Sys.UI.DomElement,h=Sys.Component.isInstanceOfType(a)&&!a.get_isUpdating();if(h)a.beginUpdate();for(var c in i){var b=i[c],f=e?null:a["get_"+c];if(e||typeof f!=="function"){var k=a[c];if(!b||typeof b!=="object"||e&&!k)a[c]=b;else Sys$Component$_setProperties(k,b)}else{var l=a["set_"+c];if(typeof l==="function")l.apply(a,[b]);else if(b instanceof Array){d=f.apply(a);for(var g=0,m=d.length,n=b.length;g<n;g++,m++)d[m]=b[g]}else if(typeof b==="object"&&Object.getType(b)===Object){d=f.apply(a);Sys$Component$_setProperties(d,b)}}}if(h)a.endUpdate()}function Sys$Component$_setReferences(c,b){for(var a in b){var e=c["set_"+a],d=$find(b[a]);e.apply(c,[d])}}var $create=Sys.Component.create=function(h,f,d,c,g){var a=g?new h(g):new h,b=Sys.Application,i=b.get_isCreatingComponents();a.beginUpdate();if(f)Sys$Component$_setProperties(a,f);if(d)for(var e in d)a["add_"+e](d[e]);if(a.get_id())b.addComponent(a);if(i){b._createdComponents[b._createdComponents.length]=a;if(c)b._addComponentToSecondPass(a,c);else a.endUpdate()}else{if(c)Sys$Component$_setReferences(a,c);a.endUpdate()}return a};Sys.UI.MouseButton=function(){throw Error.notImplemented()};Sys.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};Sys.UI.MouseButton.registerEnum("Sys.UI.MouseButton");Sys.UI.Key=function(){throw Error.notImplemented()};Sys.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};Sys.UI.Key.registerEnum("Sys.UI.Key");Sys.UI.Point=function(a,b){this.x=a;this.y=b};Sys.UI.Point.registerClass("Sys.UI.Point");Sys.UI.Bounds=function(c,d,b,a){this.x=c;this.y=d;this.height=a;this.width=b};Sys.UI.Bounds.registerClass("Sys.UI.Bounds");Sys.UI.DomEvent=function(e){var a=e,b=this.type=a.type.toLowerCase();this.rawEvent=a;this.altKey=a.altKey;if(typeof a.button!=="undefined")this.button=typeof a.which!=="undefined"?a.button:a.button===4?Sys.UI.MouseButton.middleButton:a.button===2?Sys.UI.MouseButton.rightButton:Sys.UI.MouseButton.leftButton;if(b==="keypress")this.charCode=a.charCode||a.keyCode;else if(a.keyCode&&a.keyCode===46)this.keyCode=127;else this.keyCode=a.keyCode;this.clientX=a.clientX;this.clientY=a.clientY;this.ctrlKey=a.ctrlKey;this.target=a.target?a.target:a.srcElement;if(!b.startsWith("key"))if(typeof a.offsetX!=="undefined"&&typeof a.offsetY!=="undefined"){this.offsetX=a.offsetX;this.offsetY=a.offsetY}else if(this.target&&this.target.nodeType!==3&&typeof a.clientX==="number"){var c=Sys.UI.DomElement.getLocation(this.target),d=Sys.UI.DomElement._getWindow(this.target);this.offsetX=(d.pageXOffset||0)+a.clientX-c.x;this.offsetY=(d.pageYOffset||0)+a.clientY-c.y}this.screenX=a.screenX;this.screenY=a.screenY;this.shiftKey=a.shiftKey};Sys.UI.DomEvent.prototype={preventDefault:function(){if(this.rawEvent.preventDefault)this.rawEvent.preventDefault();else if(window.event)this.rawEvent.returnValue=false},stopPropagation:function(){if(this.rawEvent.stopPropagation)this.rawEvent.stopPropagation();else if(window.event)this.rawEvent.cancelBubble=true}};Sys.UI.DomEvent.registerClass("Sys.UI.DomEvent");var $addHandler=Sys.UI.DomEvent.addHandler=function(a,d,e,g){if(!a._events)a._events={};var c=a._events[d];if(!c)a._events[d]=c=[];var b;if(a.addEventListener){b=function(b){return e.call(a,new Sys.UI.DomEvent(b))};a.addEventListener(d,b,false)}else if(a.attachEvent){b=function(){var b={};try{b=Sys.UI.DomElement._getWindow(a).event}catch(c){}return e.call(a,new Sys.UI.DomEvent(b))};a.attachEvent("on"+d,b)}c[c.length]={handler:e,browserHandler:b,autoRemove:g};if(g){var f=a.dispose;if(f!==Sys.UI.DomEvent._disposeHandlers){a.dispose=Sys.UI.DomEvent._disposeHandlers;if(typeof f!=="undefined")a._chainDispose=f}}},$addHandlers=Sys.UI.DomEvent.addHandlers=function(f,d,c,e){for(var b in d){var a=d[b];if(c)a=Function.createDelegate(c,a);$addHandler(f,b,a,e||false)}},$clearHandlers=Sys.UI.DomEvent.clearHandlers=function(a){Sys.UI.DomEvent._clearHandlers(a,false)};Sys.UI.DomEvent._clearHandlers=function(a,g){if(a._events){var e=a._events;for(var b in e){var d=e[b];for(var c=d.length-1;c>=0;c--){var f=d[c];if(!g||f.autoRemove)$removeHandler(a,b,f.handler)}}a._events=null}};Sys.UI.DomEvent._disposeHandlers=function(){Sys.UI.DomEvent._clearHandlers(this,true);var b=this._chainDispose,a=typeof b;if(a!=="undefined"){this.dispose=b;this._chainDispose=null;if(a==="function")this.dispose()}};var $removeHandler=Sys.UI.DomEvent.removeHandler=function(b,a,c){Sys.UI.DomEvent._removeHandler(b,a,c)};Sys.UI.DomEvent._removeHandler=function(a,e,f){var d=null,c=a._events[e];for(var b=0,g=c.length;b<g;b++)if(c[b].handler===f){d=c[b].browserHandler;break}if(a.removeEventListener)a.removeEventListener(e,d,false);else if(a.detachEvent)a.detachEvent("on"+e,d);c.splice(b,1)};Sys.UI.DomElement=function(){};Sys.UI.DomElement.registerClass("Sys.UI.DomElement");Sys.UI.DomElement.addCssClass=function(a,b){if(!Sys.UI.DomElement.containsCssClass(a,b))if(a.className==="")a.className=b;else a.className+=" "+b};Sys.UI.DomElement.containsCssClass=function(b,a){return Array.contains(b.className.split(" "),a)};Sys.UI.DomElement.getBounds=function(a){var b=Sys.UI.DomElement.getLocation(a);return new Sys.UI.Bounds(b.x,b.y,a.offsetWidth||0,a.offsetHeight||0)};var $get=Sys.UI.DomElement.getElementById=function(f,e){if(!e)return document.getElementById(f);if(e.getElementById)return e.getElementById(f);var c=[],d=e.childNodes;for(var b=0;b<d.length;b++){var a=d[b];if(a.nodeType==1)c[c.length]=a}while(c.length){a=c.shift();if(a.id==f)return a;d=a.childNodes;for(b=0;b<d.length;b++){a=d[b];if(a.nodeType==1)c[c.length]=a}}return null};if(document.documentElement.getBoundingClientRect)Sys.UI.DomElement.getLocation=function(b){if(b.self||b.nodeType===9||b===document.documentElement||b.parentNode===b.ownerDocument.documentElement)return new Sys.UI.Point(0,0);var f=b.getBoundingClientRect();if(!f)return new Sys.UI.Point(0,0);var k,e=b.ownerDocument.documentElement,c=Math.round(f.left)+e.scrollLeft,d=Math.round(f.top)+e.scrollTop;if(Sys.Browser.agent===Sys.Browser.InternetExplorer){try{var g=b.ownerDocument.parentWindow.frameElement||null;if(g){var h=g.frameBorder==="0"||g.frameBorder==="no"?2:0;c+=h;d+=h}}catch(l){}if(Sys.Browser.version===7&&!document.documentMode){var i=document.body,j=i.getBoundingClientRect(),a=(j.right-j.left)/i.clientWidth;a=Math.round(a*100);a=(a-a%5)/100;if(!isNaN(a)&&a!==1){c=Math.round(c/a);d=Math.round(d/a)}}if((document.documentMode||0)<8){c-=e.clientLeft;d-=e.clientTop}}return new Sys.UI.Point(c,d)};else if(Sys.Browser.agent===Sys.Browser.Safari)Sys.UI.DomElement.getLocation=function(c){if(c.window&&c.window===c||c.nodeType===9)return new Sys.UI.Point(0,0);var d=0,e=0,a,j=null,g=null,b;for(a=c;a;j=a,(g=b,a=a.offsetParent)){b=Sys.UI.DomElement._getCurrentStyle(a);var f=a.tagName?a.tagName.toUpperCase():null;if((a.offsetLeft||a.offsetTop)&&(f!=="BODY"||(!g||g.position!=="absolute"))){d+=a.offsetLeft;e+=a.offsetTop}if(j&&Sys.Browser.version>=3){d+=parseInt(b.borderLeftWidth);e+=parseInt(b.borderTopWidth)}}b=Sys.UI.DomElement._getCurrentStyle(c);var h=b?b.position:null;if(!h||h!=="absolute")for(a=c.parentNode;a;a=a.parentNode){f=a.tagName?a.tagName.toUpperCase():null;if(f!=="BODY"&&f!=="HTML"&&(a.scrollLeft||a.scrollTop)){d-=a.scrollLeft||0;e-=a.scrollTop||0}b=Sys.UI.DomElement._getCurrentStyle(a);var i=b?b.position:null;if(i&&i==="absolute")break}return new Sys.UI.Point(d,e)};else Sys.UI.DomElement.getLocation=function(d){if(d.window&&d.window===d||d.nodeType===9)return new Sys.UI.Point(0,0);var e=0,f=0,a,i=null,g=null,b=null;for(a=d;a;i=a,(g=b,a=a.offsetParent)){var c=a.tagName?a.tagName.toUpperCase():null;b=Sys.UI.DomElement._getCurrentStyle(a);if((a.offsetLeft||a.offsetTop)&&!(c==="BODY"&&(!g||g.position!=="absolute"))){e+=a.offsetLeft;f+=a.offsetTop}if(i!==null&&b){if(c!=="TABLE"&&c!=="TD"&&c!=="HTML"){e+=parseInt(b.borderLeftWidth)||0;f+=parseInt(b.borderTopWidth)||0}if(c==="TABLE"&&(b.position==="relative"||b.position==="absolute")){e+=parseInt(b.marginLeft)||0;f+=parseInt(b.marginTop)||0}}}b=Sys.UI.DomElement._getCurrentStyle(d);var h=b?b.position:null;if(!h||h!=="absolute")for(a=d.parentNode;a;a=a.parentNode){c=a.tagName?a.tagName.toUpperCase():null;if(c!=="BODY"&&c!=="HTML"&&(a.scrollLeft||a.scrollTop)){e-=a.scrollLeft||0;f-=a.scrollTop||0;b=Sys.UI.DomElement._getCurrentStyle(a);if(b){e+=parseInt(b.borderLeftWidth)||0;f+=parseInt(b.borderTopWidth)||0}}}return new Sys.UI.Point(e,f)};Sys.UI.DomElement.isDomElement=function(a){return Sys._isDomElement(a)};Sys.UI.DomElement.removeCssClass=function(d,c){var a=" "+d.className+" ",b=a.indexOf(" "+c+" ");if(b>=0)d.className=(a.substr(0,b)+" "+a.substring(b+c.length+1,a.length)).trim()};Sys.UI.DomElement.resolveElement=function(b,c){var a=b;if(!a)return null;if(typeof a==="string")a=Sys.UI.DomElement.getElementById(a,c);return a};Sys.UI.DomElement.raiseBubbleEvent=function(c,d){var b=c;while(b){var a=b.control;if(a&&a.onBubbleEvent&&a.raiseBubbleEvent){Sys.UI.DomElement._raiseBubbleEventFromControl(a,c,d);return}b=b.parentNode}};Sys.UI.DomElement._raiseBubbleEventFromControl=function(a,b,c){if(!a.onBubbleEvent(b,c))a._raiseBubbleEvent(b,c)};Sys.UI.DomElement.setLocation=function(b,c,d){var a=b.style;a.position="absolute";a.left=c+"px";a.top=d+"px"};Sys.UI.DomElement.toggleCssClass=function(b,a){if(Sys.UI.DomElement.containsCssClass(b,a))Sys.UI.DomElement.removeCssClass(b,a);else Sys.UI.DomElement.addCssClass(b,a)};Sys.UI.DomElement.getVisibilityMode=function(a){return a._visibilityMode===Sys.UI.VisibilityMode.hide?Sys.UI.VisibilityMode.hide:Sys.UI.VisibilityMode.collapse};Sys.UI.DomElement.setVisibilityMode=function(a,b){Sys.UI.DomElement._ensureOldDisplayMode(a);if(a._visibilityMode!==b){a._visibilityMode=b;if(Sys.UI.DomElement.getVisible(a)===false)if(a._visibilityMode===Sys.UI.VisibilityMode.hide)a.style.display=a._oldDisplayMode;else a.style.display="none";a._visibilityMode=b}};Sys.UI.DomElement.getVisible=function(b){var a=b.currentStyle||Sys.UI.DomElement._getCurrentStyle(b);if(!a)return true;return a.visibility!=="hidden"&&a.display!=="none"};Sys.UI.DomElement.setVisible=function(a,b){if(b!==Sys.UI.DomElement.getVisible(a)){Sys.UI.DomElement._ensureOldDisplayMode(a);a.style.visibility=b?"visible":"hidden";if(b||a._visibilityMode===Sys.UI.VisibilityMode.hide)a.style.display=a._oldDisplayMode;else a.style.display="none"}};Sys.UI.DomElement._ensureOldDisplayMode=function(a){if(!a._oldDisplayMode){var b=a.currentStyle||Sys.UI.DomElement._getCurrentStyle(a);a._oldDisplayMode=b?b.display:null;if(!a._oldDisplayMode||a._oldDisplayMode==="none")switch(a.tagName.toUpperCase()){case"DIV":case"P":case"ADDRESS":case"BLOCKQUOTE":case"BODY":case"COL":case"COLGROUP":case"DD":case"DL":case"DT":case"FIELDSET":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HR":case"IFRAME":case"LEGEND":case"OL":case"PRE":case"TABLE":case"TD":case"TH":case"TR":case"UL":a._oldDisplayMode="block";break;case"LI":a._oldDisplayMode="list-item";break;default:a._oldDisplayMode="inline"}}};Sys.UI.DomElement._getWindow=function(a){var b=a.ownerDocument||a.document||a;return b.defaultView||b.parentWindow};Sys.UI.DomElement._getCurrentStyle=function(a){if(a.nodeType===3)return null;var c=Sys.UI.DomElement._getWindow(a);if(a.documentElement)a=a.documentElement;var b=c&&a!==c&&c.getComputedStyle?c.getComputedStyle(a,null):a.currentStyle||a.style;if(!b&&Sys.Browser.agent===Sys.Browser.Safari&&a.style){var g=a.style.display,f=a.style.position;a.style.position="absolute";a.style.display="block";var e=c.getComputedStyle(a,null);a.style.display=g;a.style.position=f;b={};for(var d in e)b[d]=e[d];b.display="none"}return b};Sys.IContainer=function(){};Sys.IContainer.prototype={};Sys.IContainer.registerInterface("Sys.IContainer");Sys.ApplicationLoadEventArgs=function(b,a){Sys.ApplicationLoadEventArgs.initializeBase(this);this._components=b;this._isPartialLoad=a};Sys.ApplicationLoadEventArgs.prototype={get_components:function(){return this._components},get_isPartialLoad:function(){return this._isPartialLoad}};Sys.ApplicationLoadEventArgs.registerClass("Sys.ApplicationLoadEventArgs",Sys.EventArgs);Sys._Application=function(){Sys._Application.initializeBase(this);this._disposableObjects=[];this._components={};this._createdComponents=[];this._secondPassComponents=[];this._unloadHandlerDelegate=Function.createDelegate(this,this._unloadHandler);Sys.UI.DomEvent.addHandler(window,"unload",this._unloadHandlerDelegate);this._domReady()};Sys._Application.prototype={_creatingComponents:false,_disposing:false,_deleteCount:0,get_isCreatingComponents:function(){return this._creatingComponents},get_isDisposing:function(){return this._disposing},add_init:function(a){if(this._initialized)a(this,Sys.EventArgs.Empty);else this.get_events().addHandler("init",a)},remove_init:function(a){this.get_events().removeHandler("init",a)},add_load:function(a){this.get_events().addHandler("load",a)},remove_load:function(a){this.get_events().removeHandler("load",a)},add_unload:function(a){this.get_events().addHandler("unload",a)},remove_unload:function(a){this.get_events().removeHandler("unload",a)},addComponent:function(a){this._components[a.get_id()]=a},beginCreateComponents:function(){this._creatingComponents=true},dispose:function(){if(!this._disposing){this._disposing=true;if(this._timerCookie){window.clearTimeout(this._timerCookie);delete this._timerCookie}if(this._endRequestHandler){Sys.WebForms.PageRequestManager.getInstance().remove_endRequest(this._endRequestHandler);delete this._endRequestHandler}if(this._beginRequestHandler){Sys.WebForms.PageRequestManager.getInstance().remove_beginRequest(this._beginRequestHandler);delete this._beginRequestHandler}if(window.pageUnload)window.pageUnload(this,Sys.EventArgs.Empty);var c=this.get_events().getHandler("unload");if(c)c(this,Sys.EventArgs.Empty);var b=Array.clone(this._disposableObjects);for(var a=0,f=b.length;a<f;a++){var d=b[a];if(typeof d!=="undefined")d.dispose()}Array.clear(this._disposableObjects);Sys.UI.DomEvent.removeHandler(window,"unload",this._unloadHandlerDelegate);if(Sys._ScriptLoader){var e=Sys._ScriptLoader.getInstance();if(e)e.dispose()}Sys._Application.callBaseMethod(this,"dispose")}},disposeElement:function(c,j){if(c.nodeType===1){var b,h=c.getElementsByTagName("*"),g=h.length,i=new Array(g);for(b=0;b<g;b++)i[b]=h[b];for(b=g-1;b>=0;b--){var d=i[b],f=d.dispose;if(f&&typeof f==="function")d.dispose();else{var e=d.control;if(e&&typeof e.dispose==="function")e.dispose()}var a=d._behaviors;if(a)this._disposeComponents(a);a=d._components;if(a){this._disposeComponents(a);d._components=null}}if(!j){var f=c.dispose;if(f&&typeof f==="function")c.dispose();else{var e=c.control;if(e&&typeof e.dispose==="function")e.dispose()}var a=c._behaviors;if(a)this._disposeComponents(a);a=c._components;if(a){this._disposeComponents(a);c._components=null}}}},endCreateComponents:function(){var b=this._secondPassComponents;for(var a=0,d=b.length;a<d;a++){var c=b[a].component;Sys$Component$_setReferences(c,b[a].references);c.endUpdate()}this._secondPassComponents=[];this._creatingComponents=false},findComponent:function(b,a){return a?Sys.IContainer.isInstanceOfType(a)?a.findComponent(b):a[b]||null:Sys.Application._components[b]||null},getComponents:function(){var a=[],b=this._components;for(var c in b)a[a.length]=b[c];return a},initialize:function(){if(!this.get_isInitialized()&&!this._disposing){Sys._Application.callBaseMethod(this,"initialize");this._raiseInit();if(this.get_stateString){if(Sys.WebForms&&Sys.WebForms.PageRequestManager){this._beginRequestHandler=Function.createDelegate(this,this._onPageRequestManagerBeginRequest);Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(this._beginRequestHandler);this._endRequestHandler=Function.createDelegate(this,this._onPageRequestManagerEndRequest);Sys.WebForms.PageRequestManager.getInstance().add_endRequest(this._endRequestHandler)}var a=this.get_stateString();if(a!==this._currentEntry)this._navigate(a);else this._ensureHistory()}this.raiseLoad()}},notifyScriptLoaded:function(){},registerDisposableObject:function(b){if(!this._disposing){var a=this._disposableObjects,c=a.length;a[c]=b;b.__msdisposeindex=c}},raiseLoad:function(){var b=this.get_events().getHandler("load"),a=new Sys.ApplicationLoadEventArgs(Array.clone(this._createdComponents),!!this._loaded);this._loaded=true;if(b)b(this,a);if(window.pageLoad)window.pageLoad(this,a);this._createdComponents=[]},removeComponent:function(b){var a=b.get_id();if(a)delete this._components[a]},unregisterDisposableObject:function(a){if(!this._disposing){var e=a.__msdisposeindex;if(typeof e==="number"){var b=this._disposableObjects;delete b[e];delete a.__msdisposeindex;if(++this._deleteCount>1000){var c=[];for(var d=0,f=b.length;d<f;d++){a=b[d];if(typeof a!=="undefined"){a.__msdisposeindex=c.length;c.push(a)}}this._disposableObjects=c;this._deleteCount=0}}}},_addComponentToSecondPass:function(b,a){this._secondPassComponents[this._secondPassComponents.length]={component:b,references:a}},_disposeComponents:function(a){if(a)for(var b=a.length-1;b>=0;b--){var c=a[b];if(typeof c.dispose==="function")c.dispose()}},_domReady:function(){var a,g,f=this;function b(){f.initialize()}var c=function(){Sys.UI.DomEvent.removeHandler(window,"load",c);b()};Sys.UI.DomEvent.addHandler(window,"load",c);if(document.addEventListener)try{document.addEventListener("DOMContentLoaded",a=function(){document.removeEventListener("DOMContentLoaded",a,false);b()},false)}catch(h){}else if(document.attachEvent)if(window==window.top&&document.documentElement.doScroll){var e,d=document.createElement("div");a=function(){try{d.doScroll("left")}catch(c){e=window.setTimeout(a,0);return}d=null;b()};a()}else document.attachEvent("onreadystatechange",a=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",a);b()}})},_raiseInit:function(){var a=this.get_events().getHandler("init");if(a){this.beginCreateComponents();a(this,Sys.EventArgs.Empty);this.endCreateComponents()}},_unloadHandler:function(){this.dispose()}};Sys._Application.registerClass("Sys._Application",Sys.Component,Sys.IContainer);Sys.Application=new Sys._Application;var $find=Sys.Application.findComponent;Sys.UI.Behavior=function(b){Sys.UI.Behavior.initializeBase(this);this._element=b;var a=b._behaviors;if(!a)b._behaviors=[this];else a[a.length]=this};Sys.UI.Behavior.prototype={_name:null,get_element:function(){return this._element},get_id:function(){var a=Sys.UI.Behavior.callBaseMethod(this,"get_id");if(a)return a;if(!this._element||!this._element.id)return"";return this._element.id+"$"+this.get_name()},get_name:function(){if(this._name)return this._name;var a=Object.getTypeName(this),b=a.lastIndexOf(".");if(b!==-1)a=a.substr(b+1);if(!this.get_isInitialized())this._name=a;return a},set_name:function(a){this._name=a},initialize:function(){Sys.UI.Behavior.callBaseMethod(this,"initialize");var a=this.get_name();if(a)this._element[a]=this},dispose:function(){Sys.UI.Behavior.callBaseMethod(this,"dispose");var a=this._element;if(a){var c=this.get_name();if(c)a[c]=null;var b=a._behaviors;Array.remove(b,this);if(b.length===0)a._behaviors=null;delete this._element}}};Sys.UI.Behavior.registerClass("Sys.UI.Behavior",Sys.Component);Sys.UI.Behavior.getBehaviorByName=function(b,c){var a=b[c];return a&&Sys.UI.Behavior.isInstanceOfType(a)?a:null};Sys.UI.Behavior.getBehaviors=function(a){if(!a._behaviors)return[];return Array.clone(a._behaviors)};Sys.UI.Behavior.getBehaviorsByType=function(d,e){var a=d._behaviors,c=[];if(a)for(var b=0,f=a.length;b<f;b++)if(e.isInstanceOfType(a[b]))c[c.length]=a[b];return c};Sys.UI.VisibilityMode=function(){throw Error.notImplemented()};Sys.UI.VisibilityMode.prototype={hide:0,collapse:1};Sys.UI.VisibilityMode.registerEnum("Sys.UI.VisibilityMode");Sys.UI.Control=function(a){Sys.UI.Control.initializeBase(this);this._element=a;a.control=this;var b=this.get_role();if(b)a.setAttribute("role",b)};Sys.UI.Control.prototype={_parent:null,_visibilityMode:Sys.UI.VisibilityMode.hide,get_element:function(){return this._element},get_id:function(){if(!this._element)return"";return this._element.id},set_id:function(){throw Error.invalidOperation(Sys.Res.cantSetId)},get_parent:function(){if(this._parent)return this._parent;if(!this._element)return null;var a=this._element.parentNode;while(a){if(a.control)return a.control;a=a.parentNode}return null},set_parent:function(a){this._parent=a},get_role:function(){return null},get_visibilityMode:function(){return Sys.UI.DomElement.getVisibilityMode(this._element)},set_visibilityMode:function(a){Sys.UI.DomElement.setVisibilityMode(this._element,a)},get_visible:function(){return Sys.UI.DomElement.getVisible(this._element)},set_visible:function(a){Sys.UI.DomElement.setVisible(this._element,a)},addCssClass:function(a){Sys.UI.DomElement.addCssClass(this._element,a)},dispose:function(){Sys.UI.Control.callBaseMethod(this,"dispose");if(this._element){this._element.control=null;delete this._element}if(this._parent)delete this._parent},onBubbleEvent:function(){return false},raiseBubbleEvent:function(a,b){this._raiseBubbleEvent(a,b)},_raiseBubbleEvent:function(b,c){var a=this.get_parent();while(a){if(a.onBubbleEvent(b,c))return;a=a.get_parent()}},removeCssClass:function(a){Sys.UI.DomElement.removeCssClass(this._element,a)},toggleCssClass:function(a){Sys.UI.DomElement.toggleCssClass(this._element,a)}};Sys.UI.Control.registerClass("Sys.UI.Control",Sys.Component);Sys.HistoryEventArgs=function(a){Sys.HistoryEventArgs.initializeBase(this);this._state=a};Sys.HistoryEventArgs.prototype={get_state:function(){return this._state}};Sys.HistoryEventArgs.registerClass("Sys.HistoryEventArgs",Sys.EventArgs);Sys.Application._appLoadHandler=null;Sys.Application._beginRequestHandler=null;Sys.Application._clientId=null;Sys.Application._currentEntry="";Sys.Application._endRequestHandler=null;Sys.Application._history=null;Sys.Application._enableHistory=false;Sys.Application._historyFrame=null;Sys.Application._historyInitialized=false;Sys.Application._historyPointIsNew=false;Sys.Application._ignoreTimer=false;Sys.Application._initialState=null;Sys.Application._state={};Sys.Application._timerCookie=0;Sys.Application._timerHandler=null;Sys.Application._uniqueId=null;Sys._Application.prototype.get_stateString=function(){var a=null;if(Sys.Browser.agent===Sys.Browser.Firefox){var c=window.location.href,b=c.indexOf("#");if(b!==-1)a=c.substring(b+1);else a="";return a}else a=window.location.hash;if(a.length>0&&a.charAt(0)==="#")a=a.substring(1);return a};Sys._Application.prototype.get_enableHistory=function(){return this._enableHistory};Sys._Application.prototype.set_enableHistory=function(a){this._enableHistory=a};Sys._Application.prototype.add_navigate=function(a){this.get_events().addHandler("navigate",a)};Sys._Application.prototype.remove_navigate=function(a){this.get_events().removeHandler("navigate",a)};Sys._Application.prototype.addHistoryPoint=function(c,f){this._ensureHistory();var b=this._state;for(var a in c){var d=c[a];if(d===null){if(typeof b[a]!=="undefined")delete b[a]}else b[a]=d}var e=this._serializeState(b);this._historyPointIsNew=true;this._setState(e,f);this._raiseNavigate()};Sys._Application.prototype.setServerId=function(a,b){this._clientId=a;this._uniqueId=b};Sys._Application.prototype.setServerState=function(a){this._ensureHistory();this._state.__s=a;this._updateHiddenField(a)};Sys._Application.prototype._deserializeState=function(a){var e={};a=a||"";var b=a.indexOf("&&");if(b!==-1&&b+2<a.length){e.__s=a.substr(b+2);a=a.substr(0,b)}var g=a.split("&");for(var f=0,j=g.length;f<j;f++){var d=g[f],c=d.indexOf("=");if(c!==-1&&c+1<d.length){var i=d.substr(0,c),h=d.substr(c+1);e[i]=decodeURIComponent(h)}}return e};Sys._Application.prototype._enableHistoryInScriptManager=function(){this._enableHistory=true};Sys._Application.prototype._ensureHistory=function(){if(!this._historyInitialized&&this._enableHistory){if(Sys.Browser.agent===Sys.Browser.InternetExplorer&&Sys.Browser.documentMode<8){this._historyFrame=document.getElementById("__historyFrame");this._ignoreIFrame=true}this._timerHandler=Function.createDelegate(this,this._onIdle);this._timerCookie=window.setTimeout(this._timerHandler,100);try{this._initialState=this._deserializeState(this.get_stateString())}catch(a){}this._historyInitialized=true}};Sys._Application.prototype._navigate=function(c){this._ensureHistory();var b=this._deserializeState(c);if(this._uniqueId){var d=this._state.__s||"",a=b.__s||"";if(a!==d){this._updateHiddenField(a);__doPostBack(this._uniqueId,a);this._state=b;return}}this._setState(c);this._state=b;this._raiseNavigate()};Sys._Application.prototype._onIdle=function(){delete this._timerCookie;var a=this.get_stateString();if(a!==this._currentEntry){if(!this._ignoreTimer){this._historyPointIsNew=false;this._navigate(a)}}else this._ignoreTimer=false;this._timerCookie=window.setTimeout(this._timerHandler,100)};Sys._Application.prototype._onIFrameLoad=function(a){this._ensureHistory();if(!this._ignoreIFrame){this._historyPointIsNew=false;this._navigate(a)}this._ignoreIFrame=false};Sys._Application.prototype._onPageRequestManagerBeginRequest=function(){this._ignoreTimer=true;this._originalTitle=document.title};Sys._Application.prototype._onPageRequestManagerEndRequest=function(g,f){var d=f.get_dataItems()[this._clientId],c=this._originalTitle;this._originalTitle=null;var b=document.getElementById("__EVENTTARGET");if(b&&b.value===this._uniqueId)b.value="";if(typeof d!=="undefined"){this.setServerState(d);this._historyPointIsNew=true}else this._ignoreTimer=false;var a=this._serializeState(this._state);if(a!==this._currentEntry){this._ignoreTimer=true;if(typeof c==="string"){if(Sys.Browser.agent!==Sys.Browser.InternetExplorer||Sys.Browser.version>7){var e=document.title;document.title=c;this._setState(a);document.title=e}else this._setState(a);this._raiseNavigate()}else{this._setState(a);this._raiseNavigate()}}};Sys._Application.prototype._raiseNavigate=function(){var d=this._historyPointIsNew,c=this.get_events().getHandler("navigate"),b={};for(var a in this._state)if(a!=="__s")b[a]=this._state[a];var e=new Sys.HistoryEventArgs(b);if(c)c(this,e);if(!d){var f;try{if(Sys.Browser.agent===Sys.Browser.Firefox&&window.location.hash&&(!window.frameElement||window.top.location.hash))Sys.Browser.version<3.5?window.history.go(0):(location.hash=this.get_stateString())}catch(g){}}};Sys._Application.prototype._serializeState=function(d){var b=[];for(var a in d){var e=d[a];if(a==="__s")var c=e;else b[b.length]=a+"="+encodeURIComponent(e)}return b.join("&")+(c?"&&"+c:"")};Sys._Application.prototype._setState=function(a,b){if(this._enableHistory){a=a||"";if(a!==this._currentEntry){if(window.theForm){var d=window.theForm.action,e=d.indexOf("#");window.theForm.action=(e!==-1?d.substring(0,e):d)+"#"+a}if(this._historyFrame&&this._historyPointIsNew){this._ignoreIFrame=true;var c=this._historyFrame.contentWindow.document;c.open("javascript:'<html></html>'");c.write("<html><head><title>"+(b||document.title)+"</title><scri"+'pt type="text/javascript">parent.Sys.Application._onIFrameLoad('+Sys.Serialization.JavaScriptSerializer.serialize(a)+");</scri"+"pt></head><body></body></html>");c.close()}this._ignoreTimer=false;this._currentEntry=a;if(this._historyFrame||this._historyPointIsNew){var f=this.get_stateString();if(a!==f){window.location.hash=a;this._currentEntry=this.get_stateString();if(typeof b!=="undefined"&&b!==null)document.title=b}}this._historyPointIsNew=false}}};Sys._Application.prototype._updateHiddenField=function(b){if(this._clientId){var a=document.getElementById(this._clientId);if(a)a.value=b}};if(!window.XMLHttpRequest)window.XMLHttpRequest=function(){var b=["Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP"];for(var a=0,c=b.length;a<c;a++)try{return new ActiveXObject(b[a])}catch(d){}return null};Type.registerNamespace("Sys.Net");Sys.Net.WebRequestExecutor=function(){this._webRequest=null;this._resultObject=null};Sys.Net.WebRequestExecutor.prototype={get_webRequest:function(){return this._webRequest},_set_webRequest:function(a){this._webRequest=a},get_started:function(){throw Error.notImplemented()},get_responseAvailable:function(){throw Error.notImplemented()},get_timedOut:function(){throw Error.notImplemented()},get_aborted:function(){throw Error.notImplemented()},get_responseData:function(){throw Error.notImplemented()},get_statusCode:function(){throw Error.notImplemented()},get_statusText:function(){throw Error.notImplemented()},get_xml:function(){throw Error.notImplemented()},get_object:function(){if(!this._resultObject)this._resultObject=Sys.Serialization.JavaScriptSerializer.deserialize(this.get_responseData());return this._resultObject},executeRequest:function(){throw Error.notImplemented()},abort:function(){throw Error.notImplemented()},getResponseHeader:function(){throw Error.notImplemented()},getAllResponseHeaders:function(){throw Error.notImplemented()}};Sys.Net.WebRequestExecutor.registerClass("Sys.Net.WebRequestExecutor");Sys.Net.XMLDOM=function(d){if(!window.DOMParser){var c=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"];for(var b=0,f=c.length;b<f;b++)try{var a=new ActiveXObject(c[b]);a.async=false;a.loadXML(d);a.setProperty("SelectionLanguage","XPath");return a}catch(g){}}else try{var e=new window.DOMParser;return e.parseFromString(d,"text/xml")}catch(g){}return null};Sys.Net.XMLHttpExecutor=function(){Sys.Net.XMLHttpExecutor.initializeBase(this);var a=this;this._xmlHttpRequest=null;this._webRequest=null;this._responseAvailable=false;this._timedOut=false;this._timer=null;this._aborted=false;this._started=false;this._onReadyStateChange=function(){if(a._xmlHttpRequest.readyState===4){try{if(typeof a._xmlHttpRequest.status==="undefined")return}catch(b){return}a._clearTimer();a._responseAvailable=true;try{a._webRequest.completed(Sys.EventArgs.Empty)}finally{if(a._xmlHttpRequest!=null){a._xmlHttpRequest.onreadystatechange=Function.emptyMethod;a._xmlHttpRequest=null}}}};this._clearTimer=function(){if(a._timer!=null){window.clearTimeout(a._timer);a._timer=null}};this._onTimeout=function(){if(!a._responseAvailable){a._clearTimer();a._timedOut=true;a._xmlHttpRequest.onreadystatechange=Function.emptyMethod;a._xmlHttpRequest.abort();a._webRequest.completed(Sys.EventArgs.Empty);a._xmlHttpRequest=null}}};Sys.Net.XMLHttpExecutor.prototype={get_timedOut:function(){return this._timedOut},get_started:function(){return this._started},get_responseAvailable:function(){return this._responseAvailable},get_aborted:function(){return this._aborted},executeRequest:function(){this._webRequest=this.get_webRequest();var c=this._webRequest.get_body(),a=this._webRequest.get_headers();this._xmlHttpRequest=new XMLHttpRequest;this._xmlHttpRequest.onreadystatechange=this._onReadyStateChange;var e=this._webRequest.get_httpVerb();this._xmlHttpRequest.open(e,this._webRequest.getResolvedUrl(),true);this._xmlHttpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest");if(a)for(var b in a){var f=a[b];if(typeof f!=="function")this._xmlHttpRequest.setRequestHeader(b,f)}if(e.toLowerCase()==="post"){if(a===null||!a["Content-Type"])this._xmlHttpRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8");if(!c)c=""}var d=this._webRequest.get_timeout();if(d>0)this._timer=window.setTimeout(Function.createDelegate(this,this._onTimeout),d);this._xmlHttpRequest.send(c);this._started=true},getResponseHeader:function(b){var a;try{a=this._xmlHttpRequest.getResponseHeader(b)}catch(c){}if(!a)a="";return a},getAllResponseHeaders:function(){return this._xmlHttpRequest.getAllResponseHeaders()},get_responseData:function(){return this._xmlHttpRequest.responseText},get_statusCode:function(){var a=0;try{a=this._xmlHttpRequest.status}catch(b){}return a},get_statusText:function(){return this._xmlHttpRequest.statusText},get_xml:function(){var a=this._xmlHttpRequest.responseXML;if(!a||!a.documentElement){a=Sys.Net.XMLDOM(this._xmlHttpRequest.responseText);if(!a||!a.documentElement)return null}else if(navigator.userAgent.indexOf("MSIE")!==-1)a.setProperty("SelectionLanguage","XPath");if(a.documentElement.namespaceURI==="http://www.mozilla.org/newlayout/xml/parsererror.xml"&&a.documentElement.tagName==="parsererror")return null;if(a.documentElement.firstChild&&a.documentElement.firstChild.tagName==="parsererror")return null;return a},abort:function(){if(this._aborted||this._responseAvailable||this._timedOut)return;this._aborted=true;this._clearTimer();if(this._xmlHttpRequest&&!this._responseAvailable){this._xmlHttpRequest.onreadystatechange=Function.emptyMethod;this._xmlHttpRequest.abort();this._xmlHttpRequest=null;this._webRequest.completed(Sys.EventArgs.Empty)}}};Sys.Net.XMLHttpExecutor.registerClass("Sys.Net.XMLHttpExecutor",Sys.Net.WebRequestExecutor);Sys.Net._WebRequestManager=function(){this._defaultTimeout=0;this._defaultExecutorType="Sys.Net.XMLHttpExecutor"};Sys.Net._WebRequestManager.prototype={add_invokingRequest:function(a){this._get_eventHandlerList().addHandler("invokingRequest",a)},remove_invokingRequest:function(a){this._get_eventHandlerList().removeHandler("invokingRequest",a)},add_completedRequest:function(a){this._get_eventHandlerList().addHandler("completedRequest",a)},remove_completedRequest:function(a){this._get_eventHandlerList().removeHandler("completedRequest",a)},_get_eventHandlerList:function(){if(!this._events)this._events=new Sys.EventHandlerList;return this._events},get_defaultTimeout:function(){return this._defaultTimeout},set_defaultTimeout:function(a){this._defaultTimeout=a},get_defaultExecutorType:function(){return this._defaultExecutorType},set_defaultExecutorType:function(a){this._defaultExecutorType=a},executeRequest:function(webRequest){var executor=webRequest.get_executor();if(!executor){var failed=false;try{var executorType=eval(this._defaultExecutorType);executor=new executorType}catch(a){failed=true}webRequest.set_executor(executor)}if(executor.get_aborted())return;var evArgs=new Sys.Net.NetworkRequestEventArgs(webRequest),handler=this._get_eventHandlerList().getHandler("invokingRequest");if(handler)handler(this,evArgs);if(!evArgs.get_cancel())executor.executeRequest()}};Sys.Net._WebRequestManager.registerClass("Sys.Net._WebRequestManager");Sys.Net.WebRequestManager=new Sys.Net._WebRequestManager;Sys.Net.NetworkRequestEventArgs=function(a){Sys.Net.NetworkRequestEventArgs.initializeBase(this);this._webRequest=a};Sys.Net.NetworkRequestEventArgs.prototype={get_webRequest:function(){return this._webRequest}};Sys.Net.NetworkRequestEventArgs.registerClass("Sys.Net.NetworkRequestEventArgs",Sys.CancelEventArgs);Sys.Net.WebRequest=function(){this._url="";this._headers={};this._body=null;this._userContext=null;this._httpVerb=null;this._executor=null;this._invokeCalled=false;this._timeout=0};Sys.Net.WebRequest.prototype={add_completed:function(a){this._get_eventHandlerList().addHandler("completed",a)},remove_completed:function(a){this._get_eventHandlerList().removeHandler("completed",a)},completed:function(b){var a=Sys.Net.WebRequestManager._get_eventHandlerList().getHandler("completedRequest");if(a)a(this._executor,b);a=this._get_eventHandlerList().getHandler("completed");if(a)a(this._executor,b)},_get_eventHandlerList:function(){if(!this._events)this._events=new Sys.EventHandlerList;return this._events},get_url:function(){return this._url},set_url:function(a){this._url=a},get_headers:function(){return this._headers},get_httpVerb:function(){if(this._httpVerb===null){if(this._body===null)return"GET";return"POST"}return this._httpVerb},set_httpVerb:function(a){this._httpVerb=a},get_body:function(){return this._body},set_body:function(a){this._body=a},get_userContext:function(){return this._userContext},set_userContext:function(a){this._userContext=a},get_executor:function(){return this._executor},set_executor:function(a){this._executor=a;this._executor._set_webRequest(this)},get_timeout:function(){if(this._timeout===0)return Sys.Net.WebRequestManager.get_defaultTimeout();return this._timeout},set_timeout:function(a){this._timeout=a},getResolvedUrl:function(){return Sys.Net.WebRequest._resolveUrl(this._url)},invoke:function(){Sys.Net.WebRequestManager.executeRequest(this);this._invokeCalled=true}};Sys.Net.WebRequest._resolveUrl=function(b,a){if(b&&b.indexOf("://")!==-1)return b;if(!a||a.length===0){var d=document.getElementsByTagName("base")[0];if(d&&d.href&&d.href.length>0)a=d.href;else a=document.URL}var c=a.indexOf("?");if(c!==-1)a=a.substr(0,c);c=a.indexOf("#");if(c!==-1)a=a.substr(0,c);a=a.substr(0,a.lastIndexOf("/")+1);if(!b||b.length===0)return a;if(b.charAt(0)==="/"){var e=a.indexOf("://"),g=a.indexOf("/",e+3);return a.substr(0,g)+b}else{var f=a.lastIndexOf("/");return a.substr(0,f+1)+b}};Sys.Net.WebRequest._createQueryString=function(c,b,f){b=b||encodeURIComponent;var h=0,e,g,d,a=new Sys.StringBuilder;if(c)for(d in c){e=c[d];if(typeof e==="function")continue;g=Sys.Serialization.JavaScriptSerializer.serialize(e);if(h++)a.append("&");a.append(d);a.append("=");a.append(b(g))}if(f){if(h)a.append("&");a.append(f)}return a.toString()};Sys.Net.WebRequest._createUrl=function(a,b,c){if(!b&&!c)return a;var d=Sys.Net.WebRequest._createQueryString(b,null,c);return d.length?a+(a&&a.indexOf("?")>=0?"&":"?")+d:a};Sys.Net.WebRequest.registerClass("Sys.Net.WebRequest");Sys._ScriptLoaderTask=function(b,a){this._scriptElement=b;this._completedCallback=a};Sys._ScriptLoaderTask.prototype={get_scriptElement:function(){return this._scriptElement},dispose:function(){if(this._disposed)return;this._disposed=true;this._removeScriptElementHandlers();Sys._ScriptLoaderTask._clearScript(this._scriptElement);this._scriptElement=null},execute:function(){this._addScriptElementHandlers();document.getElementsByTagName("head")[0].appendChild(this._scriptElement)},_addScriptElementHandlers:function(){this._scriptLoadDelegate=Function.createDelegate(this,this._scriptLoadHandler);if(Sys.Browser.agent!==Sys.Browser.InternetExplorer){this._scriptElement.readyState="loaded";$addHandler(this._scriptElement,"load",this._scriptLoadDelegate)}else $addHandler(this._scriptElement,"readystatechange",this._scriptLoadDelegate);if(this._scriptElement.addEventListener){this._scriptErrorDelegate=Function.createDelegate(this,this._scriptErrorHandler);this._scriptElement.addEventListener("error",this._scriptErrorDelegate,false)}},_removeScriptElementHandlers:function(){if(this._scriptLoadDelegate){var a=this.get_scriptElement();if(Sys.Browser.agent!==Sys.Browser.InternetExplorer)$removeHandler(a,"load",this._scriptLoadDelegate);else $removeHandler(a,"readystatechange",this._scriptLoadDelegate);if(this._scriptErrorDelegate){this._scriptElement.removeEventListener("error",this._scriptErrorDelegate,false);this._scriptErrorDelegate=null}this._scriptLoadDelegate=null}},_scriptErrorHandler:function(){if(this._disposed)return;this._completedCallback(this.get_scriptElement(),false)},_scriptLoadHandler:function(){if(this._disposed)return;var a=this.get_scriptElement();if(a.readyState!=="loaded"&&a.readyState!=="complete")return;this._completedCallback(a,true)}};Sys._ScriptLoaderTask.registerClass("Sys._ScriptLoaderTask",null,Sys.IDisposable);Sys._ScriptLoaderTask._clearScript=function(a){if(!Sys.Debug.isDebug)a.parentNode.removeChild(a)};Type.registerNamespace("Sys.Net");Sys.Net.WebServiceProxy=function(){};Sys.Net.WebServiceProxy.prototype={get_timeout:function(){return this._timeout||0},set_timeout:function(a){if(a<0)throw Error.argumentOutOfRange("value",a,Sys.Res.invalidTimeout);this._timeout=a},get_defaultUserContext:function(){return typeof this._userContext==="undefined"?null:this._userContext},set_defaultUserContext:function(a){this._userContext=a},get_defaultSucceededCallback:function(){return this._succeeded||null},set_defaultSucceededCallback:function(a){this._succeeded=a},get_defaultFailedCallback:function(){return this._failed||null},set_defaultFailedCallback:function(a){this._failed=a},get_enableJsonp:function(){return!!this._jsonp},set_enableJsonp:function(a){this._jsonp=a},get_path:function(){return this._path||null},set_path:function(a){this._path=a},get_jsonpCallbackParameter:function(){return this._callbackParameter||"callback"},set_jsonpCallbackParameter:function(a){this._callbackParameter=a},_invoke:function(d,e,g,f,c,b,a){c=c||this.get_defaultSucceededCallback();b=b||this.get_defaultFailedCallback();if(a===null||typeof a==="undefined")a=this.get_defaultUserContext();return Sys.Net.WebServiceProxy.invoke(d,e,g,f,c,b,a,this.get_timeout(),this.get_enableJsonp(),this.get_jsonpCallbackParameter())}};Sys.Net.WebServiceProxy.registerClass("Sys.Net.WebServiceProxy");Sys.Net.WebServiceProxy.invoke=function(q,a,m,l,j,b,g,e,w,p){var i=w!==false?Sys.Net.WebServiceProxy._xdomain.exec(q):null,c,n=i&&i.length===3&&(i[1]!==location.protocol||i[2]!==location.host);m=n||m;if(n){p=p||"callback";c="_jsonp"+Sys._jsonp++}if(!l)l={};var r=l;if(!m||!r)r={};var s,h,f=null,k,o=null,u=Sys.Net.WebRequest._createUrl(a?q+"/"+encodeURIComponent(a):q,r,n?p+"=Sys."+c:null);if(n){s=document.createElement("script");s.src=u;k=new Sys._ScriptLoaderTask(s,function(d,b){if(!b||c)t({Message:String.format(Sys.Res.webServiceFailedNoMsg,a)},-1)});function v(){if(f===null)return;f=null;h=new Sys.Net.WebServiceError(true,String.format(Sys.Res.webServiceTimedOut,a));k.dispose();delete Sys[c];if(b)b(h,g,a)}function t(d,e){if(f!==null){window.clearTimeout(f);f=null}k.dispose();delete Sys[c];c=null;if(typeof e!=="undefined"&&e!==200){if(b){h=new Sys.Net.WebServiceError(false,d.Message||String.format(Sys.Res.webServiceFailedNoMsg,a),d.StackTrace||null,d.ExceptionType||null,d);h._statusCode=e;b(h,g,a)}}else if(j)j(d,g,a)}Sys[c]=t;e=e||Sys.Net.WebRequestManager.get_defaultTimeout();if(e>0)f=window.setTimeout(v,e);k.execute();return null}var d=new Sys.Net.WebRequest;d.set_url(u);d.get_headers()["Content-Type"]="application/json; charset=utf-8";if(!m){o=Sys.Serialization.JavaScriptSerializer.serialize(l);if(o==="{}")o=""}d.set_body(o);d.add_completed(x);if(e&&e>0)d.set_timeout(e);d.invoke();function x(d){if(d.get_responseAvailable()){var f=d.get_statusCode(),c=null;try{var e=d.getResponseHeader("Content-Type");if(e.startsWith("application/json"))c=d.get_object();else if(e.startsWith("text/xml"))c=d.get_xml();else c=d.get_responseData()}catch(m){}var k=d.getResponseHeader("jsonerror"),h=k==="true";if(h){if(c)c=new Sys.Net.WebServiceError(false,c.Message,c.StackTrace,c.ExceptionType,c)}else if(e.startsWith("application/json"))c=!c||typeof c.d==="undefined"?c:c.d;if(f<200||f>=300||h){if(b){if(!c||!h)c=new Sys.Net.WebServiceError(false,String.format(Sys.Res.webServiceFailedNoMsg,a));c._statusCode=f;b(c,g,a)}}else if(j)j(c,g,a)}else{var i;if(d.get_timedOut())i=String.format(Sys.Res.webServiceTimedOut,a);else i=String.format(Sys.Res.webServiceFailedNoMsg,a);if(b)b(new Sys.Net.WebServiceError(d.get_timedOut(),i,"",""),g,a)}}return d};Sys.Net.WebServiceProxy._generateTypedConstructor=function(a){return function(b){if(b)for(var c in b)this[c]=b[c];this.__type=a}};Sys._jsonp=0;Sys.Net.WebServiceProxy._xdomain=/^\s*([a-zA-Z0-9\+\-\.]+\:)\/\/([^?#\/]+)/;Sys.Net.WebServiceError=function(d,e,c,a,b){this._timedOut=d;this._message=e;this._stackTrace=c;this._exceptionType=a;this._errorObject=b;this._statusCode=-1};Sys.Net.WebServiceError.prototype={get_timedOut:function(){return this._timedOut},get_statusCode:function(){return this._statusCode},get_message:function(){return this._message},get_stackTrace:function(){return this._stackTrace||""},get_exceptionType:function(){return this._exceptionType||""},get_errorObject:function(){return this._errorObject||null}};Sys.Net.WebServiceError.registerClass("Sys.Net.WebServiceError");Type.registerNamespace('Sys');Sys.Res={'argumentInteger':'Value must be an integer.','invokeCalledTwice':'Cannot call invoke more than once.','webServiceFailed':'The server method \'{0}\' failed with the following error: {1}','argumentType':'Object cannot be converted to the required type.','argumentNull':'Value cannot be null.','scriptAlreadyLoaded':'The script \'{0}\' has been referenced multiple times. If referencing Microsoft AJAX scripts explicitly, set the MicrosoftAjaxMode property of the ScriptManager to Explicit.','scriptDependencyNotFound':'The script \'{0}\' failed to load because it is dependent on script \'{1}\'.','formatBadFormatSpecifier':'Format specifier was invalid.','requiredScriptReferenceNotIncluded':'\'{0}\' requires that you have included a script reference to \'{1}\'.','webServiceFailedNoMsg':'The server method \'{0}\' failed.','argumentDomElement':'Value must be a DOM element.','invalidExecutorType':'Could not create a valid Sys.Net.WebRequestExecutor from: {0}.','cannotCallBeforeResponse':'Cannot call {0} when responseAvailable is false.','actualValue':'Actual value was {0}.','enumInvalidValue':'\'{0}\' is not a valid value for enum {1}.','scriptLoadFailed':'The script \'{0}\' could not be loaded.','parameterCount':'Parameter count mismatch.','cannotDeserializeEmptyString':'Cannot deserialize empty string.','formatInvalidString':'Input string was not in a correct format.','invalidTimeout':'Value must be greater than or equal to zero.','cannotAbortBeforeStart':'Cannot abort when executor has not started.','argument':'Value does not fall within the expected range.','cannotDeserializeInvalidJson':'Cannot deserialize. The data does not correspond to valid JSON.','invalidHttpVerb':'httpVerb cannot be set to an empty or null string.','nullWebRequest':'Cannot call executeRequest with a null webRequest.','eventHandlerInvalid':'Handler was not added through the Sys.UI.DomEvent.addHandler method.','cannotSerializeNonFiniteNumbers':'Cannot serialize non finite numbers.','argumentUndefined':'Value cannot be undefined.','webServiceInvalidReturnType':'The server method \'{0}\' returned an invalid type. Expected type: {1}','servicePathNotSet':'The path to the web service has not been set.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','cannotCallOnceStarted':'Cannot call {0} once started.','badBaseUrl1':'Base URL does not contain ://.','badBaseUrl2':'Base URL does not contain another /.','badBaseUrl3':'Cannot find last / in base URL.','setExecutorAfterActive':'Cannot set executor after it has become active.','paramName':'Parameter name: {0}','nullReferenceInPath':'Null reference while evaluating data path: \'{0}\'.','cannotCallOutsideHandler':'Cannot call {0} outside of a completed event handler.','cannotSerializeObjectWithCycle':'Cannot serialize object with cyclic reference within child properties.','format':'One of the identified items was in an invalid format.','assertFailedCaller':'Assertion Failed: {0}\r\nat {1}','argumentOutOfRange':'Specified argument was out of the range of valid values.','webServiceTimedOut':'The server method \'{0}\' timed out.','notImplemented':'The method or operation is not implemented.','assertFailed':'Assertion Failed: {0}','invalidOperation':'Operation is not valid due to the current state of the object.','breakIntoDebugger':'{0}\r\n\r\nBreak into debugger?'};(function($){$.oa=$.oa||{};var s=false,k=false,x=0;$.extend($.oa,{version:"1.0.0",_extends:function(b,a){for(var c in a)if(a.hasOwnProperty(c))b[c]=a[c];function d(){this.constructor=b}d.prototype=a.prototype;b.prototype=new d},getTypeName:function(a){var b,c;if(!a.__name){a.__name="_type_"+x++;if(s){b=a.name;if(!b){c=a.toString();b=c.substring(9,c.indexOf("("))}if(b)a.__name+="_"+b}}return a.__name},OnError:function(c,b,d){if($.isFunction(b))b.call(d,c);else $.oa.errorHandler.show(c)},loadErrorHandler:function(xht,st,handler){$(document.body).html(xht.responseText);},initClassPrototype:function(d,b){var a,c;for(a in b)if(a!=="__name"&&b.hasOwnProperty(a)){c=b[a];d.prototype[a]=c}}});var y=function(){function a(){this.$error=null;this.visible=false}
a.prototype.initialize=function(){var a=this;this.$error=$(".error-section").bind("keydown",function(b){if(b.keyCode===27){a.hideError();return false}})};a.prototype.exists=function(){return this.$error.length>0};a.prototype.showError=function(c,d,b){var e=this,a,f;function g(e){var a="";if(d)a=d+": ";if(c)a=a+c;f=$("<li>").text(a).appendTo(e);b&&$("<pre>").text(b).appendTo(f)}if(!this.visible){this.visible=true;this.$error.empty();$("<div tabIndex=0 />").addClass("close").text("Close [x]").appendTo(this.$error).click(function(){e.hideError()}).keydown(function(a){if(a.which===13){e.hideError();return false}});a=$("<div>").addClass("message").appendTo(this.$error);$("<h4>").text("Error(s):").appendTo(a);$("<ul>").addClass("error-list").appendTo(a)}g($("ul.error-list",this.$error));this.$error.show().focus()};a.prototype.hideError=function(){$("p",this.$error).remove();this.$error.hide();this.visible=false};a.prototype.show=function(a){if(this.exists())this.showError(a.message,a.status,a.stack);};return a}();$.oa.errorHandler=new y;$.oa.handleError=function(c,b,d){if($.isFunction(b))b.call(d,c);else $.oa.errorHandler.show(c)};var t=function(){function a(){this._progressPendingActions=null;this._progressPendingActionsCount=0;this._progressPendingActionsNewId=0;this._pageProgressElements=null;this._pageProgressDelayShowTimeout=null;this._pageProgressMinShowTimeout=null;this._showingProgress=false;var a=this;this._progressPendingActions={};this._pageProgressElements=[];$(function(){var b=$(".pageProgressIndicator");b.length>0&&a._addProgressElement(b)})}
a.prototype.getProgressElements=function(){return this._pageProgressElements};a.prototype.registerProgressElement=function(a){this._addProgressElement(a);if(this._showingProgress)a.show();else a.hide()};a.prototype.unRegisterProgressElement=function(b){if(this._pageProgressElements)for(var a=0,a=0;a<this._pageProgressElements.length;a++)if(this._pageProgressElements[a]===b){this._pageProgressElements.splice(a,1);break}};a.prototype._addProgressElement=function(a){this._pageProgressElements.push(a)};a.prototype._showProgressElements=function(){var a=this,b=this._pageProgressElements;if(this._progressPendingActionsCount===0)return;this._showingProgress=true;if(b.length===0)return;$.each(b,function(b,a){a.show()});if(!this._pageProgressMinShowTimeout)this._pageProgressMinShowTimeout=window.setTimeout(function(){a._pageProgressMinShowTimeout=null;a._progressPendingActionsCount===0&&a._hideProgressElements()},250)};a.prototype._hideProgressElements=function(){this._showingProgress=false;$.each(this._pageProgressElements,function(b,a){a.hide()})};a.prototype.actionStarted=function(d,c){var a,b=this;a=++this._progressPendingActionsNewId;this._progressPendingActions[a]=d;if(this._progressPendingActionsCount++===0)if(c===true){if(this._pageProgressDelayShowTimeout){window.clearTimeout(this._pageProgressDelayShowTimeout);this._pageProgressDelayShowTimeout=null}this._showProgressElements()}else if(!this._pageProgressDelayShowTimeout)this._pageProgressDelayShowTimeout=window.setTimeout(function(){b._pageProgressDelayShowTimeout=null;b._showProgressElements()},250);return a};a.prototype.actionCompleted=function(a){delete this._progressPendingActions[a];--this._progressPendingActionsCount===0&&!this._pageProgressMinShowTimeout&&this._hideProgressElements()};a.prototype.getPendingActions=function(){var a=[];$.each(this._progressPendingActions,function(c,b){a.push(c+": "+b)});return a};return a}();$.oa.globalProgressIndicator=new t;$(function(){$.oa.errorHandler.initialize();});})(jQuery);(function($){var B=1,w=3e5,t=w,j={},h=false,f=false;var b=$.oa.core;Error.ajax=function(c,d){var a=Error.create($.oa.core.string.format("Ajax request failed with status: {0}.",d),{name:$.oa.ajax.Exceptions.AjaxException,response:c.responseText,xhr:c});a.popStackFrame();return a};Error.ajaxTimeout=function(b){var a=Error.create("Ajax request has been timed out.",{name:$.oa.ajax.Exceptions.AjaxTimeoutException,status:b.status,xhr:b});a.popStackFrame();return a};Error.network=function(b){var a=Error.create("Network error.",{name:$.oa.ajax.Exceptions.NetworkException,status:b.status,xhr:b});a.popStackFrame();return a};$.oa.ajax=$.oa.ajax||{};(function(a){a.AjaxException="AjaxException";a.AjaxTimeoutException="AjaxTimeoutException";a.NetworkException="NetworkException"})($.oa.ajax.Exceptions||($.oa.ajax.Exceptions={}));function resizeElement(b){var a=b.options.wait;if(!a.entireWindow){a.element.css("margin-top",-parseInt(a.target.css("padding-top"),10));a.element.css("margin-left",-parseInt(a.target.css("padding-left"),10));a.element.height(a.target.outerHeight());a.element.width(a.target.outerWidth())}
if(a.msgElement){a.msgElement.css("top",a.element.position().top+(a.element.height()-a.msgElement.height())/2+parseInt(a.element.css("margin-top"),10));a.msgElement.css("left",a.element.position().left+(a.element.width()-a.msgElement.width())/2+parseInt(a.element.css("margin-left"),10));}}
var ShowLoading=function(c){var d="",e="",a=c.options.wait;if(a.image)d+='<img class="wait-image" src="'+a.image+'" />';if(a.message)d+='<div class="wait-message">'+a.message+"</div>";if(d.length>0){a.target.prepend('<div class="wait-box">'+d+"</div>");a.msgElement=a.target.children(".wait-box").first()}
a.target.prepend('<div class="wait-element"></div>');a.element=a.target.children(".wait-element").first();resizeElement(c);$(window).bind("resize."+c.requestId,function(){resizeElement(c)});if(!a.minLifetime)a.minLifetime=100;a.timeout=$.oa.core.delay(this,a.minLifetime,function(){delete a.timeout;a.end()})};function endSuccessRequest(a,onSuccess){return function(d,c,e){$.oa.ajax.endRequest(d,c,e,onSuccess,a)}}
function endErrorRequest(d,onError){return function(e,g){$.oa.ajax.endRequest(null,g,e,function(){var d;if(g==="timeout")$.oa.OnError(Error.ajaxTimeout(e),onError);else if(e.status===0)!$.oa.ajax.unloadRequested&&!$.oa.ajax.unloading&&$.oa.core.delay(this,2e3,function(){!$.oa.ajax.unloadRequested&&!$.oa.ajax.unloading&&$.oa.OnError(Error.network(e),onError)});else if(e.status>=12e3&&e.status<13e3)!$.oa.ajax.unloadRequested&&!$.oa.ajax.unloading&&$.oa.OnError(Error.network(e),onError);else{if($.oa.ajax.unloading&&g==="abort")return;try{d=$.oa.core.Utils.parseMSJSON(e.responseText,false)}catch(i){}
if(d)$.oa.OnError(Error.serverError(d),onError);else $.oa.OnError(Error.ajax(e,e.statusText||e.status),onError)}},d)}}
function onBeforeUnload(){$.oa.ajax.unloadRequested=true;$.oa.core.delay(this,2e3,function(){$.oa.ajax.unloadRequested=false})}
$(window).bind("beforeunload",onBeforeUnload);$(window).bind("unload",function(){$.oa.ajax.unloading=true;$.each(j,function(b,a){if(a.xhr)try{a.xhr.abort()}catch(c){}})});$.extend($.oa.ajax,{unloading:false,unloadRequested:false,startWait:function(c){var a=c.options.wait;a.end=function(){if(a.element)if(c.isComplete&&!a.timeout){if(a.fade!==false){a.element.css("cursor","auto");a.element.fadeOut("fast",function(){a.element.remove();a.element=null});if(a.msgElement){a.msgElement.css("cursor","auto");a.msgElement.fadeOut("fast",function(){a.msgElement.remove();a.msgElement=null})}}
else{a.element.css("cursor","auto");a.element.remove();a.element=null;if(a.msgElement){a.msgElement.css("cursor","auto");a.msgElement.remove();a.msgElement=null}}
$(window).unbind("resize."+c.requestId)}};if(!a.showDelay)a.showDelay=150;if(!a.target){a.entireWindow=true;a.target=$("body")}
a.target.children(".wait-element").hide();a.target.children(".wait-box").hide();if(a.showDelay!==0)c.showTimer=$.oa.core.delay(this,a.showDelay,function(){delete c.showTimer;ShowLoading(c)});else ShowLoading(c);},endWait:function(a){a.options.wait.end();if(a.showTimer){a.showTimer.cancel();delete a.showTimer}},beginRequest:function(h,i,c){var b,e;b={isComplete:false,requestId:B++,options:c};c&&c.wait&&$.oa.ajax.startWait(b);e=h+" ("+b.requestId+")";if(!c||c.showGlobalProgressIndicator!==false)b.progressActionId=$.oa.globalProgressIndicator.actionStarted(e);j[b.requestId]=b;return b},endRequest:function(n,l,h,onSuccess,b){var e,g,i,f;b.isComplete=true;delete j[b.requestId];b.options!==null&&b.options!==undefined&&b.options.wait!==null&&b.options.wait!==undefined&&$.oa.ajax.endWait(b);if(onSuccess)try{onSuccess(n,l,h)}catch(ex){$.oa.OnError(ex)}
b.progressActionId&&$.oa.globalProgressIndicator.actionCompleted(b.progressActionId);}});$.oa.ajax.doGet=function A(url,params,onSuccess,onError,options){var a=$.oa.ajax.beginRequest(url,params,options);a.xhr=jQuery.ajax(url,$.extend({type:"GET",data:params,success:endSuccessRequest(a,onSuccess),error:endErrorRequest(a,onError),dataType:"json",traditional:true,timeout:t},options));return a}
$.oa.ajax.doPost=function(url,params,onSuccess,onError,options,dataType){var c,b;b=$.oa.ajax.beginRequest(url,params,options);b.xhr=jQuery.ajax(url,$.extend({type:"POST",data:params,success:endSuccessRequest(b,onSuccess),error:endErrorRequest(b,onError),dataType:typeof dataType==="undefined"?"json":dataType,traditional:true,timeout:t},options));return b}
$.oa.ajax.doGetHtml=function(url,params,onSuccess,onError,options){var a=$.oa.ajax.beginRequest(url,params,options);a.xhr=jQuery.ajax(url,$.extend({type:"GET",data:params,success:endSuccessRequest(a,onSuccess),error:endErrorRequest(a,onError),dataType:"html",traditional:true,cache:false},options));return a}
$.oa.ajax.postForm=function(url,options){b=$.oa.ajax.beginRequest(url,null,options);return b;}
$.oa.ajax.postFormEnd=function(b){$.oa.ajax.endRequest(null,null,null,null,b);}})(jQuery);(function($){$.oa.core=$.oa.core||{};var m;$.extend($.oa.core,{delegate:function(b,c,a){return function(){if(typeof a==="undefined")return c.apply(b,arguments);else{var e=Array.prototype.slice.call(arguments,0);if(a instanceof Array)e=e.concat(a);else e.push(a);return c.apply(b,e)}}},getAntiForgeryTokenValue:function(){if(!m){var c=$("input[name=__RequestVerificationToken]");if(c.length==0)c=$("input[name=__RequestVerificationToken]",parent.top.document);m=c.val();return m;}
else return m;},createAntiForgeryToken:function(){var a,b;a=$("<input />").attr("type","hidden").attr("name","__RequestVerificationToken").val($.oa.core.getAntiForgeryTokenValue());return a},setAntiForgeryToken:function(b){var a=$(b);if(a.find("input[name=__RequestVerificationToken]").length===0)return a.append($.oa.core.createAntiForgeryToken())},QueryString:(function(a){if(a=="")return{};var b={};for(var i=0;i<a.length;++i){var p=a[i].split('=');if(p.length!=2)continue;b[p[0].toLowerCase()]=decodeURIComponent(p[1].replace(/\+/g," "));}
return b;})(window.location.search.substr(1).split('&')),delayedFunction:function(){function a(a,e,d,b,c){this._interval=e;this._name=d;this._func=$.oa.core.delegate(a,b,c);}
a.prototype.start=function(){var a=this;if(!this._timeoutHandle){this._timeoutHandle=window.setTimeout(function(){delete a._timeoutHandle;try{a._func.call(a)}finally{}},this._interval)}};a.prototype.reset=function(){this.cancel();this.start()};a.prototype.cancel=function(){if(this._timeoutHandle){window.clearTimeout(this._timeoutHandle);delete this._timeoutHandle;}};a.prototype.invokeNow=function(){this.cancel();this._func()};a.prototype.setDelay=function(a){this._interval=a};a.prototype.setMethod=function(a,b,c){this._func=$.oa.core.delegate(a,b,c)};a.prototype.isPending=function(){return this._timeoutHandle?true:false};return a}(),delay:function(b,e,c,d){var a=new $.oa.core.delayedFunction(b,e,null,c,d);a.start();return a}});function d(b,d,c){var a;if(b===null||b===undefined)return"";a=c?b.toLocaleString():b.toString();if(d)a=c?a.toLocaleUpperCase():a.toUpperCase();return a}
(function(a){a.empty="";a.newLine="\r\n";a.tab="\t";a.htmlEncode=function(b){var a=document.createElement("div");a.appendChild(document.createTextNode(b));return a.innerHTML};a.nl2br=function(b){return a.htmlEncode(b).replace(/(\r\n|\n|\r)/gm,"<br/>")};a.format=function(){for(var b=[],a=0;a<arguments.length-1;a++)b[a]=arguments[a+1];return String.format.apply(String,Array.prototype.slice.call(arguments,0))};a.defaultComparer=function(c,e){if(c===e)return 0;var a=d(c,false,false),b=d(e,false,false);return a===b?0:a>b?1:-1};a.ignoreCaseComparer=function(c,e){if(c===e)return 0;var a=d(c,true,false),b=d(e,true,false);return a===b?0:a>b?1:-1};a.localeComparer=function k(a,b){if(a===b)return 0;var c=d(a,false,true),e=d(b,false,true);return c.localeCompare(e)};a.localeIgnoreCaseComparer=function(a,b){if(a===b)return 0;var c=d(a,true,true),e=d(b,true,true);return c.localeCompare(e)};a.startsWith=function(d,c,b){b=b||a.defaultComparer;return b(c,d.substr(0,c.length))===0};})($.oa.core.string||($.oa.core.string={}));$.oa.core.utilities=$.oa.core.utilities||{};$.extend($.oa.core.utilities,{parseMSJSON:function(b,a){return JSON.parse(b,a)},stringifyMSJSON:function(a){return JSON.stringify(a)},PhoneFormat:function(b,a){var s=a.separator;var t=b.replace(/(\d{3})(\d{3})(\d{4})/,'$1'+s+'$2'+s+'$3');return t;}});(function(a){a.isFirefox=function(){var a=window.navigator.userAgent.toLowerCase();return $.browser.mozilla&&a.indexOf("trident")===-1};a.msie=navigator.appName==='Microsoft Internet Explorer';a.msiever=function(){var rv=-1;var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");if(re.exec(ua)!=null){rv=parseFloat(RegExp.$1);}
return rv;};a.isIE=function(){var a=window.navigator.userAgent.toLowerCase();return $.browser.msie?Number($.browser.version):a.indexOf("trident")!==-1?11:0};a.isLessThanOrEqualToIE9=function(){var b=a.isIE();return b>0&&b<=9};a.isLessThanOrEqualToIE8=function(){var b=a.isIE();return b>0&&b<=8};})($.oa.core.browser||($.oa.core.browser={}));})(jQuery);(function($){$.oa.host=$.oa.host||{};var s=function(){function a(){}
a.prototype.fire=function(b,c,a){return this._fireEvent(b,c,a)};a.prototype._fireEvent=function(c,d,f){var b,a;if(this._events){a=this._events._getEvent(c);if(!a||a.length===0)return undefined;a=e.ArrayUtils.clone(a);for(b=a.length-1;b>=0;b--)
if(a[b](d||this,f)===false)return false}};a.prototype.attachEvent=function(a,b){if(!this._events)this._events=new Sys.EventHandlerList;this._events.addHandler(a,b)};a.prototype.detachEvent=function(a,b){this._events&&this._events.removeHandler(a,b)};return a}();$.oa.host.notificationService=new s;})(jQuery);(function($){$.oa.ui=$.oa.ui||{};var h=[];$.extend($.oa.ui,{getId:function(){var a=0;return function(){return++a}}(),dom:function(elem,attrib){var b=document.createElement(elem);if(attrib)b.className=attrib;return b},htmlEncode:function(v){return!v?v:String(v).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");},htmlDecode:function(v){if(v&&(v=='&nbsp;'||v=='&#160;'||(v.length===1&&v.charCodeAt(0)===160))){return"";}
return!v?v:String(v).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&");},stripHtml:function(v){v=String(v);var regexp=/<("[^"]*"|'[^']*'|[^'">])*>/gi;if(v){v=v.replace(regexp,"");return(v&&v!=='&nbsp;'&&v!=='&#160;')?v.replace(/\"/g,"'"):"";}
return v;},formatID:function(v){return String(v).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&");}});function g(a){return a.jquery?a:$(a)}
(function(a){a._PROBE_ID="oa-measurement-probe";a._createProbe=function e(c){var b=$("<div/>").attr("id",a._PROBE_ID).css("position","absolute").css("left","-50000px").css("top","-50000px").css("width","9em").css("height","18ex").css("overflow","auto").appendTo(c);$("<div></div>").css("width","3in").css("height","36ex").appendTo(b);return b}
a._getProbe=function i(b){b=b||$(document.body);var c=b.children("#"+a._PROBE_ID);if(c.length===0)c=a._createProbe(b);return c}
a.getUnitEx=function(){return a._getProbe().height()/18}})($.oa.ui.Measurement||($.oa.ui.Measurement={}));(function(a){(function(a){a[a.Default=0]="Default";a[a.Top=1]="Top";a[a.Middle=2]="Middle";a[a.Bottom=3]="Bottom"})(a.VerticalScrollBehavior||(a.VerticalScrollBehavior={}));a.position=function(c,l,b){b=$.extend({},b);var n=0,o=1,d,k,p,j,r,q,h,i,e,f,z,A,m,u,w,x,s,v,C,B,y,t;c=g(c);l=g(l);if(b.elementAlignmentMarker&&b.elementAlignmentMarker.length)e=b.elementAlignmentMarker;if(b.baseAlignmentMarker&&b.baseAlignmentMarker.length)f=b.baseAlignmentMarker;u=b.supportScroll===true;c.css("z-index",2e4);if(u)c[0].style.height="";k=c.outerWidth();p=c.outerHeight();j=l.offset();r=l.outerWidth();q=l.outerHeight();h=b.elementAlign||"left-top";i=b.baseAlign||"left-bottom";m=b.overflow||"fit-flip";if(b.alignToMarkerHorizontal&&f){j.left=f.offset().left;r=f.outerWidth()}
if(b.alignToMarkerVertical&&f){j.top=f.offset().top;q=f.outerHeight()}
i=i.split("-");if(i[n]==="right")j.left+=r;if(i[o]==="bottom")j.top+=q;d=$.extend({},j);if(b.alignToMarkerHorizontal&&e){z=c.offset().left-e.offset().left;d.left+=z;k=e.outerWidth()}
if(b.alignToMarkerVertical&&e){A=c.offset().top-e.offset().top;d.top+=A;p=e.outerHeight()}
h=h.split("-");if(h[n]==="right")d.left-=k;if(h[o]==="bottom")d.top-=p;d.left=Math.round(d.left);d.top=Math.round(d.top);m=m.split("-");x=a["_"+m[o].toLowerCase()+"Vertical"];if(x){s=x(d,{baseMeasure:q,baseAlign:i[o],elementMeasure:p,elementAlign:h[o]});d.top=s.top;if(u&&s.shrink>0){c.height(c.height()-s.shrink);k=c.outerWidth()}}
w=a["_"+m[n].toLowerCase()+"Horizontal"];t={baseMeasure:r,baseAlign:i[n],elementMeasure:k,elementAlign:h[n],adjustedWidth:0};$.isFunction(w)&&w(d,t);v=c.offset();C=parseInt(jQuery.css(c[0],"top",true),10)||0;B=parseInt(jQuery.css(c[0],"left",true),10)||0;y={top:d.top-v.top+C,left:d.left-v.left+B};if(t.adjustedWidth>0)y.width=t.adjustedWidth;c.css(y)};})($.oa.ui.Positioning||($.oa.ui.Positioning={}));})(jQuery);(function($){$.oa.ui.controls=$.oa.ui.controls||{};var h=[],Q={};var n=$.oa.host.notificationService;$.oa.ui.controls.base=function(){function f(a){if(this.getType()===f)throw new Error("You cannot instantiate an abstract type.");this.getTypeName();this.initializeOptions(a)}
f.enhance=function(b,e,a){var d,c,h,g;if(typeof b!=="function"){a=e;e=b;b=this}
if(e instanceof f)c=e.getElement();else c=$(e);if(!d){if($.isFunction(a))a=a.call(b,c);d=new b(a);d.enhance(c);}
return d};f.getType=function(){return this};f.prototype._attemptInitialize=function(){this._options.earlyInitialize&&this.initialize()};f.prototype._bind=function(b,c,d,f){var a,g=this,e;if(typeof b==="string"){f=d;d=c;c=b;b=this._element}a=$(b);if(a.length>0){e=this._getEventNameSpace();a.bind($.map(c.split(" "),function(a){return a+"."+e}).join(" "),d);f&&a.each(function(){this!==g._element[0]&&g._trackElement(this)})}return this};f.prototype._unbind=function(b,c,f,d){var a,g=this,e;if(typeof b==="string"){f=d;d=c;c=b;b=this._element}a=$(b);if(a.length>0){e=this._getEventNameSpace();a.unbind($.map(c.split(" "),function(a){return a+"."+e}).join(" "),f);d&&a.each(function(){this!==g._element[0]&&g._untrackElement(this)})}return this};f.prototype.delayExecute=function(c,d,f,e){var b;if(!c){$.oa.core.delay(this,d,e);return}
if(!this._delayedFunctions)this._delayedFunctions={};b=this._delayedFunctions[c];if(b){b.setDelay(d);b.setMethod(this,e)}else{b=new $.oa.core.delayedFunction(this,d,c,e);this._delayedFunctions[c]=b}
if(f)b.reset();else b.start()};f.prototype.cancelDelayedFunction=function(b){var a;if(this._delayedFunctions){a=this._delayedFunctions[b];if(a){a.cancel();return true}}return false};f.prototype._enhance=function(a){this._setElement(a)};f.prototype._fire=function(a,b,c){if(typeof a==="string"){c=b;b=a;a=this._element}return a.trigger(b,c)};f.prototype._getEventNameSpace=function(){if(!this._eventNamespace)this._eventNamespace=this.getTypeName().replace(/\./g,"_")+this._getId();return this._eventNamespace};f.prototype._getUniqueId=function(){return $.oa.ui.getId()};f.prototype._getId=function(){!this._id&&this._setId(this._getUniqueId());return this._id};f.prototype._setElement=function(c){var e=this.getType(),b;if(this._element!==c){this._element=c;this._setStyles();}};f.prototype._setId=function(a){this._id=a};f.prototype._setStyles=function(){this._options.coreCssClass&&this._element.addClass(this._options.coreCssClass);this._options.cssClass&&this._element.addClass(this._options.cssClass)};f.prototype.enhance=function(a){this._enhance(a);this._attemptInitialize()};f.prototype.getElement=function(){return this._element};f.prototype.getType=function(){return this.constructor};f.prototype.getTypeName=function(){if(!this._typeName)this._typeName=f.getTypeName(this.getType());return this._typeName};f.prototype.initializeOptions=function(a){this._options=$.extend({earlyInitialize:true,enabled:true},a)};f.prototype.initialize=function(){this._initialized=true;};f.getTypeName=function(a){var b;if(typeof a!=="function")a=this;b=a._typeName||"oa.ui.controls."+$.oa.getTypeName(a);return b};f.registerJQueryWidget=function(b,a,d){var c;if(typeof b==="string"){d=a;a=b;b=this}
if(!a){a=b._widgetName;if(!a){c=f.getTypeName(b);m(c?true:false,"_widgetName or _typeName needs to present in order to register this control as JQuery widget.");a=c.split(".");a=a[a.length-1]}}
$.fn[a]=function(options){return this.each(function(){f.enhance(b,$(this),$.extend(d||{},options))})}};f.prototype._cleanup=function(){var c=this.getType(),b;if(this._element){this._unbind("remove.remove_"+this.getTypeName());this._element.unbind("."+this._getEventNameSpace());}};f.prototype._dispose=function(){var b=this._trackedElements,a,c;if(b)for(a=0,c=b.length;a<c;a++)$(b[a]).unbind("."+this._getEventNameSpace());this._trackedElements=null;this._disposed=true};f.prototype.dispose=function(){this._cleanup();this._dispose()};return f;}();$.oa.ui.controls.BaseDataSource=function(){function b(b){this._options=$.extend({sorted:false,comparer:$.oa.core.string.localeIgnoreCaseComparer},b);this.setSource(this._options.source);}
b.prototype.setSource=function(a){this._source=a;this._items=null;this._allItems=null};b.prototype.prepareSource=function(c){var b=c||[];this._options.sorted&&a.ArrayUtils.sortIfNotSorted(b,this._options.comparer||a.StringUtils.localeIgnoreCaseComparer);this.setItems(b)};b.prototype.getComparer=function(){return this._options.comparer};b.prototype.ensureItems=function(){var a;if(!this._items){a=this._source;if($.isFunction(a))a=a.call(this);this.prepareSource(a)}};b.prototype.getItems=function(a){this.ensureItems();return a?this._allItems:this._items};b.prototype.setItems=function(b,a){this._items=b||[];this._allItems=a||this._items};b.prototype.getCount=function(a){return this.getItems(a).length};b.prototype.getItem=function(a,b){return this.getItems(b)[a]};b.prototype.getItemText=function(a,b){return this.getItem(a,b)+""};b.prototype.getItemIndex=function(c,m,d){var b,k,i,j,e,g=this._options.comparer,h,f,l;if(!c)return-1;h=this.getItems(d);if(this._options.sorted){e=c.length;j=0;i=h.length-1;while(i>=j){b=j+i>>1;l=this.getItemText(b,d);f=g(c,l.substr(0,e));if(f<0)i=b-1;else if(f>0)j=b+1;else break}
if(f===0)
if(l.length===e)return b;else if(m){while(b>0&&g(c,this.getItemText(b-1,d).substr(0,e))===0)b--;return b}}else if(m){for(b=0,k=h.length;b<k;b++)
if($.oa.core.string.startsWith(this.getItemText(b,d),c,g))return b}else
for(b=0,k=h.length;b<k;b++)
if(g(this.getItemText(b,d),c)===0)return b;return-1};b.prototype.nextIndex=function(a,c,d){var b=this.getCount(d);return b<1?-1:a<0?0:c>0?a===b-1?-1:Math.min(b-1,a+c):a===0?-1:Math.max(0,a+c)};return b;}();$.oa.ui.controls.ListDataSource=function(b){$.oa._extends(a,b);function a(a){b.call(this,a)}
return a}($.oa.ui.controls.BaseDataSource);$.oa.ui.controls.webcontrol=function(b){$.oa._extends(a,b);function a(a){b.call(this,a)}
a.createIn=function(b,a,e){var d,c;if(typeof b!=="function"){e=a;a=b;b=this}d=new b(e);if(a instanceof $.oa.ui.controls.base)c=a.getElement();else c=$(a);d.createIn(c);return d};a.prototype.initializeOptions=function(a){b.prototype.initializeOptions.call(this,$.extend({tagName:"div"},a))};a.prototype.createIn=function(a){this._createIn(a);this._initializeElement();this._attemptInitialize()};a.prototype.dispose=function(){b.prototype.dispose.call(this);if(this._element){this._element.remove();this._element=null}};a.prototype._createIn=function(a){this._createElement();a.append(this._element)};a.prototype._createElement=function(){var a=$($.oa.ui.dom(this._options.tagName||"div"));this._setElement(a)};a.prototype._initializeElement=function(){if(this._element)this._options.id&&this._setId(this._options.id)};a.prototype._setStyles=function(){var a=this._element;this._options.width&&a.width(this._options.width);this._options.height&&a.height(this._options.height);this._options.title&&a.attr("title",this._options.title);b.prototype._setStyles.call(this)};a.prototype.focus=function(){this._element.focus()};a.prototype._fireChange=function(a){var b;a=a||this;if($.isFunction(this._options.change)){b=arguments;b[0]=a;b.length=arguments.length||1;if(this._options.change.apply(a,b)===false)return false}
return this._fire("change",a)};return a;}($.oa.ui.controls.base);$.oa.ui.controls.VirtualizingListView=function(b){$.oa._extends(a,b);function a(a){b.call(this,a)}
a.prototype.initializeOptions=function(a){b.prototype.initializeOptions.call(this,$.extend({coreCssClass:"virtualizing-list-view",maxRowCount:8,selectedIndex:-1},a))};a.prototype.initialize=function(){this._bind("click",$.oa.core.delegate(this,this._onClick));this._itemsContainer=$($.oa.ui.dom("ul","items"));this._bind(this._itemsContainer,"mouseover",$.oa.core.delegate(this,this._onMouseOver));this._bind(this._itemsContainer,"mousemove",$.oa.core.delegate(this,this._onMouseMove));this._bind(this._itemsContainer,$.oa.core.browser.isFirefox()?"DOMMouseScroll":"mousewheel",$.oa.core.delegate(this,this._onMouseWheel));this._element.append(this._itemsContainer);this._scrollContainer=$($.oa.ui.dom("div","scroller"));this._bind(this._scrollContainer,"scroll",$.oa.core.delegate(this,this._onScroll));this._scrollSpacer=$($.oa.ui.dom("div","content-spacer"));this._scrollContainer.append(this._scrollSpacer);this._element.append(this._scrollContainer);this._dataSource=this._options.dataSource;this._selectedIndex=this._options.selectedIndex;this.update();this._enableMouseOver=true;b.prototype.initialize.call(this)};a.prototype.update=function(){var b,a;b=this._dataSource.getCount();this.visibleRowCount=Math.min(b,this._options.maxRowCount);if(this._selectedIndex>=0)this._selectedIndex=Math.min(this._selectedIndex,b-1);this._setVisibleBounds(this._selectedIndex);this._drawItems();a=this._itemsContainer.outerHeight();this._element.height(a);this._setupScrollbar(a)};a.prototype.scrollItemIntoView=function(a){this._setVisibleBounds(a);this._drawItems();this._updateScrollbar()};a.prototype.selectNext=function(b){var a=this._dataSource.nextIndex(this._selectedIndex,b?this.visibleRowCount:1);if(a>=0){this.setSelectedIndex(a);this._fireSelectionChanged();return true}
return false};a.prototype.selectPrev=function(b){var a=this._dataSource.nextIndex(this._selectedIndex,-(b?this.visibleRowCount:1));if(a>=0){this.setSelectedIndex(a);this._fireSelectionChanged();return true}
return false};a.prototype.getSelectedIndex=function(){return this._selectedIndex};a.prototype.setSelectedIndex=function(a,b){if(this._selectedIndex!==a){this._selectedIndex=a;!b&&this.scrollItemIntoView(a)}};a.prototype._setVisibleBounds=function(a){a=a||0;if(a<=this._firstVisible)this._firstVisible=Math.max(0,a);else if(a>=this._firstVisible+this.visibleRowCount)this._firstVisible=Math.max(0,Math.min(a,this._dataSource.getCount()-this.visibleRowCount));this._firstVisible=Math.max(0,Math.min(this._firstVisible,this._dataSource.getCount()-this.visibleRowCount))};a.prototype._createItem=function(b){var a=this._dataSource.getItemText(b)||"";return $($.oa.ui.dom("li",this._options.itemCss)).text(a).attr("title",a)};a.prototype._drawItems=function(){var a,b,d,e=this._options.createItem||this._createItem,c;this._itemsContainer.empty();b=this._firstVisible;d=Math.min(b+this.visibleRowCount,this._dataSource.getCount());for(a=b;a<d;a++){c=e.call(this,a);c.data("index",a);this._itemsContainer.append(c)}
this._updateItemStyles();this._enableMouseOver=false};a.prototype._updateItemStyles=function(){var b=this._firstVisible,a=this._selectedIndex;this._itemsContainer.children("li").each(function(c){$(this).toggleClass("selected",c+b===a)})};a.prototype._setupScrollbar=function(c){var b=this._dataSource.getCount(),a=this.visibleRowCount<b;this._element.toggleClass("scroll",a);if(a){this._rowHeight=(c||this._itemsContainer.outerHeight())/this.visibleRowCount;this._scrollSpacer.height(this._rowHeight*b);this._updateScrollbar()}};a.prototype._updateScrollbar=function(){try{this._ignoreScrollEvent=true;this._scrollContainer.scrollTop(this._rowHeight*this._firstVisible)}finally{this._ignoreScrollEvent=false}};a.prototype._onScroll=function(){var a=this._dataSource.getCount();if(!this._ignoreScrollEvent){this._firstVisible=Math.max(0,Math.min(Math.floor(this._scrollContainer.scrollTop()/this._rowHeight),a-this.visibleRowCount));this._drawItems()}
return false};a.prototype._onMouseMove=function(b){var a=b.screenX+"-"+b.screenY;if(!this._prevMousePos||this._prevMousePos!==a){this._prevMousePos=a;this._enableMouseOver=true}};a.prototype._onMouseOver=function(c){var b=$(c.target),a;if(this._enableMouseOver){this._enableMouseOver=false;a=b.closest("li");if(a.length){this._selectedIndex=a.data("index");this._updateItemStyles()}}};a.prototype._onMouseWheel=function(b){var a;a=o.getWheelDelta(b);if(a!==0){this._firstVisible=Math.max(0,Math.min(this._firstVisible+(a>0?-1:1),this._dataSource.getCount()-this.visibleRowCount));this.scrollItemIntoView(this._firstVisible);return false}};a.prototype._onClick=function(d){var c=$(d.target),a,b;a=c.closest("li");if(a.length){b=a.data("index");if(this._options.itemClick)
if(this._options.itemClick.call(this,d,b,c,a)===false)return false;this.setSelectedIndex(b);this._updateItemStyles();this._fireSelectionChanged(true)}};a.prototype._fireSelectionChanged=function(a){this._options.selectionChange&&this._options.selectionChange.call(this,this._selectedIndex,a)};a._typeName="oa.virtualizingListView";return a}($.oa.ui.controls.webcontrol);$.oa.initClassPrototype($.oa.ui.controls.VirtualizingListView,{_itemsContainer:null,_scrollContainer:null,_scrollSpacer:null,_dataSource:null,visibleRowCount:1,_firstVisible:0,_selectedIndex:-1,_ignoreScrollEvent:false,_rowHeight:20,_enableMouseOver:true,_prevMousePos:null});$.oa.ui.controls.dialog=function(g){$.oa._extends(e,g);function e(b){g.call(this,b);}
e._typeName="oa.ui.controls.dialog";e._dialogActionInProgress=false;e.create=function(d,a){var b;if($("#"+$.oa.ui.formatID(a.dlgid))[0]!==undefined){b=$("#"+a.dlgid);}
else{b=a&&a.content||$("<div />").attr("id",a.dlgid);}
a&&a.contentText&&b.text(a.contentText);return $.oa.ui.controls.base.enhance(d,b,a)};e.show=function(a,b){return this.create(a,$.extend({autoOpen:true},b))};e.prototype.initializeOptions=function(a){g.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog",position:"center",widthPct:.8,heightPct:.8,modal:true,draggable:true,resizable:true,autoOpen:false,dynamicSize:true,disposeOnClose:false},a))};e.prototype.initialize=function(){g.prototype.initialize.call(this);var h=this,i=$(window),c;c=$.extend({},this._options);this._options.attachResize&&this._bind("dialogresizestop",$.oa.core.delegate(this,this.onDialogResize));this._options.resizable&&this._bind("dialogresize",$.oa.core.delegate(this,this._onDialogResizing));c.title=this.getTitle();c.close=function(a){h._options.close&&h._options.close.call(this,a);h.onClose(a)};c.open=function(a){h._options.open&&h._options.open.call(this,a);h.onOpen(a)};if(c.dynamicSize){c.width=i.width()*c.widthPct;c.height=i.height()*c.heightPct;n.attachEvent("window-resize",this._resizeDelegate);this._bind("dialogclose",function(){n.fire("dialog-close",h);n.detachEvent("window-resize",h._resizeDelegate)})}
if(c.height&&!isNaN(c.height))c.height=Math.min(c.height,i.height());if(c.width&&!isNaN(c.width))c.width=Math.min(1200,c.width,i.width());this._element.dialog(c);this._element.keydown(function(c){var b,d,a;if(c.keyCode===$.ui.keyCode.ENTER){a=$(c.target);if(!c.shiftKey&&a.is("input[type='text']"))if(h._options.defaultButton&&h._options.buttons){b=h._options.buttons[h._options.defaultButton];if(b){d=$("#"+b.id).button("option");!d.disabled&&b.click.apply(this,[c])}return false}if(!a.is("textarea")&&!a.is("a")&&!a.hasClass("propagate-keydown-event"))return false}});this._element.dialog("option","closeText","Close");e._dialogActionInProgress=false;};e.prototype.onLoadCompleted=function(a){g.prototype.onLoadCompleted.call(this,a);this.setInitialFocus();};e.prototype.setInitialFocus=function(){var a=this._options.initialFocusSelector||":visible:tabbable";this._element.find(a).first().focus()};e.prototype.setFormFocusDelayed=function(a){b.assertParamIsObject(a,"$field");f.delay(this,300,function(){a.eq(0).focus().select()})};e.prototype.setTitle=function(a){this._title=a;this._updateTitle()};e.prototype.getTitle=function(){return this._title||this._options.title||this._element.attr("title")||""};e.prototype.getDialogResult=function(){return this._dialogResult};e.prototype.setDialogResult=function(a){this._dialogResult=a};e.prototype.show=function(){this._element.dialog("open")};e.prototype.onOpen=function(){var a;if(!this._options||this._options.hasProgressElement!==false){a=$("<div />").addClass("ui-dialog-titlebar-progress-container").appendTo(this._element.parent().find(".ui-dialog-titlebar"));this._progressElement=$("<div />").addClass("ui-dialog-titlebar-progress-element").appendTo(a);$.oa.globalProgressIndicator.registerProgressElement(this._progressElement);}};e.prototype.onClose=function(){var a;this._progressElement&&$.oa.globalProgressIndicator.unRegisterProgressElement(this._progressElement);this._options.disposeOnClose&&this.dispose();a=$(".ui-dialog").slice(-1);a.length&&a.focus();};e.prototype.close=function(){this._element&&this._element.dialog("close")};e.prototype.onDialogResize=function(){};e.prototype._updateTitle=function(){this._initialized&&this._element&&this._element.dialog("option","title",f.StringUtils.htmlEncode(this.getTitle()))};e.prototype._onWindowResize=function(){var b=$(window),a=this._options;this._element.dialog("option",{width:b.width()*a.widthPct,height:b.height()*a.heightPct});this._element.dialog("option",{position:a.position})};e.prototype._onDialogResizing=function(e,a){var d=$(window),b,c;if(!a||!a.position||!a.size)return;b=Math.min(a.size.height,d.height()-a.position.top);c=Math.min(a.size.width,d.width()-a.position.left);(b!==a.size.height||c!==a.size.width)&&this._element.dialog("option",{width:c,height:b})};return e}($.oa.ui.controls.webcontrol);$.oa.ui.controls.modaldialog=function(e){$.oa._extends(c,e);function c(a){e.call(this,a);var b;b=this}
c._typeName="oa.ui.controls.modaldialog";c.EVENT_BUTTON_STATUS_CHANGE="buttonStatusChange";c.prototype.initializeOptions=function(b){e.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog modal-dialog",modal:true,dynamicSize:false,width:500,height:"auto",defaultButton:"ok",oagray:false,buttons:{ok:{id:"ok",text:b&&b.okText||"OK",click:$.oa.core.delegate(this,this.onOkClick),disabled:"disabled"},cancel:{id:"cancel",text:b&&b.cancelText||"Cancel",click:$.oa.core.delegate(this,this.onCancelClick)}}},b))};c.prototype.initialize=function(){this._bind(c.EVENT_BUTTON_STATUS_CHANGE,$.oa.core.delegate(this,this.onButtonStatusChange));this._bind("resultReady",$.oa.core.delegate(this,this.onResultReady));e.prototype.initialize.call(this);if(this._options.oagray)this._element.parent().addClass("oa-popup-gray");if(oaApp)oaApp.loadCss('CommonUserControls/_static/css/popup/oagray.css');};c.prototype.updateOkButton=function(a){this._element&&this._element.trigger(c.EVENT_BUTTON_STATUS_CHANGE,{enabled:a===true})};c.prototype.processResult=function(c){var a=this._options.okCallback;if(c){if($.isFunction(a)){a.call(this,c);}this.close()}};c.prototype.onOkClick=function(){this.processResult(this.getDialogResult())};c.prototype.onResultReady=function(b,a){this.processResult(a)};c.prototype.onCancelClick=function(){$.isFunction(this._options.cancelCallback)&&this._options.cancelCallback();this.close()};c.prototype.onButtonStatusChange=function(b,a){this._element.siblings(".ui-dialog-buttonpane").find("#"+(a.button||"ok")).button("option","disabled",a.enabled?"":"disabled")};return c}($.oa.ui.controls.dialog);$.oa.ui.controls.confirmationdialog=function(c){$.oa._extends(a,c);function a(a){c.call(this,a)}
a.prototype.initializeOptions=function(a){c.prototype.initializeOptions.call(this,$.extend({width:400,height:200,resizable:false,cssClass:"confirmation-dialog"},a))};a.prototype.initialize=function(){c.prototype.initialize.call(this);this.$errorContainer=$($.oa.ui.dom("div")).addClass("confirmation-dialog-error").prependTo(this._element).hide();this.updateOkButton(true)};a.prototype._onSuccess=function(){this._fire("resultReady",true);var a=this._options.successCallback;if($.isFunction(a)){a.apply(this,arguments);}};a.prototype._onError=function(a){this.$errorContainer.text(a.message).show()};a.prototype.onOkClick=function(a){this.updateOkButton(false);c.prototype.onOkClick.call(this,a)};return a}($.oa.ui.controls.modaldialog);$.oa.ui.controls.dateSelector=function(g){$.oa._extends(e,g);function e(b){g.call(this,b);}
e._typeName="oa.ui.controls.dateSelector";e.prototype.initializeOptions=function(a){g.prototype.initializeOptions.call(this,$.extend({text:'',sep:"&nbsp;",dt:new Date(),popupAbove:false,initDate:true,required:true,bootstrap:false,disabled:false,showclearicon:false,iconpath:'/images/calendar.gif',iconclass:'',dayCSS:'textbox',monthCSS:'textbox',yearCSS:'textbox',periodCSS:'textbox',yrRange:'',showTime:false,useBootstrap:false,},a))};e.prototype.initialize=function(){var q=this;g.prototype.initialize.call(this);var index=this._options.index,prefix=this._options.prefix,text=this._options.text;var _td1=this._element;if(this._options.bootstrap){_buildElementsBootstrap(q);}
else{_buildElements(q)}
this._ctl=$([]).add(this._D).add(this._M).add(this._Y).add(this._H).add(this._m).add(this._T);this._ctl.keydown(function(a){return $.oa.dateKeyDown(a,this);}).keyup(function(a){return $.oa.dateAutoTab(a,this);});this._ctl.on('paste',function(e){return false;}).on('drop',function(e){return false;}).on('focus',function(){$(this).select();});if(!this._options.showTime){if(this._options.initDate)this.SetDate(this._options.dt);}else{if(this._options.initDate)this.SetDateTime(this._options.dt);}}
function _buildElements(q){g.prototype.initialize.call(q);var index=q._options.index,prefix=q._options.prefix,text=q._options.text;var _td1=q._element;if(text!=='')$($.oa.ui.dom("span")).html(text).appendTo(_td1);q._M=$("<input />").attr("type","text").attr("id",prefix+"M_"+index).attr("name",prefix+"M_"+index).attr("maxlength","2").prop('required',q._options.required).css("width","17px").addClass(q._options.dayCSS).appendTo(_td1);if(q._options.disabled)q._M.attr("disabled",true);q.GetSeparator().appendTo(_td1);q._D=$("<input />").attr("type","text").attr("id",prefix+"D_"+index).attr("name",prefix+"D_"+index).attr("maxlength","2").prop('required',q._options.required).css("width","17px").addClass(q._options.monthCSS).appendTo(_td1);if(q._options.disabled)q._D.attr("disabled",true);q.GetSeparator().appendTo(_td1);q._Y=$("<input />").attr("type","text").attr("id",prefix+"Y_"+index).attr("name",prefix+"Y_"+index).attr("maxlength","4").prop('required',q._options.required).css("width","32px").addClass(q._options.yearCSS).appendTo(_td1);if(q._options.disabled)q._Y.attr("disabled",true);if(!q._options.disabled&&q._options.iconclass.length===0){$($.oa.ui.dom("img")).attr('src',q._options.iconpath).appendTo(_td1).click(function(a){$.oa.datepicker('[id$='+prefix+'M_'+index+']','[id$='+prefix+'D_'+index+']','[id$='+prefix+'Y_'+index+']',q._options.popupAbove,q._options.yrRange);});}
if(!q._options.disabled&&q._options.iconclass.length>0){$($.oa.ui.dom("span")).attr('class',q._options.iconclass).appendTo(_td1).click(function(a){$.oa.datepicker('[id$='+prefix+'M_'+index+']','[id$='+prefix+'D_'+index+']','[id$='+prefix+'Y_'+index+']',q._options.popupAbove,q._options.yrRange);});}
if(!q._options.disabled&&q._options.showclearicon){$($.oa.ui.dom("span")).html("&nbsp;").appendTo(_td1);var $elem=$($.oa.ui.dom("img")).attr('src','/images/delete_x.png');if(q._options.cleariconclass){$elem=$($.oa.ui.dom("span")).attr('class',q._options.cleariconclass);}
$elem.attr('title','Clear Date').appendTo(_td1).click(function(a){$('#'+prefix+'M_'+index).val('').removeClass('ui-state-error');$('#'+prefix+'D_'+index).val('').removeClass('ui-state-error');$('#'+prefix+'Y_'+index).val('').removeClass('ui-state-error');if(showtime){$('#'+prefix+'H_'+index).val('').removeClass('ui-state-error');$('#'+prefix+'m_'+index).val('').removeClass('ui-state-error');$('#'+prefix+'T_'+index).val('').removeClass('ui-state-error');}});};if(q._options.showTime){q.GetSeparator(true).appendTo(_td1);q.GetSeparator(true).appendTo(_td1);q._H=$("<input />").attr("type","text").attr("id",prefix+"H_"+index).attr("name",prefix+"H_"+index).attr("maxlength","2").prop('required',q._options.required).css("width","17px").addClass(q._options.monthCSS).appendTo(_td1);q.GetSeparator(true).appendTo(_td1);$("<span />").text(':').appendTo(_td1);q.GetSeparator(true).appendTo(_td1);q._m=$("<input />").attr("type","text").attr("id",prefix+"m_"+index).attr("name",prefix+"m_"+index).attr("maxlength","2").prop('required',q._options.required).css("width","17px").addClass(q._options.monthCSS).appendTo(_td1);q.GetSeparator(true).appendTo(_td1);q._T=$("<select />").attr("type","text").attr("id",prefix+"T_"+index).attr("name",prefix+"T_"+index).attr("maxlength","2").prop('required',q._options.required).css("width","45px").addClass(q._options.periodCSS).appendTo(_td1);$(q._T).append("<option val='AM'>AM</option>");$(q._T).append("<option val='PM'>PM</option>");}else{q._H=$("<input />").attr("type","text").attr("id",prefix+"H_"+index).attr("name",prefix+"H_"+index).attr("maxlength","2").css("display","none").addClass("textbox");q._m=$("<input />").attr("type","text").attr("id",prefix+"m_"+index).attr("name",prefix+"m_"+index).attr("maxlength","2").css("display","none").addClass("textbox");q._T=$("<select />").attr("type","text").attr("id",prefix+"T_"+index).attr("name",prefix+"T_"+index).attr("maxlength","2").css("display","none").addClass("textbox");}
$($.oa.ui.dom("span")).html("&nbsp;").appendTo(_td1)}
function _buildElementsBootstrap(q){g.prototype.initialize.call(q);var text=q._options.text,_td1=q._element;if(text!=='')$($.oa.ui.dom("span")).html(text).appendTo(_td1);var dateContainer=$("<div>").addClass("col-md-4 margin-1");q._M=_buildInput(q,"M_","2","day",dateContainer);if(q._options.disabled)q._M.attr("disabled",true);q._D=_buildInput(q,"D_","2","month",dateContainer);if(q._options.disabled)q._D.attr("disabled",true);q._Y=_buildInput(q,"Y_","4","year",dateContainer);if(q._options.disabled)q._Y.attr("disabled",true);if(!q._options.disabled&&q._options.iconclass.length===0){$("<img>").addClass("margin-l").attr('src',q._options.iconpath).appendTo(dateContainer).click(function(a){var index=q._options.index,prefix=q._options.prefix,text=q._options.text,css='';$.oa.datepicker('[id$='+prefix+'M_'+index+']','[id$='+prefix+'D_'+index+']','[id$='+prefix+'Y_'+index+']',q._options.popupAbove,q._options.yrRange);});}
if(!q._options.disabled&&q._options.iconclass.length>0){$("<span>").addClass("margin-l").attr('class',q._options.iconclass).appendTo(dateContainer).click(function(a){var index=q._options.index,prefix=q._options.prefix,text=q._options.text,css='';$.oa.datepicker('[id$='+prefix+'M_'+index+']','[id$='+prefix+'D_'+index+']','[id$='+prefix+'Y_'+index+']',q._options.popupAbove,q._options.yrRange);});}
if(!q._options.disabled&&q._options.showclearicon){$($.oa.ui.dom("span")).html("&nbsp;").appendTo(_td1);var $elem=$($.oa.ui.dom("img")).attr('src','/images/delete_x.png');if(q._options.cleariconclass){$elem=$($.oa.ui.dom("span")).attr('class',q._options.cleariconclass);}
$elem.attr('title','Clear Date').appendTo(_td1).click(function(a){$('#'+prefix+'M_'+index).val('').removeClass('ui-state-error');$('#'+prefix+'D_'+index).val('').removeClass('ui-state-error');$('#'+prefix+'Y_'+index).val('').removeClass('ui-state-error');if(showtime){$('#'+prefix+'H_'+index).val('').removeClass('ui-state-error');$('#'+prefix+'m_'+index).val('').removeClass('ui-state-error');$('#'+prefix+'T_'+index).val('').removeClass('ui-state-error');}});};dateContainer.appendTo(_td1);if(q._options.showTime){var timeContainer=$("<div>").addClass("col-md-2 margin-1r");q._H=_buildInput(q,"H_","2","month",timeContainer);q._m=_buildInput(q,"m_","2","month",timeContainer);timeContainer.appendTo(_td1);var periodContainer=$("<div>").addClass("col-md-2");q._T=_buildSelect(q,"T_","2","period",periodContainer);$(q._T).append("<option val='AM'>AM</option>");$(q._T).append("<option val='PM'>PM</option>");periodContainer.appendTo(_td1);}else{var index=q._options.index,prefix=q._options.prefix;var timeContainer=$("<div>").addClass("col-md-3 margin-1r");q._H=$("<input />").attr("type","text").attr("id",prefix+"H_"+index).attr("name",prefix+"H_"+index).attr("maxlength","2").css("display","none").addClass("textbox");q._H.appendTo(timeContainer);q._m=$("<input />").attr("type","text").attr("id",prefix+"m_"+index).attr("name",prefix+"m_"+index).attr("maxlength","2").css("display","none").addClass("textbox");q._m.appendTo(timeContainer);timeContainer.appendTo(_td1);var periodContainer=$("<div>").addClass("col-md-1");q._T=$("<select />").attr("type","text").attr("id",prefix+"T_"+index).attr("name",prefix+"T_"+index).attr("maxlength","2").css("display","none").addClass("textbox");q._T.appendTo(periodContainer);periodContainer.appendTo(_td1);}
function _buildInput(q,field,maxLength,cssType,target){var index=q._options.index,prefix=q._options.prefix,text=q._options.text,css='';switch(cssType){case"day":css=q._options.dayCSS;break;case"month":css=q._options.monthCSS;break;case"year":css=q._options.yearCSS;break;case"period":css=q._options.periodCSS;break;}
return $("<input />").attr("type","text").attr("id",prefix+field+index).attr("name",prefix+field+index).attr("maxlength",maxLength).prop('required',q._options.required).addClass(css).appendTo(target);}
function _buildSelect(q,field,maxLength,cssType,target){var index=q._options.index,prefix=q._options.prefix,text=q._options.text,css='';switch(cssType){case"month":css=q._options.monthCSS;break;case"year":css=q._options.yearCSS;break;case"period":css=q._options.periodCSS;break;}
return $("<select />").attr("type","text").attr("id",prefix+field+index).attr("name",prefix+field+index).attr("maxlength",maxLength).prop('required',q._options.required).addClass(css).appendTo(target);}}
e.prototype.GetSeparator=function(isTime){isTime=isTime||false;if(isTime){return $($.oa.ui.dom("span")).html("&nbsp;");}else{return $($.oa.ui.dom("span")).html(this._options.sep);}}
e.prototype.clear=function(){this._ctl.removeClass('ui-state-error');}
e.prototype.setError=function(){this._ctl.addClass('ui-state-error');}
e.prototype.validateDate=function(){var q=this,d=true,dd=q._D.val(),mm=q._M.val(),yy=q._Y.val();q.clear();if(q._options.required){if(dd.length<=0){q._D.addClass('ui-state-error');d=false;}
if(mm.length<=0){q._M.addClass('ui-state-error');d=false;}
if(yy.length<=0){q._Y.addClass('ui-state-error');d=false;}}
if(dd.length<=0){}else if(dd*1>31){q._D.addClass('ui-state-error');d=false;}
if(mm.length<=0){}else if(mm*1>12){q._M.addClass('ui-state-error');d=false;}
if(d){var dt1=new Date('1/1/1900'),dt2=new Date('12/31/2100');var dt=new Date(q._M.val()+'/'+q._D.val()+'/'+q._Y.val());if(dt<=dt1||dt>=dt2){q._D.addClass('ui-state-error');q._M.addClass('ui-state-error');q._Y.addClass('ui-state-error');d=false;}}
return d;}
e.prototype.validateDateTime=function(){var q=this,d=true,dd=q._D.val(),mm=q._M.val(),yy=q._Y.val(),hh=q._H.val(),mi=q._m.val();var countDateItems=0,countTimeItems=0;var isRequired=q._options.required;q.clear();if(dd.length>0){countDateItems=countDateItems+1;}
if(mm.length>0){countDateItems=countDateItems+1;}
if(yy.length>0){countDateItems=countDateItems+1;}
if(hh.length>0){countTimeItems=countTimeItems+1;}
if(mi.length>0){countTimeItems=countTimeItems+1;}
if((mm.length<=0)||(mm*1>12)){q._M.addClass('ui-state-error');d=false;}else{q._M.removeClass('ui-state-error');}
if((dd.length<=0)||(dd*1>31)){q._D.addClass('ui-state-error');d=false;}else{q._D.removeClass('ui-state-error');}
if((yy.length<4)||(yy*1>2100)){q._Y.addClass('ui-state-error');d=false;}else{q._Y.removeClass('ui-state-error');}
if((hh.length<=0)||(hh*1>12)){q._H.addClass('ui-state-error');d=false;}else{q._H.removeClass('ui-state-error');}
if((mi.length<=0)||(mi*1>59)){q._m.addClass('ui-state-error');d=false;}else{q._m.removeClass('ui-state-error');}
if(d){var dt1=new Date('1/1/1900 00:00'),dt2=new Date('12/31/2100 23:59');var dt=new Date(q._M.val()+'/'+q._D.val()+'/'+q._Y.val()+' '+q._H.val()+':'+q._m.val()+' '+q._T.val());if(dt<=dt1||dt>=dt2){q._D.addClass('ui-state-error');q._M.addClass('ui-state-error');q._Y.addClass('ui-state-error');q._H.addClass('ui-state-error');q._m.addClass('ui-state-error');d=false;}}
if(!isRequired&&countDateItems===0&&countTimeItems===0){q._D.removeClass('ui-state-error');q._M.removeClass('ui-state-error');q._Y.removeClass('ui-state-error');q._H.removeClass('ui-state-error');q._m.removeClass('ui-state-error');d=true;}
return d;}
e.prototype.validate=function(isRequired){var d=true;this.clear();if(isRequired==true){if(this._options.showTime){d=this.validateDateTime();if(d){var curr=new Date();var dt=new Date(this._M.val()+'/'+this._D.val()+'/'+this._Y.val()+' '+this._H.val()+':'+this._m.v()+' '+parsInt(this._H.val())>11?"AM":"PM");if(dt>curr){this._D.addClass('ui-state-error');this._M.addClass('ui-state-error');this._Y.addClass('ui-state-error');if(this._options.showTime){this._H.addClass('ui-state-error');this._m.addClass('ui-state-error');}
d=false;}}}
else{d=this.validateDate();if(d){var curr=new Date();var dt=new Date(this._M.val()+'/'+this._D.val()+'/'+this._Y.val());if(dt>curr){this._D.addClass('ui-state-error');this._M.addClass('ui-state-error');this._Y.addClass('ui-state-error');d=false;}}}}
return d;}
e.prototype.validatePast=function(){var d=true,dt=this.GetDateString();this.clear();if(dt!='1/1/1900'){if((new Date(dt+' 23:59:59'))<(new Date())){this.setError();d=false;}}
return d;}
e.prototype.validateFuture=function(){var d=true,dt=this.GetDateString();this.clear();if(dt!='1/1/1900'){if((new Date(dt))>(new Date())){this.setError();d=false;}}
return d;}
e.prototype.GetDateString=function(s){s=s||'/';var dd1,mm1,yy1;dd1=this._D.val();mm1=this._M.val();yy1=this._Y.val();if(this._D.is(':hidden')){dd1="01";}
if(dd1.length<=0){dd1="01";}
if(mm1.length<=0){mm1="01";}
if(yy1.length<=0){yy1="1900";}
var dt=new Date(mm1+'/'+dd1+'/'+yy1);return dt.getMonth()+1+s+dt.getDate()+s+dt.getFullYear();}
e.prototype.GetDateTimeString=function(s){s=s||'/';var dd1,mm1,yy1;dd1=this._D.val();mm1=this._M.val();yy1=this._Y.val();hh1=this._H.val();mi1=this._m.val();tt1=this._T.val();if(this._D.is(':hidden')){dd1="01";}
if(dd1.length<=0){dd1="01";}
if(mm1.length<=0){mm1="01";}
if(yy1.length<=0){yy1="1900";}
if(hh1.length<=0){hh1="12";}
if(hh1>23){hh1=hh1%24;}
if(mi1.length<=0){mi1="00";}
if(mi1>60){mi1=mi1%60;}
var dt=new Date(mm1+'/'+dd1+'/'+yy1+' '+hh1+':'+mi1+' '+tt1);var _sb=[];_sb.push(dt.getMonth()+1+s+dt.getDate()+s+dt.getFullYear()+' ');_sb.push((dt.getHours()%12==0?"12":dt.getHours()%12)+':');_sb.push(dt.getMinutes()<10?'0'+dt.getMinutes()+' ':dt.getMinutes()+' ');_sb.push(dt.getHours()<12?"AM":dt.getHours()==0?"AM":"PM");return _sb.join('');}
e.prototype.SetDate=function(dt){if(Object.prototype.toString.call(dt)!=="[object Date]")dt=new Date(dt);if(!isNaN(dt.getTime())){this._D.val(dt.getDate());this._M.val(dt.getMonth()+1);this._Y.val(dt.getFullYear());}}
e.prototype.SetDateTime=function(dt){if(Object.prototype.toString.call(dt)!=="[object Date]")dt=new Date(dt);if(!isNaN(dt.getTime())){this._D.val(dt.getDate());this._M.val(dt.getMonth()+1);this._Y.val(dt.getFullYear());this._H.val(dt.getHours()%12==0?"12":(dt.getHours()%12<10?"0"+dt.getHours()%12:dt.getHours()%12));this._m.val(dt.getMinutes()<10?"0"+dt.getMinutes():dt.getMinutes());this._T.val(dt.getHours()<12?"AM":"PM");}}
e.prototype.SetDateVisibility=function(v){if(v){this._D.show();this._D.next().show();}
else{this._D.hide();this._D.next().hide();this._D.val('1')}}
e.prototype.ClearDate=function(){this._D.val('');this._M.val('');this._Y.val('');this._H.val('');this._m.val('');this._T.val('');}
return e}($.oa.ui.controls.webcontrol);$.oa.ui.controls.phone=function(g){$.oa._extends(e,g);function e(b){g.call(this,b);}
e._typeName="oa.ui.controls.phone";e.prototype.initializeOptions=function(a){g.prototype.initializeOptions.call(this,$.extend({sep:"-",dt:null,index:0,disabled:false,required:false,style:1,addext:false},a))};e.prototype.initialize=function(){var q=this;g.prototype.initialize.call(this);var index=this._options.index,prefix=this._options.prefix;var _td1=this._element;if(this._options.style===2)$($.oa.ui.dom("span")).html("(").appendTo(_td1);this._t1=$("<input />").attr("type","text").attr("id",prefix+"p1_"+index).attr("name",prefix+"p1_"+index).attr("maxlength","3").prop('required',q._options.required).css("width","20px").appendTo(_td1);if(this._options.disabled)this._t1.attr("disabled",true);if(this._options.style===2)$($.oa.ui.dom("span")).html(") ").appendTo(_td1);else this.GetSeparator().appendTo(_td1);this._t2=$("<input />").attr("type","text").attr("id",prefix+"p2_"+index).attr("name",prefix+"p2_"+index).attr("maxlength","3").prop('required',q._options.required).css("width","20px").appendTo(_td1);if(this._options.disabled)this._t2.attr("disabled",true);this.GetSeparator().appendTo(_td1);this._t3=$("<input />").attr("type","text").attr("id",prefix+"p3_"+index).attr("name",prefix+"p3_"+index).attr("maxlength","4").prop('required',q._options.required).css("width","30px").appendTo(_td1);this._t4={};if(this._options.addext){$($.oa.ui.dom("span")).html(" Ex: ").attr("id",prefix+"_ext").appendTo(_td1);this._t4=$("<input />").attr("type","text").attr("id",prefix+"p4_"+index).attr("name",prefix+"p4_"+index).attr("keyblock","num").attr("maxlength","10").css("width","30px").appendTo(_td1);}
if(this._options.disabled)this._t3.attr("disabled",true);this._ctl=$([]).add(this._t1).add(this._t2).add(this._t3);this._ctl.keydown(function(a){return $.oa.phoneKeyDown(a,this);}).keyup(function(a){return $.oa.phoneAutoTab(a,this);});this._ctl.on('paste',function(e){return false;}).on('drop',function(e){return false;}).on('focus',function(){$(this).select();});this.set(this._options.dt);}
e.prototype.GetSeparator=function(){return $($.oa.ui.dom("span")).html(this._options.sep);}
e.prototype.clear=function(){this._ctl.removeClass('ui-state-error');}
e.prototype.validateNumber=function(){var d=true,n=this.val();this.clear();if(n.length<=0)return d;if(this._t1.val().length<3){this._t1.addClass('ui-state-error');d=false;}
if(this._t2.val().length<3){this._t2.addClass('ui-state-error');d=false;}
if(this._t3.val().length<4){this._t3.addClass('ui-state-error');d=false;}
return d;}
e.prototype.validate=function(isRequired){var d=this.validateNumber(),n=this.val();if(d){if(isRequired==true){if(n.length<10){this._t1.addClass('ui-state-error');this._t2.addClass('ui-state-error');this._t3.addClass('ui-state-error');d=false;}}}
return d;}
e.prototype.val=function(a){return a===true?this._t1.val()+'-'+this._t2.val()+'-'+this._t3.val():this._t1.val()+this._t2.val()+this._t3.val();}
e.prototype.ext=function(){return this._t4.val();}
e.prototype.set=function(dt){this._t1.val("");this._t2.val("");this._t3.val("");if(dt!=null){var nr=dt.split('-');if(nr.length>0){this._t1.val(nr[0].substring(0,3));}
if(nr.length>1){this._t2.val(nr[1].substring(0,3));}else this._t2.val(nr[0].substring(3,3));if(nr.length>2){this._t3.val(nr[2].substring(0,4));}else this._t3.val(nr[0].substring(6,4));}}
e.prototype.setext=function(dt){this._t4.val(dt);}
return e}($.oa.ui.controls.webcontrol);$.oa.ui.controls.BaseComboBehavior=function(){function b(c,b){this.combo=c;this._options=b||{};this._onForceHideDropPopupDelegate=$.oa.core.delegate(this,this.onForceHideDropPopup);}
b.prototype.initialize=function(){this._options.source&&this.setSource(this._options.source);};b.prototype.dispose=function(){this.hideDropPopup()};b.prototype.isDropVisible=function(){return this._dropPopup};b.prototype.setMode=function(a){this._options.mode=a};b.prototype.canType=function(){return true};b.prototype.getDataSource=function(){return this._dataSource};b.prototype.getDropOptions=function(){return $.extend({combo:this.combo,anchor:this.combo.getElement(),host:this.combo.getElement(),width:this.getDropWidth(),dropElementAlign:"left-top",dropBaseAlign:"left-bottom",dataSource:this._dataSource},this._options.dropOptions)};b.prototype.getDropWidth=function(){return this.combo.getElement().outerWidth()-2};b.prototype.showDropPopup=function(){var b=this._options.dropControlType,a;this._dropPopup&&this.hideDropPopup();if(b){a=this.getDropOptions();a.width=this.getDropWidth();this._attachGlobalEvents();this._dropPopup=$.oa.ui.controls.webcontrol.createIn(b,a.host||$(document.body),a);this._options.dropShow&&this._options.dropShow(this._dropPopup);return true}
return false};b.prototype.hideDropPopup=function(){if(this._dropPopup){this._detachGlobalEvents();if(!this._options.dropHide||this._options.dropHide(this._dropPopup)){this._dropPopup.dispose();this._dropPopup=null;return true}
this._dropPopup=null}
return false};b.prototype.toggleDropDown=function(){if(this._dropPopup)this.hideDropPopup();else this.showDropPopup()};b.prototype.isDropPopupOpen=function(){return Boolean(this._dropPopup)};b.prototype.setSource=function(a){this._dataSource&&this._dataSource.setSource(a);};b.prototype.getSelectedIndex=function(){return-1};b.prototype.setSelectedIndex=function(){};b.prototype.getText=function(){return this.combo.getInputText()};b.prototype.setText=function(a,b){typeof a!=="undefined"&&this.combo.setInputText(a,b)};b.prototype.upKey=function(){};b.prototype.downKey=function(a){if(a.altKey)if(this.showDropPopup())return false};b.prototype.pageUpKey=function(){};b.prototype.pageDownKey=function(){};b.prototype.leftKey=function(){};b.prototype.rightKey=function(){};b.prototype.keyDown=function(){};b.prototype.keyPress=function(){};b.prototype.keyUp=function(){};b.prototype.onForceHideDropPopup=function(){this.hideDropPopup()};b.prototype._attachGlobalEvents=function(){this.combo._bind(this.combo.getElement().parents(),"scroll",this._onForceHideDropPopupDelegate);n.attachEvent("dialog-move",this._onForceHideDropPopupDelegate)};b.prototype._detachGlobalEvents=function(){this.combo._unbind(this.combo.getElement().parents(),"scroll",this._onForceHideDropPopupDelegate);n.detachEvent("dialog-move",this._onForceHideDropPopupDelegate)};return b}();$.oa.ui.controls.Combo=function(c){$.oa._extends(b,c);function b(a){c.call(this,a);}
b.registerBehavior=function(a,b){Q[a]=b};b.attachBehavior=function(b,c){var a=Q[b._options.type];if(b._options.type)a=Q[b._options.type];else a=v;return a?new a(b,c):null};b._typeName="oa.ui.controls.Combo";b.prototype.initializeOptions=function(a){c.prototype.initializeOptions.call(this,$.extend({allowEdit:true,type:"list",treeLevel:1,mode:"drop",dropWidth:"dynamic",dropCount:8,invalidCss:"invalid",disabledCss:"disabled",dropButtonHoverCss:"hover",inputCss:undefined,coreCssClass:"combo"},a))};b.prototype._dispose=function(){if(this._behavior){$.isFunction(this._behavior.dispose)&&this._behavior.dispose();this._behavior=null;}
c.prototype._dispose.call(this)};b.prototype._createIn=function(a){c.prototype._createIn.call(this,a);this._input=$($.oa.ui.dom("input")).attr("type","text");this._options.id&&this._input.attr("id",this._options.id+"_txt");if(typeof this._options.value!=="undefined"){this._input.val(this._options.value);this._currentText=this.getInputText();}
this._decorate();};b.prototype._enhance=function(a){this._createElement();this._input=a;a.after(this.getElement());this._decorate();this._currentText=this.getInputText()};b.prototype.initialize=function(){this._ensureBehavior();c.prototype.initialize.call(this)};b.prototype.getBehavior=function(){return this._behavior};b.prototype.getText=function(){return this._behavior.getText()};b.prototype.setText=function(b,a){return this._behavior.setText(b,a)};b.prototype.getInput=function(){return this._input};b.prototype.getInputText=function(){return this._input.val()};b.prototype.setInputText=function(a,b){this._input.val(a);this._input.attr("title",a);if(b)this.fireChangeIfNecessary(a);else this._currentText=a};b.prototype.getSelectedIndex=function(){return this._behavior.getSelectedIndex()};b.prototype.setSelectedIndex=function(a,b){this._behavior.setSelectedIndex(a,b)};b.prototype.fireChangeIfNecessary=function(a){if(typeof a==="undefined")a=this.getText();if(this._currentText!==a){this._currentText=a;this._input.attr("title",a);return this._fireChange()}};b.prototype.toggleDropDown=function(){this._behavior.toggleDropDown();this._input.focus();this._fire("dropDownToggled",{isDropVisible:this._behavior.isDropVisible(),target:this.getElement()})};b.prototype.showDropPopup=function(){this._behavior.showDropPopup();this._input.focus()};b.prototype.hideDropPopup=function(){return this._behavior.hideDropPopup()};b.prototype.isDropPopupOpen=function(){return this._behavior.isDropPopupOpen()};b.prototype.blockBlur=function(){this._blockBlur=true;this.delayExecute("blockBlur",200,true,function(){this.cancelBlockBlur()})};b.prototype.cancelBlockBlur=function(){this._blockBlur=false;this.cancelDelayedFunction("blockBlur")};b.prototype._onInputKeyDown=function(a){this._options.onKeyDown&&this._options.onKeyDown.call(this,a);if(this._behavior.keyDown(a)===false)return false;switch(a.keyCode){case 33:return this._options.enabled?this._behavior.pageUpKey(a):false;case 38:return this._options.enabled?this._behavior.upKey(a):false;case 34:return this._options.enabled?this._behavior.pageDownKey(a):false;case 40:return this._options.enabled?this._behavior.downKey(a):false;case 37:return this._options.enabled?this._behavior.leftKey(a):false;case 39:return this._options.enabled?this._behavior.rightKey(a):false;case 9:this.cancelBlockBlur();break;case 13:case 27:this.fireChangeIfNecessary();if(this.hideDropPopup())return false;break;default:if(!this._behavior.canType())return false}};b.prototype.setTextSelection=function(c){var b,a=this._input[0];if(a.setSelectionRange)a.setSelectionRange(c,a.value.length);else if(a.createTextRange){b=a.createTextRange();b.moveStart("character",c);b.select()}};b.prototype.setSource=function(a){this._behavior.setSource(a)};b.prototype.getEnabled=function(){return this._options.enabled===true};b.prototype.setEnabled=function(a){this._options.enabled=a===true;this._updateStyles()};b.prototype.getMode=function(){return this._options.mode};b.prototype.setMode=function(a){this._options.mode=a;this._behavior.setMode(a);this._updateStyles()};b.prototype.setType=function(a){if(this._options.type!==a){this.hideDropPopup();this.getElement().removeClass(this._options.type);this._options.type=a;this._ensureBehavior();this._updateStyles()}};b.prototype.setInvalid=function(a){this.getElement().toggleClass(this._options.invalidCss,a)};b.prototype._ensureBehavior=function(){if(this._behavior){$.isFunction(this._behavior.dispose)&&this._behavior.dispose();this._behavior=null}
this._behavior=b.attachBehavior(this,this._options);if(!this._behavior)throw Error.create($.oa.core.string.format("Unsupported combo behavior '{0}'.",this._options.type));this._behavior.initialize()};b.prototype._decorate=function(){var g=this,c=this._options,d=this.getElement(),b=this._input,f;d.val=function(){return!arguments.length?g.getText():g.setText(arguments[0],false)};b.attr("autocomplete","off");this._bind("mousedown",$.oa.core.delegate(this,this._onMouseDown));this._bind(b,"keydown",$.oa.core.delegate(this,this._onInputKeyDown));this._bind(b,"keypress",$.oa.core.delegate(this,this._onInputKeyPress));this._bind(b,"keyup",$.oa.core.delegate(this,this._onInputKeyUp));this._bind(b,"focus",$.oa.core.delegate(this,this._onInputFocus));this._bind(b,"blur",$.oa.core.delegate(this,this._onInputBlur));this._bind(b,"click",$.oa.core.delegate(this,this._onInputClick));if(!c.allowEdit){b.attr("readonly",true);d.addClass("no-edit")}
c.inputCss&&b.addClass(c.inputCss);b.bind("change input",function(){return g.fireChangeIfNecessary()});c.noDropButton&&d.addClass("no-background");f=$($.oa.ui.dom("div","wrap"));f.append(b);this._options.label&&this._options.id&&f.append($($.oa.ui.dom("label","hidden")).append(this._options.label).attr("For",b.attr("id")));if(c.iconCss){$($.oa.ui.dom("div","preWrapIcon")).addClass(c.iconCss).appendTo(d);f.addClass("withIcon")}
d.append(f);this.$dropButton=$($.oa.ui.dom("div","drop"));this._bind(this.$dropButton,"mouseenter",function(){$(this).addClass(c.dropButtonHoverCss)});this._bind(this.$dropButton,"mouseleave",function(){$(this).removeClass(c.dropButtonHoverCss)});this._bind(this.$dropButton,"click",$.oa.core.delegate(this,this._onDropButtonClick));d.append(this.$dropButton);this._updateStyles()};b.prototype._updateStyles=function(){var c=this.getElement(),d=this._input,a,b;c.addClass(this._options.type);a=this._options.enabled;if(a&&this._options.allowEdit)d.removeAttr("readonly");else d.attr("readonly",true);d.toggleClass(this._options.disabledCss,!a);b=a&&this._options.mode==="drop";c.toggleClass("drop",b&&!this._options.noDropButton);c.toggleClass("text",!b)};b.prototype._onDropButtonClick=function(){this.toggleDropDown();return false};b.prototype._onInputClick=function(){!this._options.allowEdit&&this._options.enabled&&this.toggleDropDown();return false};b.prototype._onInputFocus=function(){!this._blockBlur&&this._input.select();$.isFunction(this._options.focus)&&this._options.focus.apply(this,arguments)};b.prototype._onInputBlur=function(){if(!this._disposed){this.fireChangeIfNecessary();if(this._blockBlur){this._input.focus(10);this._blockBlur=false}else this.hideDropPopup();$.isFunction(this._options.blur)&&this._options.blur.apply(this,arguments)}};b.prototype._onMouseDown=function(){this.blockBlur()};b.prototype._onInputKeyPress=function(a){return this._behavior.keyPress(a)};b.prototype._onInputKeyUp=function(b){var a=this._behavior.keyUp(b);this.fireChangeIfNecessary();return a};b._typeName="oa.combo";return b}($.oa.ui.controls.webcontrol);$.oa.ui.controls.BaseComboDropPopup=function(c){$.oa._extends(b,c);function b(a){c.call(this,a);this.combo=this._options.combo;}
b.prototype.initializeOptions=function(a){c.prototype.initializeOptions.call(this,$.extend({coreCssClass:"combo-drop-popup"},a))};b.prototype.initialize=function(){this._bind("mousedown",$.oa.core.delegate(this,this._onMouseDown));this.setPosition();c.prototype.initialize.call(this)};b.prototype.setPosition=function(){$.oa.ui.Positioning.position(this.getElement(),this._options.anchor,{elementAlign:this._options.dropElementAlign,baseAlign:this._options.dropBaseAlign});};b.prototype._onMouseDown=function(){this.combo.blockBlur();};return b}($.oa.ui.controls.webcontrol);function db(c,a){var b=$.extend({},c);a&&$.each(a,function(c,a){delete b[a]});return b}
$.oa.ui.controls.ComboListDropPopup=function(b){$.oa._extends(a,b);function a(a){b.call(this,a);}
a.prototype.initializeOptions=function(a){b.prototype.initializeOptions.call(this,$.extend({itemCss:""},a))};a.prototype.initialize=function(){this.dataSource=this._options.dataSource;this.virtualizingListView=$.oa.ui.controls.base.enhance($.oa.ui.controls.VirtualizingListView,this.getElement(),$.extend(db(this._options,["coreCssClass"]),{maxRowCount:this._options.dropCount}));b.prototype.initialize.call(this)};a.prototype.selectPrev=function(a){return this.virtualizingListView.selectPrev(a)};a.prototype.selectNext=function(a){return this.virtualizingListView.selectNext(a)};a.prototype.getSelectedIndex=function(){return this.virtualizingListView.getSelectedIndex()};a.prototype.getSelectedValue=function(){return this.dataSource.getItemText(this.virtualizingListView.getSelectedIndex())};a.prototype.setSelectedValue=function(a){var b=a?this.dataSource.getItemIndex(a):-1;this.virtualizingListView.setSelectedIndex(b)};return a}($.oa.ui.controls.BaseComboDropPopup);$.oa.ui.controls.ComboListBehavior=function(e){$.oa._extends(d,e);function d(b,a){e.call(this,b,$.extend({dropControlType:$.oa.ui.controls.ComboListDropPopup},a));}
d.prototype.initialize=function(){this._dataSource=this._createDataSource();e.prototype.initialize.call(this)};d.prototype.setSource=function(a){e.prototype.setSource.call(this,a);this._maxItemLength=null};d.prototype.getDropOptions=function(){return $.extend(e.prototype.getDropOptions.call(this),{selectedIndex:this._dataSource.getItemIndex(this.combo.getText()),selectionChange:$.oa.core.delegate(this,this._dropSelectionChanged)})};d.prototype.getMaxItemLength=function(){var a,e,d,b=0,c=this._dataSource;if(this._maxItemLength===null){d=c.getCount(true);for(a=0;a<d;a++){e=c.getItemText(a,true,true);b=Math.max(e.length,b)}
this._maxItemLength=b}
return this._maxItemLength};d.prototype.getDropWidth=function(){var b,a;b=e.prototype.getDropWidth.call(this);a=this.getMaxItemLength()*$.oa.ui.Measurement.getUnitEx();a*=1.2;return Math.max(b,a)};d.prototype.getSelectedIndex=function(a){return this._dataSource.getItemIndex(a||this.getText(),false)};d.prototype.setSelectedIndex=function(a,b){this._setSelectedIndex(a,b)};d.prototype.setText=function(b,a){var c;if(a)c=b!==this.getText();e.prototype.setText.call(this,b,a);if(a&&c)this._options.indexChanged&&this._options.indexChanged.call(this,this.getSelectedIndex(b))};d.prototype.upKey=function(a){if(this._options.mode!=="text")return e.prototype.upKey.call(this,a)===false?false:this.selectPrev()};d.prototype.downKey=function(a){if(this._options.mode!=="text")return e.prototype.downKey.call(this,a)===false?false:this.selectNext()};d.prototype.pageUpKey=function(a){if(this._options.mode!=="text")return e.prototype.pageUpKey.call(this,a)===false?false:this.selectPrev(true)};d.prototype.pageDownKey=function(a){if(this._options.mode!=="text")return e.prototype.pageDownKey.call(this,a)===false?false:this.selectNext(true)};d.prototype.keyDown=function(a){if(this._options.mode!=="text")if(a.keyCode===229)this._enableAutoFill=false;else if(a.ctrlKey&&(a.keyCode===89||a.keyCode===90))return false};d.prototype.keyPress=function(){if(this._options.mode!=="text"){if(typeof this._options.autoComplete==="undefined")this._enableAutoFill=true;else this._enableAutoFill=this._options.autoComplete;return true}};d.prototype.keyUp=function(b){var a;if(this._options.mode!=="text"){a=b.keyCode||b.charCode;if(this._enableAutoFill){(a>=47||a===32)&&this._tryAutoFill();this._enableAutoFill=false}return true}};d.prototype.selectPrev=function(b){var a;if(this._dropPopup){if(this._dropPopup.selectPrev(b))return false}else if(!b){a=this._dataSource.nextIndex(this.getSelectedIndex(),-1,true);if(a>=0){this._setSelectedIndex(a,true);return false}}};d.prototype.selectNext=function(b){var a;if(this._dropPopup){if(this._dropPopup.selectNext(b))return false}else if(!b){a=this._dataSource.nextIndex(this.getSelectedIndex(),1,true);if(a>=0){this._setSelectedIndex(a,true);return false}}};d.prototype._createDataSource=function(){return new $.oa.ui.controls.ListDataSource(this._options)};d.prototype._dropSelectionChanged=function(c,b){var a=this._dropPopup.getSelectedValue();this.setText(a,true);b&&this.hideDropPopup()};d.prototype._setSelectedIndex=function(a,b){this.setText(this._dataSource.getItemText(a,true),b)};d.prototype._tryAutoFill=function(){var d,c,a;c=this.combo.getText();d=this._dataSource.getItemIndex(c,true,true);if(d>=0)a=this._dataSource.getItemText(d,true);if(a){this.combo.setText(a,true);this.combo.setTextSelection(c.length)}
this._dropPopup&&this._dropPopup.setSelectedValue(a);};return d}($.oa.ui.controls.BaseComboBehavior);$.oa.initClassPrototype($.oa.ui.controls.ComboListBehavior,{_enableAutoFill:false,_maxItemLength:null});$.oa.ui.controls.Combo.registerBehavior("list",$.oa.ui.controls.ComboListBehavior);(function(a){a._map=[];a.None=0;a.Info=1;a.Warning=2;a.Error=3})($.oa.ui.controls.messageAreaType||($.oa.ui.controls.messageAreaType={}));var msgType=$.oa.ui.controls.messageAreaType;$.oa.ui.controls.messageArea=function(b){$.oa._extends(a,b);function a(a){b.call(this,a)}
a.EVENT_DISPLAY_COMPLETE="event-display-complete";a.EVENT_DISPLAY_CLEARED="event-display-cleared";a.prototype.initializeOptions=function(a){b.prototype.initializeOptions.call(this,$.extend({closeable:true,expanded:false},a))};a.prototype.initialize=function(){var b,c=this;this._element.addClass("message-area-control");b=$($.oa.ui.dom("div")).appendTo(this._element).addClass("message-header");this._errorHeader=$($.oa.ui.dom("span")).appendTo(b);this._showErrorLink=$($.oa.ui.dom("a")).appendTo(b).addClass("linkAction show-details-action").attr("href","#").click(function(){c._toggle();return false});$($.oa.ui.dom("div")).appendTo(this._element).addClass("close-action ui-icon ui-icon-closethick").click($.oa.core.delegate(this,this.clear));this._errorContent=$($.oa.ui.dom("div")).appendTo(this._element).addClass("error-content");this._element.hide();this._messageType=msgType.None;this._options.message&&this.setMessage(this._options.message);};a.prototype.setMessage=function(a,c){if(typeof a==="string")a={header:a};if(!a.type)a.type=c||msgType.Error;this._setDisplayMessage(a)};a.prototype.setError=function(a,c){if(typeof a==="string")a={header:a};a.type=msgType.Error;if(!a.click&&$.isFunction(c))a.click=c;this.setMessage(a)};a.prototype.clear=function(){this._clear(true)};a.prototype._setDisplayMessage=function(a){var d=this,c;if(this._options.closeable)this._element.addClass("closeable");else this._element.removeClass("closeable");this._clear(false);this._messageType=a.type;this._errorHeader.html(a.header);if(a.content){if(a.content.jquery)this._errorContent.append(a.content);else this._errorContent.html(a.content);this._setErrorDetailsVisibility(this._options.expanded);this._showErrorLink.show()}
else{this._errorContent.hide();this._showErrorLink.hide()}
this._element.show();switch(this._messageType){case msgType.Info:this._element.addClass("ui-state-highlight2");break;case msgType.Warning:this._element.addClass("ui-state-warning");break;case msgType.Error:this._element.addClass("ui-state-error");break;default:break;}
if(a.click){c=function(){a.click();d.clear()};this._errorHeader.addClass("clickable");this._errorHeader.click(c);this._errorHeader.keydown(function(a){if(a.keyCode===i.KeyCode.ENTER){c();return false}})}
this._raiseDisplayComplete();};a.prototype._toggle=function(){if(this._errorContent.is(":visible"))this._setErrorDetailsVisibility(false);else this._setErrorDetailsVisibility(true);this._raiseDisplayComplete()};a.prototype._setErrorDetailsVisibility=function(a){if(a){this._showErrorLink.text("Hide details");this._errorContent.show()}else{this._showErrorLink.text("Show details");this._errorContent.hide()}};a.prototype._clear=function(a){var c=this;if(this._errorHeader.text().length===0)return;switch(this._messageType){case msgType.Info:this._element.removeClass("ui-state-highlight2");break;case msgType.Warning:this._element.removeClass("ui-state-warning");break;case msgType.Error:this._element.removeClass("ui-state-error")}
this._messageType=msgType.None;this._errorHeader.text("");this._errorContent.text("");this._errorHeader.unbind("click");this._errorHeader.removeClass("clickable");this._element.hide();a&&this._raiseDisplayComplete();};a.prototype._raiseDisplayComplete=function(){this._fire(a.EVENT_DISPLAY_COMPLETE)};return a;}($.oa.ui.controls.webcontrol);$.oa.ui.controls.alertdialog=function(d){$.oa._extends(b,d);function b(a){d.call(this,a)}
b.prototype.initializeOptions=function(b){d.prototype.initializeOptions.call(this,$.extend({height:b.height||150,width:b.width||400,resizable:false,title:b.title||"Alert"},b))};b.prototype.initialize=function(){this._options.buttons={ok:{id:"ok",text:b&&b.okText||"Close",click:$.oa.core.delegate(this,this._onCancelAction)}};this._element.css("text-align","left");this._element.html(this._options.message);d.prototype.initialize.call(this);this.updateOkButton(true);};b.prototype._onCancelAction=function(){this._element.dialog("close");};return b}($.oa.ui.controls.modaldialog);$.extend($.oa.ui.controls,{});})(jQuery);(function($){$.oa=$.oa||{};var _LastField='',_FieldTest=false,_isvalidkey=false,_isVkeyD=false;$.oa.dateKeyDown=function(e,sender){e=(e)?e:event;var c=(e.charCode)?e.charCode:((e.keyCode)?e.keyCode:((e.which)?e.which:0));if(c==9||c==37||c==39){_isvalidkey=false;return true;}
if(c==8&&!$(sender).val().length){$(sender).prevAll('input').first().focus();_isvalidkey=false;return false;}
if(((c>=48&&c<=57)||(c>=96&&c<=105)||c==8||c==9||c==37||c==39)&&!e.shiftKey&&!e.altKey&&!e.metaKey){_isvalidkey=true;return true;}
_isvalidkey=false;return false;};$.oa.dateAutoTab=function(e,sender){if(_isvalidkey){var val=$(sender).val();var ln=$(sender).attr('maxlength');if(val.length==ln)$(sender).nextAll("input").not(":hidden").first().focus();return true;}
return false;};$.oa.phoneKeyDown=function(e,sender){e=(e)?e:event;var c=(e.charCode)?e.charCode:((e.keyCode)?e.keyCode:((e.which)?e.which:0));if(c==9||c==37||c==39){_isVkeyD=false;return true;}
if(c==8&&!$(sender).val().length){$(sender).prevAll('input').first().focus();_isVkeyD=false;return false;}
if(((c>=48&&c<=57)||(c>=96&&c<=105)||c==8||c==9||c==37||c==39||c==46)&&!e.shiftKey&&!e.altKey&&!e.metaKey){_isVkeyD=true;return true;}
_isVkeyD=false;return false;};$.oa.phoneAutoTab=function(e,sender){if(_isVkeyD){var val=$(sender).val();var ln=$(sender).attr('maxlength');if(val.length==ln)$(sender).nextAll('input').first().focus();return true;}
return false;};$.oa.numbersonly=function(e){var c=(e.keyCode?e.keyCode:e.which);if(c==9||c==37||c==39)return true;if(window.event)isShift=e.shiftKey;else isShift=(window.Event)?((e.modifiers&Event.SHIFT_MASK)==Event.SHIFT_MASK):false;if(isShift)return false;if((c>57&&c<96)||(c>105))return false;};$.oa.autotab=function(obj,maxlen,nextfield){if(obj.name!=_LastField){if(obj.value.length==1)
_FieldTest=true;else
_FieldTest=false;_LastField=obj.name;}
else{if(obj.value.length==1)
_FieldTest=true;}
if(_FieldTest){if(obj.value.length>=maxlen){_FieldTest=false;$('#'+nextfield).focus();}}};$.oa.datepicker=function(MonthID,DayID,YearID,popupAbove,range){try{popupAbove=popupAbove||false;var offset=jQuery(YearID).offset();var top=popupAbove?offset.top-160:offset.top;var $insertAfter=jQuery((YearID||DayID||MonthID)||[]);if($insertAfter.length>0){var $hdn;if($insertAfter.next(".isDatePicker").get(0)){$hdn=$insertAfter.next(".isDatePicker");}
else{yrRange=range||'-100:+5';$hdn=jQuery("<input class='isDatePicker' type='hidden'></input>").datepicker({changeMonth:true,changeYear:true,showAnim:"fadeIn",duration:"fast",yearRange:yrRange,dateFormat:'mm/dd/yy',showOn:"focus",beforeShow:function(){setTimeout(function(){$('#ui-datepicker-div').css({'top':top});},1);},onClose:function(date,inst){if(date&&date!=""){if(!DayID){jQuery(MonthID).val(inst.selectedMonth+1+"/"+inst.selectedDay+"/"+inst.selectedYear);}else{if(MonthID)jQuery(MonthID).val(inst.selectedMonth+1);if(DayID)jQuery(DayID).val(inst.selectedDay);if(YearID)jQuery(YearID).val(inst.selectedYear);}}}}).insertAfter($insertAfter);}
$hdn.val($.oa.getdatepickervalue(MonthID,DayID,YearID)).focus();$hdn.datepicker('show');}}catch(err){}};$.oa.getdatepickervalue=function(MonthID,DayID,YearID){var d=new Date();return(MonthID?jQuery(MonthID).val():d.getMonth())+"/"+(DayID?jQuery(DayID).val():d.getDate())+"/"+(YearID?jQuery(YearID).val():d.getFullYear());};var argumentNameRegExp=/^\w+/,encodeRegExp=/\$\{([^}]*)\}/g,escapedCurlyRegExp=/\\\}/g,curlyRegExp=/__CURLY__/g,escapedSharpRegExp=/\\#/g,sharpRegExp=/__SHARP__/g;var ampRegExp=/&/g,ltRegExp=/</g,gtRegExp=/>/g;$.oa.template=$.oa.template||{};$.extend($.oa.template,{htmlEncode:function(a){return(""+a).replace(ampRegExp,"&amp;").replace(ltRegExp,"&lt;").replace(gtRegExp,"&gt;");},compilePart:function(b,a){if(a){return"'"+
b.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";}else{var first=b.charAt(0),rest=b.substring(1);if(first==="="){return"+("+rest+")+";}else if(first===":"){return"+e("+rest+")+";}else{return";"+b+";o+=";}}},compileTemplate:function(a){var f="var o,e=$.oa.template.htmlEncode;",parts,idx;var p="t";var argumentName=p.match(argumentNameRegExp)[0];f+="o=";parts=a.replace(escapedCurlyRegExp,"__CURLY__").replace(encodeRegExp,"#=e($1)#").replace(curlyRegExp,"}").replace(escapedSharpRegExp,"__SHARP__").split("#");for(idx=0;idx<parts.length;idx++){f+=$.oa.template.compilePart(parts[idx],idx%2===0);}
f+=";";f+="return o;";f=f.replace(sharpRegExp,"#");try{return new Function(argumentName,f);}catch(e){throw new Error($.oa.core.string.format("Invalid template:'{0}' Generated code:'{1}'",a,f));}},renderTemplate:function(a,b){return""+a(b);}});$.oa.validation=$.oa.validation||{};$.oa.validation.isDate=function(ds){var _regex=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(!_regex.test(ds))return false;var parts=ds.split("/");var day=parseInt(parts[1],10);var month=parseInt(parts[0],10);var year=parseInt(parts[2],10);if(year<1900||year>9999||month==0||month>12)return false;var monthLength=[31,28,31,30,31,30,31,31,30,31,30,31];if(year%400==0||(year%100!=0&&year%4==0))monthLength[1]=29;if(!(day>0&&day<=monthLength[month-1]))return false;var dd=new Date(ds);var maxD=new Date('12/30/9999'),minD=new Date('1/1/1900');if(dd>maxD||dd<minD)return false;return true;};$.oa.getParameterByName=function(name){var url=window.location.href;name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return'';return decodeURIComponent(results[2].replace(/\+/g," "));};})(jQuery);(function(){if(!window.console){window.console={};}
if(!$.isFunction(window.console.log)){window.console.log=function(e){alert(e);};}
window.oaApp=(function($){var pub={};pub.basePath='/';pub.onError=function(a){console.log(a);};pub.getPath=function(url){var path=oaApp.basePath;if(path!='/')
path=path+'/';return path+url;};pub.loadCss=function(src,loadParent){src=oaApp.getPath(src);var forceLoadParent=loadParent||false;if(forceLoadParent){if(top.$('head link [href*="'+src+'"]').length==0){top.$('head').append('<link rel="stylesheet" type="text/css" href="'+src+'?v='+oaApp.getVersionArg()+'" />');}}else{if($('head link [href*="'+src+'"]').length==0){$('head').append('<link rel="stylesheet" type="text/css" href="'+src+'?v='+oaApp.getVersionArg()+'" />');}}};pub.loadJs=function(src,func,callback){if(typeof funct=='undefined'){oaApp.appendJs(src,callback);}};pub.appendJs=function(src,callback){$.ajax({url:oaApp.getPath(src)+'?v='+oaApp.getVersionArg(),dataType:"script",cache:true,async:false,error:oaApp.onError});};pub.loadingBar=function(a){if(a==='show'){$("<div />").attr("id","globalOA_divLoader").css({'text-align':'center','vertical-align':'middle','width':'auto','min-height':'0px','max-height':'none','height':'auto'}).addClass('ui-dialog-content ui-widget-content').append($("<div />").text("Loading...")).append($("<img />").attr("alt","Loading...").attr("src",this.basePath+"/CommonUserControls/images/loading-blue.gif").css({'width':'36px','height':'36px'})).appendTo($(top.document.body)).dialog({modal:true,autoOpen:false,resizable:false,closeOnEscape:false,minHeight:null,draggable:false,dialogClass:'loadingDialog'}).dialog("open");}else{$(top.document.body).find('#globalOA_divLoader').remove();}};pub.loadingBar.show=function(isIframe,position){position=position||{};this.basePath=this.basePath||'';isIframe=isIframe||false;$("<div />").attr("id","globalOA_divLoader").css({'text-align':'center','vertical-align':'middle','width':'auto','min-height':'0px','max-height':'none','height':'auto'}).addClass('ui-dialog-content ui-widget-content').append($("<div />").text("Loading...")).append($("<img />").attr("alt","Loading...").attr("src",this.basePath+"/CommonUserControls/images/loading-blue.gif").css({'width':'36px','height':'36px'})).appendTo($((isIframe)?document.body:top.document.body)).dialog({modal:true,autoOpen:false,resizable:false,closeOnEscape:false,minHeight:null,draggable:false,dialogClass:'loadingDialog',position:position}).dialog("open");};pub.loadingBar.hide=function(isIframe){isIframe=isIframe||false;$((isIframe)?document.body:top.document.body).find('#globalOA_divLoader').remove();};return pub;})(jQuery);}());String.format=String.prototype.format=function(){var arrFormatParams=[];var strFormat="";if(typeof this.constructor()=="string"){arrFormatParams=arguments;strFormat=this;}
else{arrFormatParams=Array.prototype.slice.call(arguments,1);strFormat=arguments[0];}
return strFormat.replace(/{(\d+)}/g,function(match,paramIndex){if(parseInt(paramIndex)>=arrFormatParams.length)throw new Error("Format parameter index is greater than the number of parameters supplied.");return arrFormatParams[paramIndex];});}
function IsNumeric(v,a,b,req){if(req==1)if(v=='')return false;if(isNaN(v))return false;if(v<a||v>b)return false;return true;}
function IsNumeric(v){return(!isNaN(v));}
function IsDate(v){var p=/^(\d{1,2})(\/|-)(\d{1,2})\2(\d{2}|\d{4})$/;var a=v.match(p);if(a==null)return false;var m=a[1];var d=a[3];var y=a[4];if(m<1||m>12||d<1||d>31)return false;if(d==31&&(m==4||m==6||m==9||m==11))return false;if(m==2&&(d>29||(d==29&&!(!(y%4)&&((y%100)||!(y%400))))))return false;if(y<1900||y>2150)return false;return true;}
function IsValidDateTimeRange(a,b){try{var beginDate=(a.constructor.prototype==String.prototype?new Date(a):a);var endDate=(b.constructor.prototype==String.prototype?new Date(b):b);return beginDate.getTime()<=endDate.getTime();}catch(err){return false;}}
function IsCurrency(s){return IsDecimal(s,2);}
function IsDecimal(s,p){p=(p==null||p<1?20:p);var rgx=new RegExp("^\\d*(\\.\\d{1,"+p+"})?$");return rgx.test(s);}
function IsZip(v){return/^\d{5}(-?\d{4})?$/.test(v);}
function IsZip(v){return/(^\d{5}$)|(^\d{5}-\d{4}$)|(^\d{5}\d{4}$)/.test(v.replace(/^\s+|\s+$/g,""));}
function IsPhone(v){v=v.replace("(","").replace(")","").replace("-","").replace(" ","");if(v.length!=10)return false;return/^(\d{10})$/.test(v);}
function IsNPI(NPI){if(NPI.length!=10)return false;var f=NPI.substring(0,1);if(f!='1'&&f!='2')return false;return true;}
function IsCPT(CPT){var bolValid=true,ValidChars="01234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.",j,c;for(j=0;j<CPT.length;j++){c=CPT.substring(j,j+1);if(ValidChars.indexOf(c)<0){bolValid=false;break;}}
return bolValid;}
function IsAnesthesiaTime(t){var hh=t.substr(0,2),mm=t.substr(2,2);if(hh.indexOf(' ')!=-1)return false;if(mm.indexOf(' ')!=-1)return false;if(hh<0||hh>23)return false;if(mm<0||mm>59)return false;return true;}
function IsValidPhysicianQualifier(Qualifier){return true;}
function IsValidName(s){var bolMatch=/^[a-zA-Z\-]+\s*[a-zA-Z]?\.?\s+[a-zA-Z\-]+$/.test(s);if(!bolMatch)bolMatch=/^[a-zA-Z\-]+\s*,\s*[a-zA-Z\-]+(\s+[a-zA-Z]?\.?)?$/.test(s);return bolMatch;}
function CleanCPTList(s){var ostring=s.value;var al='1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.,';var thischar='';var newstring='';for(var i=0;i<ostring.length;i++){thischar=ostring.substring(i,i+1);if(al.indexOf(thischar)>0)newstring+=thischar;}
if(newstring!=ostring)s.value=newstring;}
function alphaNumericBlankssAndCommasOnly(e){var allowed='1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.,';if(window.event)isShift=e.shiftKey;else isShift=(window.Event)?((e.modifiers&Event.SHIFT_MASK)==Event.SHIFT_MASK):false;if(isShift){if(e.keyCode>64&&e.keyCode<91)return true;else return false;}
else if(e.keyCode==188)return true;else if(e.keyCode==110)return true;else if(e.keyCode==190)return true;else if(e.keyCode==8)return true;else if(e.keyCode==46)return true;else if(e.keyCode>64&&e.keyCode<91)return true;else if((e.keyCode>48&&e.keyCode<58)||(e.keyCode>95&&e.keyCode<106))return true;else return false;}
function ParsePhone(s){var o={AreaCode:'',Prefix:'',LineNumber:''};if(s&&typeof(s)=="string"){var c=s.replace(/[\W()-]/g,"");if(c.length==11){o.CountryCode=c.slice(0,1);c=c.slice(1);}
if(c.length==10){o.AreaCode=c.slice(0,3);o.Prefix=c.slice(3,6);o.LineNumber=c.slice(6,10);}}
return o;}
function ParseDate(ds){var a,m="",d="",y="";if(ds.indexOf("/")>=0){a=ds.split("/");m=a[0];d=a[1];y=a[2];}
else if(ds.indexOf("-")>=0){a=ds.split("-");m=a[0];d=a[1];y=a[2];}
return{Day:d,Month:m,Year:y};}
function numbersOnly(e){if(window.event)isShift=e.shiftKey;else isShift=(window.Event)?((e.modifiers&Event.SHIFT_MASK)==Event.SHIFT_MASK):false;if(isShift)if(e.keyCode!=9)return false;if((e.keyCode>57&&e.keyCode<96)||(e.keyCode>105))return false;}
function numbersAndPasteOnly(){e=this.event;if(window.event)isShift=e.shiftKey;else isShift=(window.Event)?((e.modifiers&Event.SHIFT_MASK)==Event.SHIFT_MASK):false;if(isShift)if(e.keyCode!=9)return false;if(((e.keyCode>57&&e.keyCode<96)||(e.keyCode>105))&&!(e.ctrlKey&&e.keyCode==86))return false;}
function numbersOnlyOnChange(txtBox){var validChars="";for(var x=0;x<txtBox.value.length;x++){if(txtBox.value[x].match(/[0-9]/)){validChars+=txtBox.value[x];}}
txtBox.value=validChars;return true;}
function numbersAndDashesOnly(e){if(window.event)isShift=e.shiftKey;else isShift=(window.Event)?((e.modifiers&Event.SHIFT_MASK)==Event.SHIFT_MASK):false;if(isShift)if(e.keyCode!=9)return false;if((e.keyCode>57&&e.keyCode<96)||(e.keyCode>105&&e.keyCode<109)||(e.keyCode>109&&e.keyCode<189)||(e.keyCode>189))return false;}
function numbersAndPeriodsOnly(e){if(window.event)isShift=e.shiftKey;else isShift=(window.Event)?((e.modifiers&Event.SHIFT_MASK)==Event.SHIFT_MASK):false;if(isShift)if(e.keyCode!=9)return false;if((e.keyCode>57&&e.keyCode<96)||(e.keyCode>105&&e.keyCode<110)||(e.keyCode>110&&e.keyCode<190)||(e.keyCode>190))return false;}
function numbersAndOnePeriodOnly(e,sender){if(window.event)isShift=e.shiftKey;else isShift=(window.Event)?((e.modifiers&Event.SHIFT_MASK)==Event.SHIFT_MASK):false;if(isShift)if(e.keyCode!=9)return false;if((e.keyCode==110||e.keyCode==190)&&sender.value.indexOf(".")>-1)return false;if((e.keyCode>57&&e.keyCode<96)||(e.keyCode>105&&e.keyCode<110)||(e.keyCode>110&&e.keyCode<190)||(e.keyCode>190))return false;}
function alphaOnly(e){var k=document.all?e.keyCode:e.which;return((k>64&&k<91)||(k>96&&k<123)||k==8||k==9||k==32||k==46);}
function alphaAndPeriodsOnly(e){if(window.event)isShift=e.shiftKey;else isShift=(window.Event)?((e.modifiers&Event.SHIFT_MASK)==Event.SHIFT_MASK):false;if(isShift)if(e.keyCode!=9&&(e.keyCode<65||e.keyCode>90))return false;if((e.keyCode>46&&e.keyCode<65)||(e.keyCode>90&&e.keyCode<110)||(e.keyCode>110&&e.keyCode<190)||(e.keyCode>190))return false;}
function validateNames(e){var k=document.all?e.keyCode:e.which;if((k>64&&k<91)||(k>96&&k<123)||k==8||k==9||k==32||k==127)return true;if(k==44||k==45||k==46||k==95||k==39){return true;}
return false;}
function validateNamesAllowNumbers(e){if(window.event)isShift=e.shiftKey;else isShift=(window.Event)?((e.modifiers&Event.SHIFT_MASK)==Event.SHIFT_MASK):false;if(isShift&&e.keyCode==35)return true;var k=document.all?e.keyCode:e.which;if((k>47&&k<58)||(k>64&&k<91)||(k>96&&k<123)||k==8||k==9||k==32||k==127||k==51)return true;if(k==44||k==45||k==46||k==95||k==39){return true;}
return false;}
function alphanumericOnly(e){if(window.event)isShift=e.shiftKey;else isShift=(window.Event)?((e.modifiers&Event.SHIFT_MASK)==Event.SHIFT_MASK):false;if(isShift&&e.keyCode===35)return true;var k=document.all?e.keyCode:e.which;if((k>47&&k<58&&!isShift)||(k>64&&k<91)||(k>95&&k<106)||k===8||k===9)return true;else return false;}
function validateNPI(npi){if(npi.charAt(0)==1||npi.charAt(0)==2){if(npi.length==10){var tmp,sum,i,j;i=npi.length;sum=24;j=0;while(i--){if(isNaN(npi.charAt(i)))
return false;tmp=npi.charAt(i)-'0';if(j++&1){if((tmp<<=1)>9){tmp-=10;tmp++;}}
sum+=tmp;}
if(sum%10)
return false;else
return true;}
else
return false;}
else
return false;}
function IsEmail(email){var regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return regex.test(email);}
function KeyBlock(ctrl,regex){ctrl.off('keypress.nspress').on('keypress.nspress',function(event){var charCode=event.which;if(charCode<=13)return true;var keyChar=String.fromCharCode(charCode);if(regex==='')regex='default';var r;r=DefaultRegexString(regex);var regexpression=new RegExp("["+r+"]");return regexpression.test(keyChar);});ctrl.off('drop.nspress').on('drop.nspress',function(){var that=this;setTimeout(function(){that.value=Sanitize(that.value,regex);},100);});ctrl.off('paste.nspress').on('paste.nspress',function(){var that=this;setTimeout(function(){that.value=Sanitize(that.value,regex);},100);});}
function Sanitize(before,regex){var after='';if(regex==='')regex='default';var r=DefaultRegexString(regex);var regexpression=new RegExp("["+r+"]");for(var i=0;i<before.length;i++){if(regexpression.test(before.charAt(i)))after=after+before.charAt(i);}
return after;}
function DefaultRegexString(type){switch(type){case"num":return"0-9";case"decimal":return"0-9.";case"alphanum":return"0-9a-zA-Z";case"alpha":return"a-zA-Z";case"suffix":return"a-zA-Z\\.\\s";case"name":return"A-Za-z\\s'\\-,._#";case"address":return"0-9A-Za-z\\s',\\.-";case"city":return"A-Za-z\\s',\\.-"
case"zip":return"0-9-";case"email":return"0-9a-zA-Z\\.\\_\\-\\@";case"phone":return"0-9\\+";case"url":return"^<>#%";case"default":return"^<>";case"filename":return"^\\\\\"<>|?/*:";default:return type;}}
function InitiateKeyBlock(){$("input[type='text']").each(function(idx,value){var r;if($(this).attr("keyblock")===undefined){r='';}
else r=$(this).attr("keyblock").toString();if(r!=='ignore')KeyBlock($(this),r);});$("textarea").each(function(idx,value){var r;if($(this).attr("keyblock")===undefined){r='';}
else r=$(this).attr("keyblock").toString();if(r!=='ignore')KeyBlock($(this),r);});}
$(function(){InitiateKeyBlock();});$.fn.OASerialize=function(){var o={};var a=serializeAll(this);$.each(a,function(){if(o[this.name]!==undefined){if(!o[this.name].push){o[this.name]=[o[this.name]];}
o[this.name].push(this.value||'');}else{o[this.name]=this.value||'';}});return o;function serializeAll(a){var data=$(a).serializeArray();$(a).each(function(){if($(a).is(":disabled")){data.push({name:a.name,value:$(a).val()});}});return data;};};(function($){$.fn.showBubbleMessage=function(m,t,ml,pos,auto){var time=ml||3000;var position=pos||'absolute';var msgBubble=$('<div/>',{"style":'display:none;padding:10px 15px;z-index:999;font-size:1.1em;border-radius:2px !important;-moz-border-radius:2px !important;-webkit-border-radius:2px !important;-o-border-radius:2px !important;position:'+position+';margin-left: auto;margin-right: auto;left: 0;right: 0;top:20px;width:60%;text-align:center;'}).html(m);if(t){switch(t){case 3:$(msgBubble).css("border","1px solid #cd0a0a");$(msgBubble).css("background","#fef1ec url(images/ui-bg_flat_95_fef1ec_40x100.png) 50% 50% repeat-x");$(msgBubble).css("color","#cd0a0a");break;case 2:$(msgBubble).css("border","1px solid orange");$(msgBubble).css("background-color","rgb(255, 242, 217)");$(msgBubble).css("color","#674301");break
default:$(msgBubble).css("border","1px solid #b8d6fb");$(msgBubble).css("background","#f8f8f8 url(/CommonUserControls/_static/css/navy-theme2/images/ui-bg_flat_75_f8f8f8_40x100.png) 50% 50% repeat-x");$(msgBubble).css("color","#285c00");break;}}else{$(msgBubble).css("border","1px solid #b8d6fb");$(msgBubble).css("background","#f8f8f8 url(/CommonUserControls/_static/css/navy-theme2/images/ui-bg_flat_75_f8f8f8_40x100.png) 50% 50% repeat-x");$(msgBubble).css("color","#285c00");}
if(auto){var count=(m.match(/&nbsp;/g)||[]).length;time=(count+2)*1000;if(count>0)$(msgBubble).css("text-align","left","important");}
$(msgBubble).appendTo(this).show();setTimeout(function(){$(msgBubble).fadeOut("slow",function(){$(msgBubble).remove();});},time);}})(jQuery);function calculateCommonPatientResponsibilityBalance(lnkCalculateBalance,patientId,pBalanceTextBox){webapi.reset();webapi.url='v1/patients/'+patientId+'/balance';webapi.tokens.oa.useToken=true;webapi.get(function onSuccess(response){if(response!=null&&response.balance!=null&&!isNaN(response.balance)){$('#'+pBalanceTextBox).val('$'+response.balance.toFixed(2));$('#'+pBalanceTextBox).show();$('#'+lnkCalculateBalance).hide();}
else{toastr.error("Error getting patient responsibility balance.");}});}
(function(a){a._MsgArea=null;a._ajaxOpts={wait:{image:"/CommonUserControls/images/big-progress.gif",message:"Please wait...",target:$('#MainFolder'),showDelay:300}};a._initialized=false;a.scriptsLoaded=false;a.settings={enabled:false,ehr:false,access:0,templUrl:'',cnt:0,name:'',show:0,PID:0,LID:1};a.gridid='oagridalerts';a.popupCtl=null;a.gridCol=["ID","StatusID","display","Date Resolved","Message","Resolve","Edit","Del"];a.gridColModel=[{"index":"ID","hidden":true,"key":true,"name":"ID"},{"index":"StatusID","hidden":true,"name":"StatusID"},{"index":"display","hidden":true,"name":"display"},{"index":"DateResolved","hidden":true,"name":"DateResolved"},{"width":420,"index":"Message","name":"Message"},{"formatter":"jsaction","sortable":false,"width":50,"align":"center","formatoptions":{"icon":"check","action":"PatientAlerts_Resolve","active":1,"title":"Resolve Alert"},"name":"canResolve"},{"formatter":"jsaction","sortable":false,"width":30,"align":"center","formatoptions":{"icon":"pencil","action":"PatientAlerts_Edit2","active":1,"title":"Edit Alert"},"name":"canView"},{"formatter":"actiondeletebutton","sortable":false,"width":30,"align":"center","formatoptions":{"title":"Delete Alert"},"name":"canDelete"}];a.initialize=function(){var q=this,qs=q.settings;if(!q._initialized){if(qs.access===0){q.gridCol.pop();q.gridCol.pop();q.gridColModel.pop();q.gridColModel.pop();}
q._initialized=true;}};a.initializeSettings=function(o){this.settings=$.extend(this.settings,o);};a.loadDependencies=function(){var q=this,qs=q.settings;if(q.scriptsLoaded==false){if(typeof(Sys)==='undefined'){oaApp.appendJs('CommonUserControls/_static/_scripts/3rdParty/MicrosoftAjax.js');}
if(typeof(jQuery.fn.jqGrid)==='undefined'){oaApp.loadCss('CommonUserControls/_static/css/jqGrid/ui.jqgrid.css');oaApp.appendJs('CommonUserControls/_static/_scripts/grid/grid.locale-en.js');oaApp.appendJs('CommonUserControls/_static/_scripts/grid/jqgrid.min.js');}
q.scriptsLoaded=true;}};a.validSettings=function(){var q=this,qs=q.settings;return qs.enabled&&qs.cnt>0&&qs.show>0&&qs.PID>0;};a.showAlerts=function(onSuccess,op){var q=this,qs=q.settings;var _opts={dlgid:"dlgAlertMessages",_name:qs.name,onSuccess:onSuccess,op:op,recreate:false}
$.oa.ui.controls.dialog.show($.oa.ui.dialogs.AlertMessagesDialog,_opts);};a.OnError=function(a){console.log(a);};a.customDelete=function(a,ret){var b={Status:1,Message:'Deleted alert successfully.'};if(ret[0]===false)b={Status:0,Message:ret[1]};$.oa.alerts.popupCtl.ShowMsg(b);};a.checkPatientAlerts=function(pid,pname,lid,onSuccess,op){var q=this,qs=q.settings,pid=pid*1;if(pid!==qs.PID||lid!==qs.LID){q.loadDependencies();var postData={id:pid,lid:lid};q.doAjaxRequest("AlertsCount",postData,function(a){q.initializeSettings({cnt:a.Status,PID:pid,name:pname,LID:lid});if(a.Status>0){q.showAlerts(onSuccess,op);}else if(onSuccess)try{onSuccess(op);}catch(ex){}});}else if(onSuccess)try{onSuccess(op);}catch(ex){}};a.doAjaxRequest=function(op,postData,onSuccess){var q=this,qs=q.settings,url=oaApp.getPath('CommonUserControls/Alerts/Api.aspx?oper='+op);postData=$.extend(postData||{},{__RequestVerificationToken:$.oa.core.getAntiForgeryTokenValue()});$.oa.ajax.doPost(url,$.oa.core.utilities.stringifyMSJSON(postData),function(a){if(onSuccess)try{onSuccess(a);}catch(ex){q.OnError(ex);}},q.OnError,null);};a.initAlertsGrids=function(gid){var q=this,qs=q.settings,gridid=gid!==undefined?gid:q.gridid,gurl='CommonUserControls/Alerts/GridApi.aspx?jqGridID=oagridalerts&PID='+qs.PID+'&LID='+qs.LID;q.gridid=gridid;$('#'+gridid).jqGrid({url:oaApp.getPath(gurl),editurl:oaApp.getPath(gurl+'&editMode=1'),datatype:'json',page:1,colNames:q.gridCol,colModel:q.gridColModel,viewrecords:true,scrollrows:false,delDialogOptions:{caption:"Delete Alert",msg:"Are you sure you want to delete selected alert?",width:'auto',customDelete:$.oa.alerts.customDelete,errorTextFormat:function(data){return'Error: '+data.responseText}},jsonReader:{id:"ID"},rowNum:5,rowList:[5,10,20],sortorder:'asc',hidegrid:false,width:'695',height:'100%',headertitles:true,hoverrows:false,altRows:true,pager:$('#'+gridid+'_pager'),emptyrecords:'No data.',viewsortcols:[false,'vertical',true],loadonce:true,loadError:$.oa.loadErrorHandler,loadBeforeSend:function(jqXHR){jqXHR.setRequestHeader('Accept','application/json, text/javascript, */*; q=0.01');}});$('#'+gridid).bindKeys();$('#'+gridid).navGrid('#'+gridid+'_pager',{"add":false,"cloneToTop":true,"del":false,"edit":false,"position":"left","refresh":true,"search":false,"view":false},{},{},$('#'+q.gridid+'_pager').getGridParam('delDialogOptions'),{},{});};a.initGrids=function(){var q=this,qs=q.settings;if(qs.PID>0){if(qs.cnt>0){q.initAlertsGrids('oagridalerts');}}};})($.oa.alerts||($.oa.alerts={}));$.oa.ui.dialogs=$.oa.ui.dialogs||{};$.oa.ui.dialogs.AlertMessagesDialog=function(d){$.oa._extends(b,d);function b(a){d.call(this,a)}
b._controlType="AlertMessagesDialog";var ctl_msg,q=this;b.prototype.initializeOptions=function(b){d.prototype.initializeOptions.call(this,$.extend({width:725,height:"auto",resizable:false,disposeOnClose:true,open:function(){},close:$.oa.core.delegate(this,this.onCancelClick),title:$.oa.core.string.format("{0} has the following alerts:",b._name)},b));};b.prototype.initialize=function(){this._options.buttons=[{text:"Close",click:$.oa.core.delegate(this,this.onCancelClick)}];d.prototype.initialize.call(this);this.renderMainPage();};b.prototype.renderMainPage=function(){var _div,_main,_tr,_td,_td2;q=this;q._element.empty();_div=$($.oa.ui.dom("div")).attr("width","100%").appendTo(q._element);ctl_msg=$.oa.ui.controls.webcontrol.createIn($.oa.ui.controls.messageArea,_div,{closeable:true});$($.oa.ui.dom("span")).addClass("BannerTitleText").css("text-align","left").css("display","block").css("margin-top","10px").html('Alert Messages').appendTo(_div);q._msgGrid=$($.oa.ui.dom("table")).attr("id","oagridalerts").appendTo(_div);q._msgGridPager=$($.oa.ui.dom("div")).attr("id","oagridalerts_pager").appendTo(_div);$.oa.alerts.initGrids();$.oa.alerts.popupCtl=q;};b.prototype.ShowMsg=function(a){ctl_msg.setMessage(a.Message,a.Status==1?1:0);};b.prototype.onCancelClick=function(a){q=this;this.close();$.oa.alerts.popupCtl=null;if(q._options.onSuccess)try{q._options.onSuccess(q._options.op);}catch(ex){}};return b}($.oa.ui.controls.modaldialog);$.oa.ui.dialogs.EditAlertDialog=function(d){$.oa._extends(b,d);function b(a){d.call(this,a)}
b._controlType="EditAlertDialog";var ctl_msg,q=this,id,cnt,oldStatusID=-1,loaded=false;b.prototype.initializeOptions=function(b){d.prototype.initializeOptions.call(this,$.extend({width:450,height:"auto",resizable:false,disposeOnClose:true,open:function(){},close:$.oa.core.delegate(this,this.onCancelClick),title:$.oa.core.string.format("{0} Alert",b._id>0?"Edit":"Add")},b));};b.prototype.initialize=function(){this._options.buttons=[{id:"btnUpdate",text:"Update",disabled:false,click:$.oa.core.delegate(this,this._onUpdateAction)},{text:"Cancel",click:function(){$(this).dialog("close");}}];d.prototype.initialize.call(this);if(!loaded)oaApp.loadJs('CommonUserControls/_static/_scripts/3rdParty/jquery-jtemplates.js',jQuery.fn.setTemplateURL);loaded=true;this.renderMainPage();this._element.siblings(".ui-dialog-buttonpane").find("#cancel").focus();};b.prototype.renderMainPage=function(){q=this;q._element.empty();var templatePath=oaApp.basePath+$.oa.alerts.settings.templUrl;q._element.setTemplateURL(templatePath,[],{filter_data:false});q._element.processTemplate();ctl_msg=$.oa.ui.controls.webcontrol.createIn($.oa.ui.controls.messageArea,q._element.find('.message-area'),{closeable:true});cnt=q._element.find('.cnt');q._initControls();id=q._options._id;var s=q.Status.val();if(id!=0){var postData={id:id,s:s,msg:q.Message.val(),pid:$.oa.alerts.settings.PID,d:q.GetDisplaySettings(),os:oldStatusID};$.oa.alerts.doAjaxRequest("StartAlertViewEditAudit",postData);}};b.prototype._initControls=function(){q=this,id=q._options._id;q.Message=$('#txtMessage');q.Status=$('#lstStatus');q._ctl=$([]).add(q.Message).add(q.Status);if($.oa.alerts.settings.ehr){$('#dchk4').show();}
if(id>0){var row=$('#'+$.oa.alerts.gridid).jqGrid("getRowData",id);q.Message.val(row.Message);oldStatusID=row.StatusID;q.Status.val(oldStatusID);if(oldStatusID!=1)q.Status.attr("disabled",true);if(oldStatusID==2){q.Message.attr("disabled",true);this._element.siblings(".ui-dialog-buttonpane").find("#btnUpdate").attr("disabled",true);}
var d=row.display;for(i=0;i<5;i++){var p=Math.pow(2,i+1),ck=false;if((d&p)==p)ck=true;$('#chk'+i).attr("checked",ck);if(oldStatusID==2)$('#chk'+i).attr("disabled",true);}}else{q.Status.attr("disabled",true);}
q.Message.bind('keyup',{},function(e){CheckMaxLength(this,128,cnt);});try{$('#txtMessage').focus();}catch(z){}};b.prototype.validate=function(){var d=true,s=q.Status.val();var msg='Please complete the required fields.',msg2='Select at least one display option.';q._ctl.removeClass('ui-state-error');if(q.Message.val().length<=0){q.Message.addClass('ui-state-error');d=false;}
if(q.GetDisplaySettings()==0){if(!d)msg+='<br>'+msg2;else msg=msg2;d=false;}
if(d){ctl_msg.clear();}
else ctl_msg.setError(msg);return d;};b.prototype.onCancelClick=function(a){this.close();};b.prototype.GetDisplaySettings=function(){var xBit='0';for(i=0;i<5;i++){var bit='0';if(chkGet('chk'+i))bit='1';xBit=bit+xBit;}
var xDec=parseInt(xBit,2);return xDec;};b.prototype._onUpdateAction=function(){q=this,id=q._options._id;if(this.validate()){var s=q.Status.val();var postData={id:id,s:s,msg:q.Message.val(),pid:$.oa.alerts.settings.PID,d:q.GetDisplaySettings(),os:oldStatusID};$.oa.alerts.doAjaxRequest("UpdateAlert",postData,OnUpdateAlert);this.close();}};return b}($.oa.ui.controls.modaldialog);function EditPatientAlert(id){var _opts={dlgid:"dlgEditAlert",_id:id,recreate:false}
$.oa.ui.controls.dialog.show($.oa.ui.dialogs.EditAlertDialog,_opts);}
function PatientAlerts_Edit2(id){EditPatientAlert(id);}
function PatientAlerts_Resolve(id){var postData={id:id};$.oa.alerts.doAjaxRequest("ResolveAlert",postData,OnUpdateAlert);}
function OnUpdateAlert(a){try{if($.oa.alerts.popupCtl!==null)$.oa.alerts.popupCtl.ShowMsg(a);}catch(e){}
if(a.Status==1)$('#'+$.oa.alerts.gridid).jqGrid('searchGrid',{});}
function CheckMaxLength(obj,maxlen,e){if(obj.value.length>=maxlen)obj.value=obj.value.substring(0,maxlen);if(obj.value.length>0)$(obj).removeClass('ui-state-error');e.html(maxlen-obj.value.length);}
$.oaAjax=function(options){var WebApiType={OfficeAlly:1,Audit:2,AutoComplete:3,CCDA:4,Dashboard:5,Encounters:6,IntakePro:7,Internal:8,PatientAlly:9,PatientApi:10,Payment:11,Settings:12,Statistics:13,DirectEnrollmentHandler:14,Session:15,eRx:16,Communication:17,MegaMenuAPI:18,Updox:19,sftp:20,Enrollments:21,Documents:22,Logging:23,XAD:25,Agreements:27,Studies:37,VirtualVisits:40};var basePath=oaApp.basePath=="/"?"":oaApp.basePath;var baseUrl=basePath+'/CommonUserControls/Ajax/WebAPI/WebApiHandler.ashx?action=/v1/';var checkAntiForgeryToken=function(){if(typeof $.oa!=="object"||typeof $.oa.core!=="object"){throw new Error("$.oa.core must be loaded on the page");}
if(!$.oa.core.getAntiForgeryTokenValue()){throw new Error("No Anti Forgery Token found.");}};options=$.extend({enforceAntiForgery:true,beforeSend:function(xhr,option){option.url=baseUrl+option.url+'&'+$.param({ApiType:option.apiType||WebApiType.OfficeAlly});xhr.setRequestHeader("X-OA-AUTH-TOKEN",$.oa.core.getAntiForgeryTokenValue());},cache:false,contentType:'application/json'},options||{});if(options.enforceAntiForgery){checkAntiForgeryToken();}
return jQuery.ajax(options);};
