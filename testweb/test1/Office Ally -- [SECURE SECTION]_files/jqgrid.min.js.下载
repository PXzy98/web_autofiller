/**
 * @license jqGrid  4.7.1 - jQuery Grid
 * Copyright (c) 2008, Tony Tomov, tony@trirand.com
 * Dual licensed under the MIT and GPL licenses
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 * Date: 2014-12-16
 */
function ddlSet(n,t){$("#"+n+' option[value="'+t+'"]').prop("selected","selected")}function ddlGet(n){return $("#"+n+" option:selected").attr("value")}function ddlText(n){return $("#"+n+" option:selected").text()}function ddlAdd(n,t,i){$("#"+n).append($("<option/>",{value:t,text:i}))}function ddlClear(n){$("#"+n+" option").remove()}function ddlDel(n,t){$("#"+n+' option[value="'+t+'"]').remove()}function ddlHas(n,t){return $("#"+n+' option:contains("'+t+'")').length>0}function chkGet(n){var t=$("#"+n).prop("checked");return t==!0||t=="on"?!0:!1}function SetGridState(){var n=!1,t=!1,i=$("#"+gridid).closest(".ui-jqgrid").find(".ui-pg-selbox"),r;_currPage>1&&(n=!0);_sortExpression.length>1&&(n=!0);_sortOrder.length>1&&(n=!0);_rowNum!==i.val()&&(n=!0,t=!0);n==!0&&(r=$("#"+gridid),r.jqGrid("setGridParam",{sortname:_sortExpression,sortorder:_sortOrder,page:_currPage,rowNum:_rowNum}).trigger("reloadGrid"),t===!0&&i.val(_rowNum))}function searchGrid(){try{BindSearch();hasFilter==1&&filterType==0&&resetFilter();var n=$("#"+gridid);n.jqGrid("searchGrid",{})}catch(t){window.console&&console.log(t)}}function updateGrid(){try{var n=$("#"+gridid);n.jqGrid("updateGrid",{})}catch(t){window.console&&console.log(t)}}(function(n){"use strict";n.jgrid=n.jgrid||{};n.extend(n.jgrid,{version:"4.7.1",format:function(t){var i=n.makeArray(arguments).slice(1);return t==null&&(t=""),t.replace(/\{(\d+)\}/g,function(n,t){return i[t]})},getCellIndex:function(t){var i=n(t);return i.is("tr")?-1:(i=(!i.is("td")&&!i.is("th")?i.closest("td,th"):i)[0],n.oa.core.browser.msie)?n.inArray(i,i.parentNode.cells):i.cellIndex},stripPref:function(t,i){var r=n.type(t);return(r=="string"||r=="number")&&(t=String(t),i=t!==""?String(i).replace(String(t),""):i),i},stringToDoc:function(n){var t,i;if(typeof n!="string")return n;try{i=new DOMParser;t=i.parseFromString(n,"text/xml")}catch(r){t=new ActiveXObject("Microsoft.XMLDOM");t.async=!1;t.loadXML(n)}return t&&t.documentElement&&t.documentElement.tagName!="parsererror"?t:null},parse:function(t){var i=t;return i.substr(0,9)==="while(1);"&&(i=i.substr(9)),i.substr(0,2)==="/*"&&(i=i.substr(2,i.length-4)),i||(i="{}"),n.jgrid.useJSON===!0&&typeof JSON=="object"&&typeof JSON.parse=="function"?JSON.parse(i):eval("("+i+")")},parseDate:function(t,i,r,u){var rt=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),l=typeof i=="string"?i.match(rt):null,c=function(n,t){for(n=String(n),t=parseInt(t,10)||2;n.length<t;)n="0"+n;return n},f={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},o=0,s,e,nt,tt=function(n,t){return n===0?t===12&&(t=0):t!==12&&(t+=12),t},h=0,v;if(u===undefined&&(u=n.jgrid.formatter.date),u.parseRe===undefined&&(u.parseRe=/[#%\\\/:_;.,\t\s-]/),u.masks.hasOwnProperty(t)&&(t=u.masks[t]),i&&i!=null)if(isNaN(+i)||String(t).toLowerCase()!=="u")if(i.constructor===Date)o=i;else if(l!==null)o=new Date(parseInt(l[1],10)),l[3]&&(h=Number(l[5])*60+Number(l[6]),h*=l[4]==="-"?1:-1,h-=o.getTimezoneOffset(),o.setTime(Number(Number(o)+h*6e4)));else{for(u.srcformat==="ISO8601Long"&&i.charAt(i.length-1)==="Z"&&(h-=(new Date).getTimezoneOffset()),i=String(i).replace(/\T/g,"#").replace(/\t/,"%").split(u.parseRe),t=t.replace(/\T/g,"#").replace(/\t/,"%").split(u.parseRe),e=0,nt=t.length;e<nt;e++)t[e]==="M"&&(s=n.inArray(i[e],u.monthNames),s!==-1&&s<12&&(i[e]=s+1,f.m=i[e])),t[e]==="F"&&(s=n.inArray(i[e],u.monthNames,12),s!==-1&&s>11&&(i[e]=s+1-12,f.m=i[e])),t[e]==="a"&&(s=n.inArray(i[e],u.AmPm),s!==-1&&s<2&&i[e]===u.AmPm[s]&&(i[e]=s,f.h=tt(i[e],f.h))),t[e]==="A"&&(s=n.inArray(i[e],u.AmPm),s!==-1&&s>1&&i[e]===u.AmPm[s]&&(i[e]=s-2,f.h=tt(i[e],f.h))),t[e]==="g"&&(f.h=parseInt(i[e],10)),i[e]!==undefined&&(f[t[e].toLowerCase()]=parseInt(i[e],10));if(f.f&&(f.m=f.f),f.m===0&&f.y===0&&f.d===0)return"&#160;";f.m=parseInt(f.m,10)-1;v=f.y;v>=70&&v<=99?f.y=1900+f.y:v>=0&&v<=69&&(f.y=2e3+f.y);o=new Date(f.y,f.m,f.d,f.h,f.i,f.s,f.u);h>0&&o.setTime(Number(Number(o)+h*6e4))}else o=new Date(parseFloat(i)*1e3);else o=new Date(f.y,f.m,f.d,f.h,f.i,f.s,f.u);if(u.userLocalTime&&h===0&&(h-=(new Date).getTimezoneOffset(),h>0&&o.setTime(Number(Number(o)+h*6e4))),r===undefined)return o;u.masks.hasOwnProperty(r)?r=u.masks[r]:r||(r="Y-m-d");var a=o.getHours(),ut=o.getMinutes(),w=o.getDate(),y=o.getMonth()+1,d=o.getTimezoneOffset(),ft=o.getSeconds(),et=o.getMilliseconds(),b=o.getDay(),p=o.getFullYear(),k=(b+6)%7+1,g=(new Date(p,y-1,w)-new Date(p,0,1))/864e5,it={d:c(w),D:u.dayNames[b],j:w,l:u.dayNames[b+7],N:k,S:u.S(w),w:b,z:g,W:k<5?Math.floor((g+k-1)/7)+1:Math.floor((g+k-1)/7)||((new Date(p-1,0,1).getDay()+6)%7<4?53:52),F:u.monthNames[y- -11],m:c(y),M:u.monthNames[y-1],n:y,t:"?",L:"?",o:"?",Y:p,y:String(p).substring(2),a:a<12?u.AmPm[0]:u.AmPm[1],A:a<12?u.AmPm[2]:u.AmPm[3],B:"?",g:a%12||12,G:a,h:c(a%12||12),H:c(a),i:c(ut),s:c(ft),u:et,e:"?",I:"?",O:(d>0?"-":"+")+c(Math.floor(Math.abs(d)/60)*100+Math.abs(d)%60,4),P:"?",T:(String(o).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(o/1e3)};return r.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(n){return it.hasOwnProperty(n)?it[n]:n.substring(1)})},jqID:function(n){return String(n).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(t){return(t||n.jgrid.uidPref)+n.jgrid.guid++},getAccessor:function(n,t){var i,f,r=[],u;if(typeof t=="function")return t(n);if(i=n[t],i===undefined)try{if(typeof t=="string"&&(r=t.split(".")),u=r.length,u)for(i=n;i&&u--;)f=r.shift(),i=i[f]}catch(e){}return i},getXmlData:function(t,i,r){var f,u=typeof i=="string"?i.match(/^(.*)\[(\w+)\]$/):null;return typeof i=="function"?i(t):u&&u[2]?u[1]?n(u[1],t).attr(u[2]):n(t).attr(u[2]):(f=n(i,t),r)?f:f.length>0?n(f).text():undefined},cellWidth:function(){return!1},cell_width:!0,ajaxOptions:{},from:function(t){var i=function(t,i){typeof t=="string"&&(t=n.data(t));var r=this,u=t,l=!0,o=!1,f=i,v=/[\$,%]/g,h=null,y=null,p=0,e=!1,a="",s=[],c=!0;if(typeof t=="object"&&t.push)t.length>0&&(c=typeof t[0]!="object"?!1:!0);else throw"data provides is not an array";return this._hasData=function(){return u===null?!1:u.length===0?!1:!0},this._getStr=function(n){var t=[];return o&&t.push("jQuery.trim("),t.push("String("+n+")"),o&&t.push(")"),l||t.push(".toLowerCase()"),t.join("")},this._strComp=function(n){return typeof n=="string"?".toString()":""},this._group=function(n,t){return{field:n.toString(),unique:t,items:[]}},this._toStr=function(t){return o&&(t=n.trim(t)),t=t.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),l?t:t.toLowerCase()},this._funcLoop=function(t){var i=[];return n.each(u,function(n,r){i.push(t(r))}),i},this._append=function(n){var t;for(f===null?f="":f+=a===""?" && ":a,t=0;t<p;t++)f+="(";e&&(f+="!");f+="("+n+")";e=!1;a="";p=0},this._setCommand=function(n,t){h=n;y=t},this._resetNegate=function(){e=!1},this._repeatCommand=function(n,t){return h===null?r:n!==null&&t!==null?h(n,t):y===null?h(n):c?h(y,n):h(n)},this._equals=function(n,t){return r._compare(n,t,1)===0},this._compare=function(n,t,i){var r=Object.prototype.toString;return(i===undefined&&(i=1),n===undefined&&(n=null),t===undefined&&(t=null),n===null&&t===null)?0:n===null&&t!==null?1:n!==null&&t===null?-1:r.call(n)==="[object Date]"&&r.call(t)==="[object Date]"?n<t?-i:n>t?i:0:(l||typeof n=="number"||typeof t=="number"||(n=String(n).toLowerCase(),t=String(t).toLowerCase()),n<t)?-i:n>t?i:0},this._performSort=function(){s.length!==0&&(u=r._doSort(u,0))},this._doSort=function(n,t){var h=s[t].by,c=s[t].dir,l=s[t].type,a=s[t].datefmt,v=s[t].sfunc,f,e,i,o,u;if(t===s.length-1)return r._getOrder(n,h,c,l,a,v);for(t++,f=r._getGroup(n,h,c,l,a),e=[],i=0;i<f.length;i++)for(o=r._doSort(f[i].items,t),u=0;u<o.length;u++)e.push(o[u]);return e},this._getOrder=function(t,i,u,f,e,o){var l=[],h=[],a=u==="a"?1:-1,y,s,c,p,w;for(f===undefined&&(f="text"),p=f==="float"||f==="number"||f==="currency"||f==="numeric"?function(n){var t=parseFloat(String(n).replace(v,""));return isNaN(t)?0:t}:f==="int"||f==="integer"?function(n){return n?parseFloat(String(n).replace(v,"")):0}:f==="date"||f==="datetime"?function(t){return n.jgrid.parseDate(e,t).getTime()}:n.isFunction(f)?f:function(t){return t||(t=""),n.trim(String(t).toUpperCase())},n.each(t,function(t,r){s=i!==""?n.jgrid.getAccessor(r,i):r;s===undefined&&(s="");s=p(s,r);h.push({vSort:s,index:t})}),n.isFunction(o)?h.sort(function(n,t){return n=n.vSort,t=t.vSort,o.call(this,n,t,a)}):h.sort(function(n,t){return n=n.vSort,t=t.vSort,r._compare(n,t,a)}),c=0,w=t.length;c<w;)y=h[c].index,l.push(t[y]),c++;return l},this._getGroup=function(t,i,u,f,e){var h=[],o=null,c=null,s;return n.each(r._getOrder(t,i,u,f,e),function(t,u){s=n.jgrid.getAccessor(u,i);s===undefined&&(s="");r._equals(c,s)||(c=s,o!==null&&h.push(o),o=r._group(i,s));o.items.push(u)}),o!==null&&h.push(o),h},this.ignoreCase=function(){return l=!1,r},this.useCase=function(){return l=!0,r},this.trim=function(){return o=!0,r},this.noTrim=function(){return o=!1,r},this.execute=function(){var t=f,i=[];return t===null?r:(n.each(u,function(){eval(t)&&i.push(this)}),u=i,r)},this.data=function(){return u},this.select=function(t){if(r._performSort(),!r._hasData())return[];if(r.execute(),n.isFunction(t)){var i=[];return n.each(u,function(n,r){i.push(t(r))}),i}return u},this.hasMatch=function(){return r._hasData()?(r.execute(),u.length>0):!1},this.andNot=function(n,t,i){return e=!e,r.and(n,t,i)},this.orNot=function(n,t,i){return e=!e,r.or(n,t,i)},this.not=function(n,t,i){return r.andNot(n,t,i)},this.and=function(n,t,i){return(a=" && ",n===undefined)?r:r._repeatCommand(n,t,i)},this.or=function(n,t,i){return(a=" || ",n===undefined)?r:r._repeatCommand(n,t,i)},this.orBegin=function(){return p++,r},this.orEnd=function(){return f!==null&&(f+=")"),r},this.isNot=function(n){return e=!e,r.is(n)},this.is=function(n){return r._append("this."+n),r._resetNegate(),r},this._compareValues=function(t,i,u,f,e){var s,o,h;if(s=c?"jQuery.jgrid.getAccessor(this,'"+i+"')":"this",u===undefined&&(u=null),o=u,h=e.stype===undefined?"text":e.stype,u!==null)switch(h){case"int":case"integer":o=isNaN(Number(o))||o===""?"0":o;s="parseInt("+s+",10)";o="parseInt("+o+",10)";break;case"float":case"number":case"numeric":o=String(o).replace(v,"");o=isNaN(Number(o))||o===""?"0":o;s="parseFloat("+s+")";o="parseFloat("+o+")";break;case"date":case"datetime":o=String(n.jgrid.parseDate(e.newfmt||"Y-m-d",o).getTime());s='jQuery.jgrid.parseDate("'+e.srcfmt+'",'+s+").getTime()";break;default:s=r._getStr(s);o=r._getStr('"'+r._toStr(o)+'"')}return r._append(s+" "+f+" "+o),r._setCommand(t,i),r._resetNegate(),r},this.equals=function(n,t,i){return r._compareValues(r.equals,n,t,"==",i)},this.notEquals=function(n,t,i){return r._compareValues(r.equals,n,t,"!==",i)},this.isNull=function(n,t,i){return r._compareValues(r.equals,n,null,"===",i)},this.greater=function(n,t,i){return r._compareValues(r.greater,n,t,">",i)},this.less=function(n,t,i){return r._compareValues(r.less,n,t,"<",i)},this.greaterOrEquals=function(n,t,i){return r._compareValues(r.greaterOrEquals,n,t,">=",i)},this.lessOrEquals=function(n,t,i){return r._compareValues(r.lessOrEquals,n,t,"<=",i)},this.startsWith=function(t,i){var f=i===undefined||i===null?t:i,u=o?n.trim(f.toString()).length:f.toString().length;return c?r._append(r._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr(0,"+u+") == "+r._getStr('"'+r._toStr(i)+'"')):(i!=null&&(u=o?n.trim(i.toString()).length:i.toString().length),r._append(r._getStr("this")+".substr(0,"+u+") == "+r._getStr('"'+r._toStr(t)+'"'))),r._setCommand(r.startsWith,t),r._resetNegate(),r},this.endsWith=function(t,i){var u=i===undefined||i===null?t:i,f=o?n.trim(u.toString()).length:u.toString().length;return c?r._append(r._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr("+r._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".length-"+f+","+f+') == "'+r._toStr(i)+'"'):r._append(r._getStr("this")+".substr("+r._getStr("this")+'.length-"'+r._toStr(t)+'".length,"'+r._toStr(t)+'".length) == "'+r._toStr(t)+'"'),r._setCommand(r.endsWith,t),r._resetNegate(),r},this.contains=function(n,t){return c?r._append(r._getStr("jQuery.jgrid.getAccessor(this,'"+n+"')")+'.indexOf("'+r._toStr(t)+'",0) > -1'):r._append(r._getStr("this")+'.indexOf("'+r._toStr(n)+'",0) > -1'),r._setCommand(r.contains,n),r._resetNegate(),r},this.groupBy=function(n,t,i,f){return r._hasData()?r._getGroup(u,n,t,i,f):null},this.orderBy=function(t,i,u,f,e){return i=i===undefined||i===null?"a":n.trim(i.toString().toLowerCase()),(u===null||u===undefined)&&(u="text"),(f===null||f===undefined)&&(f="Y-m-d"),e==null&&(e=!1),(i==="desc"||i==="descending")&&(i="d"),(i==="asc"||i==="ascending")&&(i="a"),s.push({by:t,dir:i,type:u,datefmt:f,sfunc:e}),r},r};return new i(t,null)},getMethod:function(t){return this.getAccessor(n.fn.jqGrid,t)},extend:function(t){n.extend(n.fn.jqGrid,t);this.no_legacy_api||n.fn.extend(t)}});n.fn.jqGrid=function(t){var i,r;if(typeof t=="string"){if(i=n.jgrid.getMethod(t),!i)throw"jqGrid - No such method: "+t;return r=n.makeArray(arguments).slice(1),i.apply(this,r)}return this.each(function(){var ot,u,i,r,f,s,p,nt,b,bi,ut,d,kt,ft,dt,et,h,a,gt,pt,di;if(!this.grid){if(t!=null&&t.data!==undefined&&(ot=t.data,t.data=[]),u=n.extend(!0,{url:"",minheight:"100px",height:250,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,pglinks:!1,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,maintainselection:!0,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],selection:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!1,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33,LoadOnDemand:!1,initialized:!0,showall:!1,showNoData:!1,subGridCustom:!1},n.jgrid.defaults,t||{}),ot!==undefined&&(u.data=ot,t.data=ot),i=this,r={headers:[],cols:[],footers:[],dragStart:function(t,r,f){var e=n(this.bDiv).offset().left;this.resizing={idx:t,startX:r.pageX,sOL:r.pageX-e};this.hDiv.style.cursor="col-resize";this.curGbox=n("#rs_m"+n.jgrid.jqID(u.id),"#gbox_"+n.jgrid.jqID(u.id));this.curGbox.css({display:"block",left:r.pageX-e,top:f[1],height:f[2]});n(i).triggerHandler("jqGridResizeStart",[r,t]);n.isFunction(u.resizeStart)&&u.resizeStart.call(i,r,t);document.onselectstart=function(){return!1}},dragMove:function(n){if(this.resizing){var t=n.pageX-this.resizing.startX,i=this.headers[this.resizing.idx],e=u.direction==="ltr"?i.width+t:i.width-t,r,f;f>u.minColWidth&&(this.curGbox.css({left:this.resizing.sOL+t}),u.forceFit===!0?(r=this.headers[this.resizing.idx+u.nv],f=u.direction==="ltr"?r.width-t:r.width+t,f>u.minColWidth&&(i.newWidth=e,r.newWidth=f)):(this.newWidth=u.direction==="ltr"?u.tblwidth+t:u.tblwidth-t,i.newWidth=e))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var t=this.resizing.idx,r=this.headers[t].newWidth||this.headers[t].width;r=parseInt(r,10);this.resizing=!1;n("#rs_m"+n.jgrid.jqID(u.id)).css("display","none");u.colModel[t].width=r;this.headers[t].width=r;this.headers[t].el.style.width=r+"px";this.cols[t].style.width=r+"px";this.footers.length>0&&(this.footers[t].style.width=r+"px");u.forceFit===!0?(r=this.headers[t+u.nv].newWidth||this.headers[t+u.nv].width,this.headers[t+u.nv].width=r,this.headers[t+u.nv].el.style.width=r+"px",this.cols[t+u.nv].style.width=r+"px",this.footers.length>0&&(this.footers[t+u.nv].style.width=r+"px"),u.colModel[t+u.nv].width=r):(u.tblwidth=this.newWidth||u.tblwidth,n("table:first",this.bDiv).css("width",u.tblwidth+"px"),n("table:first",this.hDiv).css("width",u.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,u.footerrow&&(n("table:first",this.sDiv).css("width",u.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft));n(i).triggerHandler("jqGridResizeStop",[r,t]);n.isFunction(u.resizeStop)&&u.resizeStop.call(i,r,t)}this.curGbox=null;document.onselectstart=function(){return!0}},populateVisible:function(){var e,t,a,o;if(r.timer&&clearTimeout(r.timer),r.timer=null,e=n(r.bDiv).height(),e){if(t=n("table:first",r.bDiv),t[0].rows.length)try{a=t[0].rows[1];o=a?n(a).outerHeight()||r.prevRowHeight:r.prevRowHeight}catch(p){o=r.prevRowHeight}if(o){r.prevRowHeight=o;var y=u.rowNum,s=r.scrollTop=r.bDiv.scrollTop,h=Math.round(t.position().top)-s,c=h+t.height(),i=o*y,f,l,v;if(c<e&&h<=0&&(u.lastpage===undefined||(parseInt((c+s+i-1)/i,10)||0)<=u.lastpage)&&(l=parseInt((e-c+i-1)/i,10)||1,c>=0||l<2||u.scroll===!0?(f=(Math.round((c+s)/i)||0)+1,h=-1):h=1),h>0&&(f=(parseInt(s/i,10)||0)+1,l=(parseInt((s+e)/i,10)||0)+2-f,v=!0),l){if(u.lastpage&&(f>u.lastpage||u.lastpage===1||f===u.page&&f===u.lastpage))return;r.hDiv.loading?r.timer=setTimeout(r.populateVisible,u.scrollTimeout):(u.page=f,v&&(r.selectionPreserver(t[0]),r.emptyRows.call(t[0],!1,!1)),r.populate(l))}}}},scrollGrid:function(n){if(u.scroll){var t=r.bDiv.scrollTop;r.scrollTop===undefined&&(r.scrollTop=0);t!==r.scrollTop&&(r.scrollTop=t,r.timer&&clearTimeout(r.timer),r.timer=setTimeout(r.populateVisible,u.scrollTimeout))}r.hDiv.scrollLeft=r.bDiv.scrollLeft;u.footerrow&&(r.sDiv.scrollLeft=r.bDiv.scrollLeft);n&&n.stopPropagation()},selectionPreserver:function(t){var i=t.p,u=i.selrow,r=i.selarrrow?n.makeArray(i.selarrrow):null,e=t.grid.bDiv.scrollLeft,f=function(){var o;if(i.selrow=null,i.selarrrow=[],i.multiselect&&r&&r.length>0)for(o=0;o<r.length;o++)r[o]!==u&&n(t).jqGrid("setSelection",r[o],!1,null);u&&n(t).jqGrid("setSelection",u,!1,null);t.grid.bDiv.scrollLeft=e;n(t).unbind(".selectionPreserver",f)};n(t).bind("jqGridGridComplete.selectionPreserver",f)}},this.tagName.toUpperCase()!=="TABLE"||this.id==null){alert("Element is not a table or has no id!");return}if(document.documentMode!==undefined&&document.documentMode<=5){alert("Grid can not be used in this ('quirks') mode!");return}if(n(this).empty().attr("tabindex","0"),this.p=u,this.p.useProp=!!n.fn.prop,this.p.colNames.length===0)for(f=0;f<this.p.colModel.length;f++)this.p.colNames[f]=this.p.colModel[f].label||this.p.colModel[f].name;if(this.p.colNames.length!==this.p.colModel.length){alert(n.jgrid.errors.model);return}p=n("<div class='ui-jqgrid-view' role='grid'><\/div>");nt=n.oa.core.browser.msie;i.p.direction=n.trim(i.p.direction.toLowerCase());n.inArray(i.p.direction,["ltr","rtl"])===-1&&(i.p.direction="ltr");s=i.p.direction;n(p).insertBefore(this);n(this).removeClass("scroll").appendTo(p);b=n("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'><\/div>");n(b).attr({id:"gbox_"+this.id,dir:s}).insertBefore(p);n(p).attr("id","gview_"+this.id).appendTo(b);n("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'><\/div>").insertBefore(p);n("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"<\/div>").insertBefore(p);n(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var c=function(n,t){return(n=parseInt(n,10),isNaN(n))?t||0:n},tt=function(t,u,f,e,o,s){var h=i.p.colModel[t],y,p=h.align,l='style="',v=h.classes,w=h.name,a,c=[];return p&&(l+="text-align:"+p+";"),h.hidden===!0&&(l+="display:none;"),u===0?l+="width: "+r.headers[t].width+"px;":(n.isFunction(h.cellattr)||typeof h.cellattr=="string"&&n.jgrid.cellattr!=null&&n.isFunction(n.jgrid.cellattr[h.cellattr]))&&(y=n.isFunction(h.cellattr)?h.cellattr:n.jgrid.cellattr[h.cellattr],a=y.call(i,o,f,e,h,s),a&&typeof a=="string"&&(a=a.replace(/style/i,"style").replace(/title/i,"title"),a.indexOf("title")>-1&&(h.title=!1),a.indexOf("class")>-1&&(v=undefined),c=a.replace(/\-style/g,"-sti").split(/style/),c.length===2?(c[1]=n.trim(c[1].replace(/\-sti/g,"-style").replace("=","")),(c[1].indexOf("'")===0||c[1].indexOf('"')===0)&&(c[1]=c[1].substring(1)),l+=c[1].replace(/'/gi,'"')):l+='"')),c.length||(c[0]="",l+='"'),l+=(v!==undefined?' class="'+v+'"':"")+(h.title&&f?' title="'+n.oa.ui.stripHtml(f)+'"':""),l+=' aria-describedby="'+i.p.id+"_"+w+'"',l+c[0]},ni=function(t){return t==null||t===""?"&#160;":i.p.autoencode?n.oa.ui.htmlEncode(t):String(t)},ti=function(t,r,u,f,e){var o=i.p.colModel[u],s,h;return typeof o.formatter!="undefined"?(t=String(i.p.idPrefix)!==""?n.jgrid.stripPref(i.p.idPrefix,t):t,h={rowId:t,colModel:o,gid:i.p.id,pos:u},s=n.isFunction(o.formatter)?o.formatter.call(i,r,h,f,e):n.fmatter?n.fn.fmatter.call(i,o.formatter,r,h,f,e):ni(r)):s=ni(r),s},gi=function(n,t,i,r,u){var f,e;return f=ti(n,t,i,u,"add"),e=tt(i,r,f,u,n,!0),'<td role="gridcell" '+e+">"+f+"<\/td>"},nr=function(n,t,r,u){var f='<input role="checkbox" type="checkbox" id="jqg_'+i.p.id+"_"+n+'" class="cbox" name="jqg_'+i.p.id+"_"+n+'"'+(u?'checked="checked"':"")+"/>",e;return n==0&&(f=""),e=tt(t,r,"",null,n,!0),'<td role="gridcell" '+e+">"+f+"<\/td>"},tr=function(n,t,i,r){var u=(parseInt(i,10)-1)*parseInt(r,10)+1+t,f=tt(n,t,u,null,t,!0);return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+f+">"+u+"<\/td>"},ii=function(n){for(var t,u=[],f=0,r=0;r<i.p.colModel.length;r++)t=i.p.colModel[r],t.name!=="cb"&&t.name!=="subgrid"&&t.name!=="rn"&&(u[f]=n==="local"?t.name:n==="xml"||n==="xmlstring"?t.xmlmap||t.name:t.jsonmap||t.name,i.p.keyIndex!==!1&&t.key===!0&&(i.p.keyName=u[f]),f++);return u},ri=function(t){var r=i.p.remapColumns;return r&&r.length||(r=n.map(i.p.colModel,function(n,t){return t})),t&&(r=n.map(r,function(n){return n<t?null:n-t})),r},st=function(t,i){var r;this.p.deepempty?n(this.rows).slice(1).remove():(r=this.rows.length>0?this.rows[0]:null,n(this.firstChild).empty().append(r));t&&this.p.scroll&&(n(this.grid.bDiv.firstChild).css({height:"auto"}),n(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"}),this.grid.bDiv.scrollTop!==0&&(this.grid.bDiv.scrollTop=0));i===!0&&this.p.treeGrid&&(this.p.data=[],this.p._index={})},ui=function(){var t=i.p,c=t.data,d=c.length,e,s,r,f,u,h,w,l,o=t.localReader,y=t.colModel,a=o.cell,v=(t.multiselect===!0?1:0)+(t.subGrid===!0?1:0)+(t.rownumbers===!0?1:0),g=t.scroll?n.jgrid.randId():1,b,k,p;if(t.datatype==="local"&&o.repeatitems===!0)for(b=ri(v),k=ii("local"),f=t.keyIndex===!1?n.isFunction(o.id)?o.id.call(i,c):o.id:t.keyIndex,e=0;e<d;e++){for(r=c[e],u=n.jgrid.getAccessor(r,f),u===undefined&&(typeof f=="number"&&y[f+v]!=null&&(u=n.jgrid.getAccessor(r,y[f+v].name)),u===undefined&&(u=g+e,a&&(h=n.jgrid.getAccessor(r,a)||r,u=h!=null&&h[f]!==undefined?h[f]:u,h=null))),l={},l[o.id]=u,a&&(r=n.jgrid.getAccessor(r,a)||r),p=n.isArray(r)?b:k,s=0;s<p.length;s++)w=n.jgrid.getAccessor(r,p[s]),l[y[s+v].name]=w;n.extend(!0,c[e],l)}},wt=function(){var f=i.p.data.length,u,t,r,e=i.p.rownumbers===!0?1:0,o=i.p.multiselect===!0?1:0,s=i.p.subGrid===!0?1:0;for(u=i.p.keyIndex===!1||i.p.loadonce===!0?i.p.localReader.id:i.p.colModel[i.p.keyIndex+o+s+e].name,i.p._index=[],t=0;t<f;t++)r=n.jgrid.getAccessor(i.p.data[t],u),r===undefined&&(r=String(t+1)),i.p._index[r]=t},fi=function(t,r,u,f,e,o){var l="-1",a="",h,c=r?"display:none;":"",v="ui-widget-content jqgrow ui-row-"+i.p.direction+(u?" "+u:"")+(o?" ui-state-highlight":""),s=n(i).triggerHandler("jqGridRowAttr",[f,e,t]);if(typeof s!="object"&&(s=n.isFunction(i.p.rowattr)?i.p.rowattr.call(i,f,e,t):typeof i.p.rowattr=="string"&&n.jgrid.rowattr!=null&&n.isFunction(n.jgrid.rowattr[i.p.rowattr])?n.jgrid.rowattr[i.p.rowattr].call(i,f,e,t):{}),!n.isEmptyObject(s)){s.hasOwnProperty("id")&&(t=s.id,delete s.id);s.hasOwnProperty("tabindex")&&(l=s.tabindex,delete s.tabindex);s.hasOwnProperty("style")&&(c+=s.style,delete s.style);s.hasOwnProperty("class")&&(v+=" "+s["class"],delete s["class"]);try{delete s.role}catch(y){}for(h in s)s.hasOwnProperty(h)&&(a+=" "+h+"="+s[h])}return'<tr role="row" id="'+t+'" tabindex="'+l+'" class="'+v+'"'+(c===""?"":' style="'+c+'"')+a+">"},ht=function(t,r,u,f,e){var oi=new Date,h,it,at,rt,ot,ui,ei,ht;if(t)i.p.treeANode!==-1||i.p.scroll?u=u>1?u:1:(st.call(i,!1,!0),u=1);else return;it="_id_";rt=i.p.datatype!=="local"&&i.p.loadonce||i.p.datatype==="jsonstring";rt&&(i.p.data=[],i.p._index={},i.p.localReader.id=it);i.p.reccount=0;i.p.datatype==="local"?(h=i.p.localReader,at="local"):(h=i.p.jsonReader,at="json");var ct=n(i),p=0,vt,w,b,lt=[],s,k=i.p.multiselect?1:0,d=i.p.subGrid===!0?1:0,si,y=i.p.rownumbers===!0?1:0,bt=ri(k+d+y),yt=ii(at),g,tt,nt,a,l={},ut,o,v=[],hi=i.p.altRows===!0?i.p.altclass:"",kt,ci=i.p.subGridCustom;i.p.page=c(n.jgrid.getAccessor(t,h.page),i.p.page);i.p.lastpage=c(n.jgrid.getAccessor(t,h.total),1);i.p.records=c(n.jgrid.getAccessor(t,h.records));i.p.userData=n.jgrid.getAccessor(t,h.userdata)||{};d&&(si=n.jgrid.getMethod("addSubGridCell"));a=i.p.keyIndex===!1?n.isFunction(h.id)?h.id.call(i,t):h.id:i.p.keyIndex;h.repeatitems||(lt=yt,lt.length>0&&!isNaN(a)&&(a=i.p.keyName));nt=n.jgrid.getAccessor(t,h.root);nt==null&&n.isArray(t)&&(nt=t);nt||(nt=[]);tt=nt.length;w=0;tt>0&&i.p.page<=0&&(i.p.page=1);var ft=parseInt(i.p.rowNum,10),dt=i.p.scroll?n.jgrid.randId():1,gt,ni=!1,pt;e&&(ft*=e+1);i.p.datatype!=="local"||i.p.deselectAfterSort||(ni=!0);var li=n.isFunction(i.p.afterInsertRow),et=[],ti=!1,wt;for(i.p.grouping&&(ti=i.p.groupingView.groupCollapse===!0,wt=n.jgrid.getMethod("groupingPrepare"));w<tt;){for(s=nt[w],o=n.jgrid.getAccessor(s,a),o===undefined&&(typeof a=="number"&&i.p.colModel[a+k+d+y]!=null&&(o=n.jgrid.getAccessor(s,i.p.colModel[a+k+d+y].name)),o===undefined&&(o=dt+w,lt.length===0&&h.cell&&(ot=n.jgrid.getAccessor(s,h.cell)||s,o=ot!=null&&ot[a]!==undefined?ot[a]:o,ot=null))),o=i.p.idPrefix+o,gt=u===1?0:u,kt=(gt+w)%2==1?hi:"",ni&&(pt=i.p.multiselect?n.inArray(o,i.p.selarrrow)!==-1:o===i.p.selrow),ui=v.length,v.push(""),y&&v.push(tr(0,w,i.p.page,i.p.rowNum)),k&&v.push(nr(o,y,w,pt)),g=yt,h.repeatitems&&(h.cell&&(s=n.jgrid.getAccessor(s,h.cell)||s),n.isArray(s)&&(g=bt)),d&&(ei=ci?n.jgrid.getAccessor(s,g[g.length-1]):1,v.push(n(i).jqGrid("addSubGridCell",k+y,w+u,ei))),b=0;b<g.length;b++)vt=n.jgrid.getAccessor(s,g[b]),l[i.p.colModel[b+k+d+y].name]=vt,v.push(gi(o,vt,b+k+d+y,w+u,s,l));if(v[ui]=fi(o,ti,kt,l,s,pt),v.push("<\/tr>"),i.p.grouping&&(et.push(v),i.p.groupingView._locgr||wt.call(ct,l,w),v=[]),(rt||i.p.treeGrid===!0)&&(l[it]=n.jgrid.stripPref(i.p.idPrefix,o),i.p.data.push(l),i.p._index[l[it]]=i.p.data.length-1),i.p.gridview===!1&&(n("#"+n.jgrid.jqID(i.p.id)+" tbody:first").append(v.join("")),n(i).triggerHandler("jqGridAfterInsertRow",[o,l,s]),li&&i.p.afterInsertRow.call(i,o,l,s),v=[]),l={},p++,w++,p===ft)break}if(i.p.gridview===!0&&(ut=i.p.treeANode>-1?i.p.treeANode:0,i.p.grouping?rt||(ct.jqGrid("groupingRender",et,i.p.colModel.length,i.p.page,ft),et=null):i.p.treeGrid===!0&&ut>0?n(i.rows[ut]).after(v.join("")):(n("#"+n.jgrid.jqID(i.p.id)+" tbody:first").append(v.join("")),i.grid.cols=i.rows[0].cells)),i.p.subGrid===!0)try{n(i).jqGrid("addSubGrid",k+y)}catch(ai){}if(i.p.totaltime=new Date-oi,p>0&&i.p.records===0&&(i.p.records=tt),v=null,i.p.treeGrid===!0)try{n(i).jqGrid("setTreeNode",ut+1,p+ut+1)}catch(vi){}if(i.p.reccount=p,i.p.treeANode=-1,i.p.userDataOnFooter&&n(i).jqGrid("footerData","set",i.p.userData,!0),rt&&(i.p.records=tt,i.p.lastpage=Math.ceil(tt/ft)),f||i.updatepager(!1,!0),rt){while(p<tt&&nt[p]){if(s=nt[p],o=n.jgrid.getAccessor(s,a),o===undefined&&(typeof a=="number"&&i.p.colModel[a+k+d+y]!=null&&(o=n.jgrid.getAccessor(s,i.p.colModel[a+k+d+y].name)),o===undefined&&(o=dt+p,lt.length===0&&h.cell&&(ht=n.jgrid.getAccessor(s,h.cell)||s,o=ht!=null&&ht[a]!==undefined?ht[a]:o,ht=null))),s){for(o=i.p.idPrefix+o,g=yt,h.repeatitems&&(h.cell&&(s=n.jgrid.getAccessor(s,h.cell)||s),n.isArray(s)&&(g=bt)),b=0;b<g.length;b++)l[i.p.colModel[b+k+d+y].name]=n.jgrid.getAccessor(s,g[b]);l[it]=n.jgrid.stripPref(i.p.idPrefix,o);i.p.grouping&&wt.call(ct,l,p);i.p.data.push(l);i.p._index[l[it]]=i.p.data.length-1;l={}}p++}i.p.grouping&&(i.p.groupingView._locgr=!0,ct.jqGrid("groupingRender",et,i.p.colModel.length,i.p.page,ft),et=null)}},ir=function(){function rt(u){var o=0,f,s,c,h,e,l;if(u.groups!==undefined){for(s=u.groups.length&&u.groupOp.toString().toUpperCase()==="OR",s&&t.orBegin(),f=0;f<u.groups.length;f++){o>0&&s&&t.or();try{rt(u.groups[f])}catch(a){alert(a)}o++}s&&t.orEnd()}if(u.rules!==undefined){o>0&&(l=t.select(),t=n.jgrid.from(l),i.p.ignoreCase&&(t=t.ignoreCase()));try{for(c=u.rules.length&&u.groupOp.toString().toUpperCase()==="OR",c&&t.orBegin(),f=0;f<u.rules.length;f++)e=u.rules[f],h=u.groupOp.toString().toUpperCase(),p[e.op]&&e.field&&(o>0&&h&&h==="OR"&&(t=t.or()),t=p[e.op](t,h)(e.field,e.data,r[e.field])),o++;c&&t.orEnd()}catch(v){alert(v)}}}var u=i.p.multiSort?[]:"",tt=[],b=!1,r={},k=[],it=[],a,l,v,y,d,f,p,t,o,h,ut,c,ft;if(n.isArray(i.p.data)){if(y=i.p.grouping?i.p.groupingView:!1,n.each(i.p.colModel,function(){var t,e;if(l=this.sorttype||"text",l==="date"||l==="datetime"?(this.formatter&&typeof this.formatter=="string"&&this.formatter==="date"?(a=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:n.jgrid.formatter.date.srcformat,v=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:n.jgrid.formatter.date.newformat):a=v=this.datefmt||"m-d-Y",r[this.name]={stype:l,srcfmt:a,newfmt:v,sfunc:this.sortfunc||null}):r[this.name]={stype:l,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},i.p.grouping)for(f=0,d=y.groupField.length;f<d;f++)this.name===y.groupField[f]&&(t=this.name,typeof this.index!="undefined"&&(t=this.index),k[f]=r[t],it[f]=t);i.p.multiSort?this.lso&&(u.push(this.name),e=this.lso.split("-"),tt.push(e[e.length-1])):b||this.index!==i.p.sortname&&this.name!==i.p.sortname||(u=this.name,b=!0)}),i.p.treeGrid){n(i).jqGrid("SortTree",u,i.p.sortorder,r[u].stype||"text",r[u].srcfmt||"");return}if(p={eq:function(n){return n.equals},ne:function(n){return n.notEquals},lt:function(n){return n.less},le:function(n){return n.lessOrEquals},gt:function(n){return n.greater},ge:function(n){return n.greaterOrEquals},cn:function(n){return n.contains},nc:function(n,t){return t==="OR"?n.orNot().contains:n.andNot().contains},bw:function(n){return n.startsWith},bn:function(n,t){return t==="OR"?n.orNot().startsWith:n.andNot().startsWith},en:function(n,t){return t==="OR"?n.orNot().endsWith:n.andNot().endsWith},ew:function(n){return n.endsWith},ni:function(n,t){return t==="OR"?n.orNot().equals:n.andNot().equals},"in":function(n){return n.equals},nu:function(n){return n.isNull},nn:function(n,t){return t==="OR"?n.orNot().isNull:n.andNot().isNull}},t=n.jgrid.from(i.p.data),i.p.ignoreCase&&(t=t.ignoreCase()),i.p.search===!0)if(o=i.p.postData.filters,o)typeof o=="string"&&(o=n.jgrid.parse(o)),rt(o);else try{t=p[i.p.postData.searchOper](t)(i.p.postData.searchField,i.p.postData.searchString,r[i.p.postData.searchField])}catch(ot){}if(i.p.grouping)for(f=0;f<d;f++)t.orderBy(it[f],y.groupOrder[f],k[f].stype,k[f].srcfmt);i.p.multiSort?n.each(u,function(n){t.orderBy(this,tt[n],r[this].stype,r[this].srcfmt,r[this].sfunc)}):u&&i.p.sortorder&&b&&(i.p.sortorder.toUpperCase()==="DESC"?t.orderBy(i.p.sortname,"d",r[u].stype,r[u].srcfmt,r[u].sfunc):t.orderBy(i.p.sortname,"a",r[u].stype,r[u].srcfmt,r[u].sfunc));var e=t.select(),w=parseInt(i.p.rowNum,10),g=e.length,nt=parseInt(i.p.page,10),et=Math.ceil(g/w),s={};if((i.p.search||i.p.resetsearch)&&i.p.grouping&&i.p.groupingView._locgr){if(i.p.groupingView.groups=[],ut=n.jgrid.getMethod("groupingPrepare"),i.p.footerrow&&i.p.userDataOnFooter){for(c in i.p.userData)i.p.userData.hasOwnProperty(c)&&(i.p.userData[c]=0);ft=!0}for(h=0;h<g;h++){if(ft)for(c in i.p.userData)i.p.userData[c]+=parseFloat(e[h][c]||0);ut.call(n(i),e[h],h,w)}}return e=e.slice((nt-1)*w,nt*w),t=null,r=null,s[i.p.localReader.total]=et,s[i.p.localReader.page]=nt,s[i.p.localReader.records]=g,s[i.p.localReader.root]=e,s[i.p.localReader.userdata]=i.p.userData,e=null,s}},rr=function(t,r){var s,p,f,w,l,b,a,o="",tt,d,u=i.p.pager?"_"+n.jgrid.jqID(i.p.pager.substr(1)):"",e=i.p.toppager?"_"+i.p.toppager.substr(1):"",k,y,g,it,nt,h;if(f=parseInt(i.p.page,10)-1,f<0&&(f=0),f=f*parseInt(i.p.rowNum,10),l=f+i.p.reccount,i.p.scroll&&(k=n("tbody:first > tr:gt(0)",i.grid.bDiv),f=l-k.length,i.p.reccount=k.length,y=k.outerHeight()||i.grid.prevRowHeight,y&&(g=f*y,it=parseInt(i.p.records,10)*y,n(">div:first",i.grid.bDiv).css({height:it}).children("div:first").css({height:g,display:g?"":"none"}),i.grid.bDiv.scrollTop==0&&i.p.page>1&&(i.grid.bDiv.scrollTop=i.p.rowNum*(i.p.page-1)*y)),i.grid.bDiv.scrollLeft=i.grid.hDiv.scrollLeft),o=i.p.pager?i.p.pager:"",o+=i.p.toppager?o?","+i.p.toppager:i.p.toppager:"",o){if(a=n.jgrid.formatter.integer||{},s=c(i.p.page),p=c(i.p.lastpage),n(".selbox",o)[this.p.useProp?"prop":"attr"]("disabled",!1),i.p.pginput===!0){for(n(".ui-pg-input",o).val(i.p.page),tt=i.p.toppager?"#sp_1"+u+",#sp_1"+e:"#sp_1"+u,n(tt).html(n.fmatter?n.fmatter.util.NumberFormat(i.p.lastpage,a):i.p.lastpage),d=i.p.toppager?"#spOA_1"+u+",#spOA_1"+e:"#spOA_1"+u,nt="",h=0,h=1;h<=p;h++)nt+=s==h?" <span>"+h.toString()+"<\/span>":' <a style="cursor:pointer;">'+h.toString()+"<\/a>";n(d).html(nt);n("a",d).click(function(){i.p.page=n(this).text();v()})}i.p.viewrecords&&(ur(),i.p.reccount===0?i.p.showNoData===!0?oi():o&&n(".ui-paging-info",o).html(i.p.emptyrecords):(w=f+1,b=i.p.records,n.fmatter&&(w=n.fmatter.util.NumberFormat(w,a),l=n.fmatter.util.NumberFormat(l,a),b=n.fmatter.util.NumberFormat(b,a)),n(".ui-paging-info",o).html(n.jgrid.format(i.p.recordtext,w,l,b))));i.p.pgbuttons===!0&&(s<=0&&(s=p=0),s===1||s===0?(n("#first"+u+", #prev"+u).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&n("#first_t"+e+", #prev_t"+e).addClass("ui-state-disabled").removeClass("ui-state-hover")):(n("#first"+u+", #prev"+u).removeClass("ui-state-disabled"),i.p.toppager&&n("#first_t"+e+", #prev_t"+e).removeClass("ui-state-disabled")),s===p||s===0?(n("#next"+u+", #last"+u).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&n("#next_t"+e+", #last_t"+e).addClass("ui-state-disabled").removeClass("ui-state-hover")):(n("#next"+u+", #last"+u).removeClass("ui-state-disabled"),i.p.toppager&&n("#next_t"+e+", #last_t"+e).removeClass("ui-state-disabled")))}t===!0&&i.p.rownumbers===!0&&n(">td.jqgrid-rownum",i.rows).each(function(t){n(this).html(f+1+t)});r&&i.p.jqgdnd&&n(i).jqGrid("gridDnD","updateDnD");n(i).triggerHandler("jqGridGridComplete");n.isFunction(i.p.gridComplete)&&i.p.gridComplete.call(i);n(i).triggerHandler("jqGridAfterGridComplete")},ct=function(){(i.grid.hDiv.loading=!0,i.p.hiddengrid)||n(i).jqGrid("progressBar",{method:"show",loadtype:i.p.loadui,htmlcontent:i.p.loadtext})},k=function(){i.grid.hDiv.loading=!1;n(i).jqGrid("progressBar",{method:"hide",loadtype:i.p.loadui})},ei=function(t){var f=getPostData(i.p.postData),r,u;t.toLowerCase()=="local"?(r='{"rules":[',u=0,n.each(f,function(n,t){u>0&&(r+=",");r+='{"field":"'+n+'",';t+="";r+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';u++}),r+="]}",n.extend(i.p.postData,{filters2:r}),n.each(["searchField","searchString","searchOper"],function(n,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})):n.extend(i.p.postData,f)},ur=function(){var t=i.p.pager?i.p.pager:"";n(".ui-jqgrid-ndiv",i.grid.bDiv).remove();t&&n(".ui-paging-info",t).html("")},oi=function(){i.grid.noDataDiv=document.createElement("div");n(i.grid.noDataDiv).addClass("ui-jqgrid-ndiv").html(i.p.emptyrecords);n("div:first",i.grid.bDiv).append(i.grid.noDataDiv)},fr=function(){var t=i.p.pager?i.p.pager:"";i.p.reccount===0&&i.p.viewrecords&&(i.p.showNoData===!0?oi():t&&n(".ui-paging-info",t).html(i.p.emptyrecords))},er=function(){BindSearch();ei("local")},v=function(t){var y,h,b,p,c,f,l;if(!i.grid.hDiv.loading){var d=i.p.scroll&&t===!1,u={},a,e,r=i.p.prmNames;i.p.page<=0&&(i.p.page=Math.min(1,i.p.lastpage));r.search!==null&&(u[r.search]=i.p.search);r.nd!==null&&(u[r.nd]=(new Date).getTime());r.rows!==null&&(u[r.rows]=i.p.rowNum);r.page!==null&&(u[r.page]=i.p.page);r.sort!==null&&(u[r.sort]=i.p.sortname);r.order!==null&&(u[r.order]=i.p.sortorder);i.p.rowTotal!==null&&r.totalrows!==null&&(u[r.totalrows]=i.p.rowTotal);var w=n.isFunction(i.p.loadComplete),o=w?i.p.loadComplete:null,s=0;if(t=t||1,t>1?r.npage!==null?(u[r.npage]=t,s=t-1,t=1):o=function(n){i.p.page++;i.grid.hDiv.loading=!1;w&&i.p.loadComplete.call(i,n);v(t-1)}:r.npage!==null&&delete i.p.postData[r.npage],i.p.grouping){for(n(i).jqGrid("groupingSetup"),y=i.p.groupingView,b="",h=0;h<y.groupField.length;h++)p=y.groupField[h],n.each(i.p.colModel,function(n,t){t.name===p&&t.index&&(p=t.index)}),b+=p+" "+y.groupOrder[h]+", ";u[r.sort]=b+u[r.sort]}if(n.extend(i.p.postData,u),i.p.initialized==!1&&er(i.p.postData,i.p.datatype),c=i.p.scroll?i.rows.length-1:1,f=n(i).triggerHandler("jqGridBeforeRequest"),f===!1||f==="stop")return;if(n.isFunction(i.p.datatype)){i.p.datatype.call(i,i.p.postData,"load_"+i.p.id,c,t,s);return}if(n.isFunction(i.p.beforeRequest)&&(f=i.p.beforeRequest.call(i),f===undefined&&(f=!0),f===!1))return;a=i.p.datatype.toLowerCase();switch(a){case"json":case"jsonp":case"xml":case"script":n.ajax(n.extend({url:i.p.url,type:i.p.mtype,dataType:a,data:n.isFunction(i.p.serializeGridData)?i.p.serializeGridData.call(i,i.p.postData):i.p.postData,success:function(r,u,f){if(n.isFunction(i.p.beforeProcessing)&&i.p.beforeProcessing.call(i,r,u,f)===!1){k();return}a==="xml"?addXmlData(r,i.grid.bDiv,c,t>1,s):ht(r,i.grid.bDiv,c,t>1,s);n(i).triggerHandler("jqGridLoadComplete",[r]);o&&o.call(i,r);n(i).triggerHandler("jqGridAfterLoadComplete",[r]);d&&i.grid.populateVisible();(i.p.loadonce||i.p.treeGrid)&&(i.p.datatype="local");r=null;t===1&&k();i.p.initialized==!1&&(i.p.initialized=!0,SetGridState())},error:function(r,u,f){n.isFunction(i.p.loadError)&&i.p.loadError.call(i,r,u,f);t===1&&k();r=null},beforeSend:function(t,r){var u=!0;if(n.isFunction(i.p.loadBeforeSend)&&(u=i.p.loadBeforeSend.call(i,t,r)),u===undefined&&(u=!0),u===!1)return!1;ct()}},n.jgrid.ajaxOptions,i.p.ajaxGridOptions));break;case"jsonstring":ct();e=typeof i.p.datastr=="string"?n.jgrid.parse(i.p.datastr):i.p.datastr;ht(e,i.grid.bDiv);n(i).triggerHandler("jqGridLoadComplete",[e]);w&&i.p.loadComplete.call(i,e);n(i).triggerHandler("jqGridAfterLoadComplete",[e]);i.p.datatype="local";i.p.datastr=null;k();break;case"local":case"clientside":ct();i.p.datatype="local";l=ir();ht(l,i.grid.bDiv,c,t>1,s);n(i).triggerHandler("jqGridLoadComplete",[l]);o&&o.call(i,l);n(i).triggerHandler("jqGridAfterLoadComplete",[l]);d&&i.grid.populateVisible();k()}}},lt=function(t){n("#cb_"+n.jgrid.jqID(i.p.id),i.grid.hDiv)[i.p.useProp?"prop":"attr"]("checked",t);var r=i.p.frozenColumns?i.p.id+"_frozen":"";r&&n("#cb_"+n.jgrid.jqID(i.p.id),i.grid.fhDiv)[i.p.useProp?"prop":"attr"]("checked",t)},lr=function(){},si=function(t,r){var y="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'><\/span><\/td>",e="",u="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",o="",f,b,k,d,h,g,l,p=function(t){var r;return(n.isFunction(i.p.onPaging)&&(r=i.p.onPaging.call(i,t)),r==="stop")?!1:(i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],lt(!1)),i.p.savedRow=[],!0)},w,a;if(t=t.substr(1),r+="_"+t,f="pg_"+t,b=t+"_left",k=t+"_center",d=t+"_right",n("#"+n.jgrid.jqID(t)).append("<div id='"+f+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+b+"' align='left'><\/td><td id='"+k+"' align='center' style='white-space:pre;'><\/td><td id='"+d+"' align='right'><\/td><\/tr><\/tbody><\/table><\/div>").attr("dir","ltr"),i.p.rowList.length>0){for(o="<td dir='"+s+"'>",o+="<select class='ui-pg-selbox' role='listbox'>",l=0;l<i.p.rowList.length;l++)o+='<option role="option" value="'+i.p.rowList[l]+'"'+(i.p.rowNum===i.p.rowList[l]?' selected="selected"':"")+">"+i.p.rowList[l]+"<\/option>";o+="<\/select><\/td>"}s==="rtl"&&(u+=o);i.p.pginput===!0&&(e="<td dir='"+s+"'>"+n.jgrid.format(i.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+n.jgrid.jqID(t)+"'><\/span>")+"<\/td>");w="";i.p.pglinks===!0&&(w="<td dir='"+s+"'><span id='spOA_1_"+n.jgrid.jqID(t)+"'><\/span><\/td>");i.p.pgbuttons===!0?(a=["first"+r,"prev"+r,"next"+r,"last"+r],s==="rtl"&&a.reverse(),u+="<td id='"+a[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first' title='"+i.p.pgfirst+"'><\/span><\/td>",u+="<td id='"+a[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev' title='"+i.p.pgprev+"'><\/span><\/td>",u+=e!==""?y+e+y:"",i.p.pglinks===!0&&(u+=w+y),u+="<td id='"+a[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next' title='"+i.p.pgnext+"'><\/span><\/td>",u+="<td id='"+a[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end' title='"+i.p.pgend+"'><\/span><\/td>"):e!==""&&(u+=e);s==="ltr"&&(u+=o);u+="<\/tr><\/tbody><\/table>";i.p.viewrecords===!0&&n("td#"+t+"_"+i.p.recordpos,"#"+f).append("<div dir='"+s+"' style='text-align:"+i.p.recordpos+"' class='ui-paging-info'><\/div>");n("td#"+t+"_"+i.p.pagerpos,"#"+f).append(u);g=n(".ui-jqgrid").css("font-size")||"11px";n(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+g+";visibility:hidden;' ><\/div>");h=n(u).clone().appendTo("#testpg").width();n("#testpg").remove();h>0&&(e!==""&&(h+=50),n("td#"+t+"_"+i.p.pagerpos,"#"+f).width(h));i.p._nvtd=[];i.p._nvtd[0]=h?Math.floor((i.p.width-h)/2):Math.floor(i.p.width/3);i.p._nvtd[1]=0;u=null;n(".ui-pg-selbox","#"+f).bind("change",function(){return(i.p.page=Math.round(i.p.rowNum*(i.p.page-1)/this.value-.5)+1,i.p.rowNum=this.value,i.p.pager&&n(".ui-pg-selbox",i.p.pager).val(this.value),i.p.toppager&&n(".ui-pg-selbox",i.p.toppager).val(this.value),!p("records"))?!1:(v(),!1)});i.p.pgbuttons===!0&&(n(".ui-pg-button","#"+f).hover(function(){n(this).hasClass("ui-state-disabled")?this.style.cursor="default":(n(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){n(this).hasClass("ui-state-disabled")||(n(this).removeClass("ui-state-hover"),this.style.cursor="default")}),n("#first"+n.jgrid.jqID(r)+", #prev"+n.jgrid.jqID(r)+", #next"+n.jgrid.jqID(r)+", #last"+n.jgrid.jqID(r)).click(function(){if(n(this).hasClass("ui-state-disabled"))return!1;var t=c(i.p.page,1),u=c(i.p.lastpage,1),f=!1,s=!0,h=!0,e=!0,o=!0;if(u===0||u===1?(s=!1,h=!1,e=!1,o=!1):u>1&&t>=1?t===1?(s=!1,h=!1):t===u&&(e=!1,o=!1):u>1&&t===0&&(e=!1,o=!1,t=u-1),this.id==="first"+r&&s&&(i.p.page=1,f=!0),this.id==="prev"+r&&h&&(i.p.page=t-1,f=!0),this.id==="next"+r&&e&&(i.p.page=t+1,f=!0),this.id==="last"+r&&o&&(i.p.page=u,f=!0),f){if(!p(this.id))return!1;v()}return!1}));i.p.pginput===!0&&n("input.ui-pg-input","#"+f).keypress(function(t){var r=t.charCode?t.charCode:t.keyCode?t.keyCode:0;return r===13?(i.p.page=n(this).val()>0?n(this).val():i.p.page,!p("user"))?!1:(n(this).val(c(n(this).val(),1)),v(),!1):this})},or=function(t,r){var o,f="",u=i.p.colModel,h=!1,c,e=i.p.frozenColumns?r:i.grid.headers[t].el,s="";n("span.ui-grid-ico-sort",e).addClass("ui-state-disabled");n(e).attr("aria-selected","false");u[t].lso?u[t].lso==="asc"?(u[t].lso+="-desc",s="desc"):u[t].lso==="desc"?(u[t].lso+="-asc",s="asc"):(u[t].lso==="asc-desc"||u[t].lso==="desc-asc")&&(u[t].lso=""):u[t].lso=s=u[t].firstsortorder||"asc";s?(n("span.s-ico",e).show(),n("span.ui-icon-"+s,e).removeClass("ui-state-disabled"),n(e).attr("aria-selected","true")):i.p.viewsortcols[0]||n("span.s-ico",e).hide();i.p.sortorder="";n.each(u,function(n){this.lso&&(n>0&&h&&(f+=", "),o=this.lso.split("-"),f+=u[n].index||u[n].name,f+=" "+o[o.length-1],h=!0,i.p.sortorder=o[o.length-1])});c=f.lastIndexOf(i.p.sortorder);f=f.substring(0,c);i.p.sortname=f},hi=function(t,r,u,f,e){var s,o,h;if(i.p.colModel[r].sortable&&!(i.p.savedRow.length>0)){if(u||(i.p.lastsort===r&&i.p.sortname!==""?i.p.sortorder==="asc"?i.p.sortorder="desc":i.p.sortorder==="desc"&&(i.p.sortorder="asc"):i.p.sortorder=i.p.colModel[r].firstsortorder||"asc",i.p.page=1),i.p.multiSort)or(r,e);else{if(f){if(i.p.lastsort===r&&i.p.sortorder===f&&!u)return;i.p.sortorder=f}s=i.grid.headers[i.p.lastsort].el;o=i.p.frozenColumns?e:i.grid.headers[r].el;n("span.ui-grid-ico-sort",s).addClass("ui-state-disabled");n(s).attr("aria-selected","false");i.p.frozenColumns&&(i.grid.fhDiv.find("span.ui-grid-ico-sort").addClass("ui-state-disabled"),i.grid.fhDiv.find("th").attr("aria-selected","false"));n("span.ui-icon-"+i.p.sortorder,o).removeClass("ui-state-disabled");n(o).attr("aria-selected","true");i.p.viewsortcols[0]||(i.p.lastsort!==r?(i.p.frozenColumns&&i.grid.fhDiv.find("span.s-ico").hide(),n("span.s-ico",s).hide(),n("span.s-ico",o).show()):i.p.sortname===""&&n("span.s-ico",o).show());t=t.substring(5+i.p.id.length+1);i.p.sortname=i.p.colModel[r].index||t}if(n(i).triggerHandler("jqGridSortCol",[i.p.sortname,r,i.p.sortorder])==="stop"){i.p.lastsort=r;return}if(n.isFunction(i.p.onSortCol)&&i.p.onSortCol.call(i,i.p.sortname,r,i.p.sortorder)==="stop"){i.p.lastsort=r;return}i.p.datatype==="local"?i.p.deselectAfterSort&&n(i).jqGrid("resetSelection"):(i.p.selrow=null,i.p.multiselect&&lt(!1),i.p.selarrrow=[],i.p.savedRow=[]);i.p.scroll&&(h=i.grid.bDiv.scrollLeft,st.call(i,!0,!1),i.grid.hDiv.scrollLeft=h);i.p.subGrid&&i.p.datatype==="local"&&n("td.sgexpanded","#"+n.jgrid.jqID(i.p.id)).each(function(){n(this).trigger("click")});v();i.p.lastsort=r;i.p.sortname!==t&&r&&(i.p.lastsort=r)}},sr=function(){var t=0,u=n.jgrid.cell_width?0:c(i.p.cellLayout,0),f=0,l,h=c(i.p.scrollOffset,0),o,a=!1,v,e=0,s;n.each(i.p.colModel,function(){if(this.hidden===undefined&&(this.hidden=!1),i.p.grouping&&i.p.autowidth){var r=n.inArray(this.name,i.p.groupingView.groupField);r>=0&&i.p.groupingView.groupColumnShow.length>r&&(this.hidden=!i.p.groupingView.groupColumnShow[r])}this.widthOrg=o=c(this.width,0);this.hidden===!1&&(t+=o+u,this.fixed?e+=o+u:f++)});isNaN(i.p.width)&&(i.p.width=t+(i.p.shrinkToFit===!1&&!isNaN(i.p.height)?h:0));r.width=i.p.width;i.p.tblwidth=t;i.p.shrinkToFit===!1&&i.p.forceFit===!0&&(i.p.forceFit=!1);i.p.shrinkToFit===!0&&f>0&&(v=r.width-u*f-e,isNaN(i.p.height)||(v-=h,a=!0),t=0,n.each(i.p.colModel,function(n){this.hidden!==!1||this.fixed||(o=Math.round(v*this.width/(i.p.tblwidth-u*f-e)),this.width=o,t+=o,l=n)}),s=0,a?r.width-e-(t+u*f)!==h&&(s=r.width-e-(t+u*f)-h):a||Math.abs(r.width-e-(t+u*f))===1||(s=r.width-e-(t+u*f)),i.p.colModel[l].width+=s,i.p.tblwidth=t+s+u*f+e,i.p.tblwidth>i.p.width&&(i.p.colModel[l].width-=i.p.tblwidth-parseInt(i.p.width,10),i.p.tblwidth=i.p.width))},hr=function(n){for(var u=n,r=n,t=n+1;t<i.p.colModel.length;t++)if(i.p.colModel[t].hidden!==!0){r=t;break}return r-u},cr=function(t){var u=n(i.grid.headers[t].el),r=[u.position().left+u.outerWidth()];return i.p.direction==="rtl"&&(r[0]=i.p.width-r[0]),r[0]-=i.grid.bDiv.scrollLeft,r.push(n(i.grid.hDiv).position().top),r.push(n(i.grid.bDiv).offset().top-n(i.grid.hDiv).offset().top+n(i.grid.bDiv).height()),r},ci=function(t){for(var u=i.grid.headers,f=n.jgrid.getCellIndex(t),r=0;r<u.length;r++)if(t===u[r].el){f=r;break}return f},li;for(this.p.id=this.id,n.inArray(i.p.multikey,["shiftKey","altKey","ctrlKey"])===-1&&(i.p.multikey=!1),i.p.keyIndex=!1,i.p.keyName=!1,f=0;f<i.p.colModel.length;f++)li=typeof i.p.colModel[f].template=="string"?n.jgrid.cmTemplate!=null&&typeof n.jgrid.cmTemplate[i.p.colModel[f].template]=="object"?n.jgrid.cmTemplate[i.p.colModel[f].template]:{}:i.p.colModel[f].template,i.p.colModel[f]=n.extend(!0,{},i.p.cmTemplate,li||{},i.p.colModel[f]),i.p.keyIndex===!1&&i.p.colModel[f].key===!0&&(i.p.keyIndex=f);if(i.p.sortorder=i.p.sortorder.toLowerCase(),n.jgrid.cell_width=n.jgrid.cellWidth(),i.p.grouping===!0&&(i.p.scroll=!1,i.p.rownumbers=!1,i.p.treeGrid=!1,i.p.gridview=!0),this.p.treeGrid===!0){try{n(this).jqGrid("setTreeGrid")}catch(ar){}i.p.datatype!=="local"&&(i.p.localReader={id:"_id_"})}if(this.p.subGrid)try{n(i).jqGrid("setSubGrid")}catch(vr){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:n.jgrid.cell_width?i.p.multiselectWidth+i.p.cellLayout:i.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0}));this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:i.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0}));i.p.jsonReader=n.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.jsonReader);i.p.localReader=n.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.localReader);i.p.scroll&&(i.p.pgbuttons=!1,i.p.pginput=!1,i.p.rowList=[]);i.p.data.length&&(ui(),wt());var y="<thead><tr class='ui-jqgrid-labels' role='row'>",ai,bt,at,it,vt,o,e,vi,yt,yi="",pi="",rt=[],wi=[],w=[];if(i.p.shrinkToFit===!0&&i.p.forceFit===!0)for(f=i.p.colModel.length-1;f>=0;f--)if(!i.p.colModel[f].hidden){i.p.colModel[f].resizable=!1;break}if(i.p.viewsortcols[1]==="horizontal"&&(yi=" ui-i-asc",pi=" ui-i-desc"),ai=nt?"class='ui-th-div-ie'":"",yt="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+yi+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+s+"'><\/span>",yt+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+pi+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+s+"'><\/span><\/span>",i.p.multiSort)for(rt=i.p.sortname.split(","),f=0;f<rt.length;f++)w=n.trim(rt[f]).split(" "),rt[f]=n.trim(w[0]),wi[f]=w[1]?n.trim(w[1]):i.p.sortorder||"asc";for(f=0;f<this.p.colNames.length;f++)bi=i.p.headertitles?' title="'+n.oa.ui.stripHtml(i.p.colNames[f])+'"':"",y+="<th id='"+i.p.id+"_"+i.p.colModel[f].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+s+"'"+bi+">",bt=i.p.colModel[f].index||i.p.colModel[f].name,y+="<div id='jqgh_"+i.p.id+"_"+i.p.colModel[f].name+"' "+ai+">"+i.p.colNames[f],i.p.colModel[f].width=i.p.colModel[f].width?parseInt(i.p.colModel[f].width,10):150,typeof i.p.colModel[f].title!="boolean"&&(i.p.colModel[f].title=!1),i.p.colModel[f].lso="",bt===i.p.sortname&&(i.p.lastsort=f),i.p.multiSort&&(w=n.inArray(bt,rt),w!==-1&&(i.p.colModel[f].lso=wi[w])),y+=yt+"<\/div><\/th>";if(y+="<\/tr><\/thead>",yt=null,n(this).append(y),n("thead tr:first th",this).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}),this.p.multiselect&&(ut=[],n("#cb_"+n.jgrid.jqID(i.p.id),this).bind("click",function(){i.p.selarrrow=[];var t=i.p.frozenColumns===!0?i.p.id+"_frozen":"";this.checked?(n(i.rows).each(function(r){r>0&&(n(this).hasClass("ui-subgrid")||n(this).hasClass("jqgroup")||n(this).hasClass("ui-state-disabled")||n(this).hasClass("jqfoot")||(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!0),n(this).addClass("ui-state-highlight").attr("aria-selected","true"),i.p.selarrrow.push(this.id),i.p.selrow=this.id,t&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!0),n("#"+n.jgrid.jqID(this.id),i.grid.fbDiv).addClass("ui-state-highlight"))))}),d=!0,ut=[]):(n(i.rows).each(function(r){r>0&&(n(this).hasClass("ui-subgrid")||n(this).hasClass("jqgroup")||n(this).hasClass("ui-state-disabled")||n(this).hasClass("jqfoot")||(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!1),n(this).removeClass("ui-state-highlight").attr("aria-selected","false"),ut.push(this.id),t&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!1),n("#"+n.jgrid.jqID(this.id),i.grid.fbDiv).removeClass("ui-state-highlight"))))}),i.p.selrow=null,d=!1);n(i).triggerHandler("jqGridSelectAll",[d?i.p.selarrrow:ut,d]);n.isFunction(i.p.onSelectAll)&&i.p.onSelectAll.call(i,d?i.p.selarrrow:ut,d)})),i.p.autowidth===!0&&(kt=n(b).innerWidth(),i.p.width=kt>0?kt:"nw"),sr(),n(b).css("width",r.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+i.p.id+"'>&#160;<\/div>"),n(p).css("width",r.width+"px"),y=n("thead:first",i).get(0),ft="",i.p.footerrow&&(ft+="<table role='presentation' style='width:"+i.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+s+"'>"),dt=n("tr:first",y),et="<tr class='jqgfirstrow' role='row' style='height:auto'>",i.p.disableClick=!1,n("th",dt).each(function(t){var f,u;at=i.p.colModel[t].width;typeof i.p.colModel[t].resizable=="undefined"&&(i.p.colModel[t].resizable=!1);i.p.colModel[t].resizable?(it=document.createElement("span"),n(it).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+s).css("cursor","col-resize"),n(this).addClass(i.p.resizeclass)):it="";n(this).css("width",at+"px").prepend(it);it=null;f="";i.p.colModel[t].hidden&&(n(this).css("display","none"),f="display:none;");et+="<td role='gridcell' style='height:0px;width:"+at+"px;"+f+"'><\/td>";r.headers[t]={width:at,el:this};vt=i.p.colModel[t].sortable;typeof vt!="boolean"&&(i.p.colModel[t].sortable=!0,vt=!0);u=i.p.colModel[t].name;u==="cb"||u==="subgrid"||u==="rn"||i.p.viewsortcols[2]&&n(">div",this).addClass("ui-jqgrid-sortable");vt&&(i.p.multiSort?i.p.viewsortcols[0]?(n("div span.s-ico",this).show(),i.p.colModel[t].lso&&n("div span.ui-icon-"+i.p.colModel[t].lso,this).removeClass("ui-state-disabled")):i.p.colModel[t].lso&&(n("div span.s-ico",this).show(),n("div span.ui-icon-"+i.p.colModel[t].lso,this).removeClass("ui-state-disabled")):i.p.viewsortcols[0]?(n("div span.s-ico",this).show(),t===i.p.lastsort&&n("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled")):t===i.p.lastsort&&i.p.sortname!==""&&(n("div span.s-ico",this).show(),n("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled")));i.p.footerrow&&(ft+="<td role='gridcell' "+tt(t,0,"",null,"",!1)+">&#160;<\/td>")}).mousedown(function(t){if(n(t.target).closest("th>span.ui-jqgrid-resize").length===1){var u=ci(this);return i.p.forceFit===!0&&(i.p.nv=hr(u)),r.dragStart(u,t,cr(u)),!1}}).click(function(t){var u,e,o,f,r,s;return i.p.disableClick?(i.p.disableClick=!1,!1):(u="th>div.ui-jqgrid-sortable",i.p.viewsortcols[2]||(u="th>div>span>span.ui-grid-ico-sort"),f=n(t.target).closest(u),f.length!==1)?void 0:(i.p.frozenColumns?(s=n(this)[0].id.substring(i.p.id.length+1),n(i.p.colModel).each(function(n){if(this.name===s)return r=n,!1})):r=ci(this),i.p.viewsortcols[2]||(e=!0,o=f.attr("sort")),r!=null&&hi(n("div",this)[0].id,r,e,o,this),!1)}),i.p.sortable&&n.fn.sortable)try{n(i).jqGrid("sortableColumns",dt)}catch(yr){}i.p.footerrow&&(ft+="<\/tr><\/tbody><\/table>");et+="<\/tr>";vi=document.createElement("tbody");this.appendChild(vi);n(this).addClass("ui-jqgrid-btable").append(et);et=null;var ki=n("<table class='ui-jqgrid-htable' style='width:"+i.p.tblwidth+"px' role='presentation' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'><\/table>").append(y),l=i.p.caption&&i.p.hiddengrid===!0?!0:!1,g=n("<div class='ui-jqgrid-hbox"+(s==="rtl"?"-rtl":"")+"'><\/div>");y=null;r.hDiv=document.createElement("div");n(r.hDiv).css({width:r.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(g);n(g).append(ki);ki=null;l&&n(r.hDiv).hide();i.p.pager&&(typeof i.p.pager=="string"?i.p.pager.substr(0,1)!=="#"&&(i.p.pager="#"+i.p.pager):i.p.pager="#"+n(i.p.pager).attr("id"),n(i.p.pager).css({width:r.width+"px"}).appendTo(b).addClass("ui-jqgrid-pager ui-corner-bottom"),l&&n(i.p.pager).hide(),si(i.p.pager,""));i.p.cellEdit===!1&&i.p.hoverrows===!0&&n(i).bind("mouseover",function(t){e=n(t.target).closest("tr.jqgrow");n(e).attr("class")!=="ui-subgrid"&&n(e).addClass("ui-state-hover")}).bind("mouseout",function(t){e=n(t.target).closest("tr.jqgrow");n(e).removeClass("ui-state-hover")});n(i).before(r.hDiv).click(function(t){var r,u,f;if(o=t.target,e=n(o,i.rows).closest("tr.jqgrow"),n(e).length===0||e[0].className.indexOf("ui-state-disabled")>-1||(n(o,i).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==i.id)return this;if((r=n(o).hasClass("cbox"),u=n(i).triggerHandler("jqGridBeforeSelectRow",[e[0].id,t]),u=u===!1||u==="stop"?!1:!0,u&&n.isFunction(i.p.beforeSelectRow)&&(u=i.p.beforeSelectRow.call(i,e[0].id,t)),o.tagName==="A"&&n(o).css("color","#800080 !important"),o.tagName!=="A"&&(o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&o.tagName!=="OPTION"&&o.tagName!=="SELECT"||r))&&u===!0)if(h=e[0].id,a=n.jgrid.getCellIndex(o),gt=n(o).closest("td,th").html(),n(i).triggerHandler("jqGridCellSelect",[h,a,gt,t]),n.isFunction(i.p.onCellSelect)&&i.p.onCellSelect.call(i,h,a,gt,t),i.p.cellEdit===!0)if(i.p.multiselect&&r)n(i).jqGrid("setSelection",h,!0,t);else{h=e[0].rowIndex;try{n(i).jqGrid("editCell",h,a,!0)}catch(s){}}else i.p.multikey?t[i.p.multikey]?n(i).jqGrid("setSelection",h,!0,t):i.p.multiselect&&r&&(r=n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+h).is(":checked"),n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+h)[i.p.useProp?"prop":"attr"]("checked",r)):i.p.multiselect&&i.p.multiboxonly?r?n(i).jqGrid("setSelection",h,!0,t):(f=i.p.frozenColumns?i.p.id+"_frozen":"",n(i.p.selarrrow).each(function(t,r){var u=n(i).jqGrid("getGridRowById",r);n(u).removeClass("ui-state-highlight");n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(r))[i.p.useProp?"prop":"attr"]("checked",!1);f&&(n("#"+n.jgrid.jqID(r),"#"+n.jgrid.jqID(f)).removeClass("ui-state-highlight"),n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(r),"#"+n.jgrid.jqID(f))[i.p.useProp?"prop":"attr"]("checked",!1))}),i.p.selarrrow=[],n(i).jqGrid("setSelection",h,!0,t)):n(i).jqGrid("setSelection",h,!0,t)}).bind("reloadGrid",function(t,r){if(i.p.treeGrid===!0&&(i.p.datatype=i.p.treedatatype),r&&r.current&&i.grid.selectionPreserver(i),i.p.datatype==="local"?(n(i).jqGrid("resetSelection"),i.p.data.length&&(ui(),wt())):i.p.treeGrid||(i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],lt(!1)),i.p.savedRow=[]),i.p.scroll&&st.call(i,!0,!1),r&&r.page){var u=r.page;u>i.p.lastpage&&(u=i.p.lastpage);u<1&&(u=1);i.p.page=u;i.grid.bDiv.scrollTop=i.grid.prevRowHeight?(u-1)*i.grid.prevRowHeight*i.p.rowNum:0}return i.grid.prevRowHeight&&i.p.scroll?(delete i.p.lastpage,i.grid.populateVisible()):i.grid.populate(),i.p._inlinenav===!0&&n(i).jqGrid("showAddEditButtons"),!1}).dblclick(function(t){if(o=t.target,e=n(o,i.rows).closest("tr.jqgrow"),n(e).length!==0){h=e[0].rowIndex;a=n.jgrid.getCellIndex(o);var r=n(i).triggerHandler("jqGridDblClickRow",[n(e).attr("id"),h,a,t]);return r!=null?r:n.isFunction(i.p.ondblClickRow)&&(r=i.p.ondblClickRow.call(i,n(e).attr("id"),h,a,t),r!=null)?r:void 0}}).bind("contextmenu",function(t){if(o=t.target,e=n(o,i.rows).closest("tr.jqgrow"),n(e).length!==0){i.p.multiselect||n(i).jqGrid("setSelection",e[0].id,!0,t);h=e[0].rowIndex;a=n.jgrid.getCellIndex(o);var r=n(i).triggerHandler("jqGridRightClickRow",[n(e).attr("id"),h,a,t]);return r!=null?r:n.isFunction(i.p.onRightClickRow)&&(r=i.p.onRightClickRow.call(i,n(e).attr("id"),h,a,t),r!=null)?r:void 0}});r.bDiv=document.createElement("div");nt&&String(i.p.height).toLowerCase()==="auto"&&(i.p.height="100%");n(r.bDiv).append(n('<div style="position:relative;'+(nt&&n.oa.core.browser.msiever()<8?"height:0.01%;":"")+'"><\/div>').append("<div><\/div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:i.p.height+(isNaN(i.p.height)?"":"px"),width:r.width+"px"}).css({"min-height":i.p.minheight}).scroll(r.scrollGrid);n("table:first",r.bDiv).css({width:i.p.tblwidth+"px"});n.support.tbody||n("tbody",this).length===2&&n("tbody:gt(0)",this).remove();i.p.multikey&&(nt?n(r.bDiv).bind("selectstart",function(){return!1}):n(r.bDiv).bind("mousedown",function(){return!1}));l&&n(r.bDiv).hide();r.cDiv=document.createElement("div");pt=i.p.hidegrid===!0?n("<a role='link' class='ui-jqgrid-titlebar-close ui-corner-all HeaderButton' />").hover(function(){pt.addClass("ui-state-hover")},function(){pt.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'><\/span>").css(s==="rtl"?"left":"right","0px"):"";n(r.cDiv).append(pt).append("<span class='ui-jqgrid-title'>"+i.p.caption+"<\/span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+(s==="rtl"?"-rtl":"")+" ui-widget-header ui-corner-top ui-helper-clearfix");n(r.cDiv).insertBefore(r.hDiv);i.p.toolbar[0]&&(r.uDiv=document.createElement("div"),i.p.toolbar[1]==="top"?n(r.uDiv).insertBefore(r.hDiv):i.p.toolbar[1]==="bottom"&&n(r.uDiv).insertAfter(r.hDiv),i.p.toolbar[1]==="both"?(r.ubDiv=document.createElement("div"),n(r.uDiv).insertBefore(r.hDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),n(r.ubDiv).insertAfter(r.hDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id),l&&n(r.ubDiv).hide()):n(r.uDiv).width(r.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),l&&n(r.uDiv).hide());i.p.toppager&&(i.p.toppager=n.jgrid.jqID(i.p.id)+"_toppager",r.topDiv=n("<div id='"+i.p.toppager+"'><\/div>")[0],i.p.toppager="#"+i.p.toppager,n(r.topDiv).insertBefore(r.hDiv).addClass("ui-state-default ui-jqgrid-toppager").width(r.width),si(i.p.toppager,"_t"));i.p.footerrow&&(r.sDiv=n("<div class='ui-jqgrid-sdiv'><\/div>")[0],g=n("<div class='ui-jqgrid-hbox"+(s==="rtl"?"-rtl":"")+"'><\/div>"),n(r.sDiv).append(g).insertAfter(r.hDiv).width(r.width),n(g).append(ft),r.footers=n(".ui-jqgrid-ftable",r.sDiv)[0].rows[0].cells,i.p.rownumbers&&(r.footers[0].className="ui-state-default jqgrid-rownum"),l&&n(r.sDiv).hide());g=null;i.p.caption?(di=i.p.datatype,i.p.hidegrid===!0&&(n(".ui-jqgrid-titlebar-close",r.cDiv).click(function(t){var e=n.isFunction(i.p.onHeaderClick),u=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",f,o=this;return i.p.toolbar[0]===!0&&(i.p.toolbar[1]==="both"&&(u+=", #"+n(r.ubDiv).attr("id")),u+=", #"+n(r.uDiv).attr("id")),f=n(u,"#gview_"+n.jgrid.jqID(i.p.id)).length,i.p.gridstate==="visible"?n(u,"#gbox_"+n.jgrid.jqID(i.p.id)).slideUp("fast",function(){f--;f===0&&(n("span",o).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),i.p.gridstate="hidden",n("#gbox_"+n.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&n(".ui-resizable-handle","#gbox_"+n.jgrid.jqID(i.p.id)).hide(),n(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,t]),e&&(l||i.p.onHeaderClick.call(i,i.p.gridstate,t)))}):i.p.gridstate==="hidden"&&n(u,"#gbox_"+n.jgrid.jqID(i.p.id)).slideDown("fast",function(){f--;f===0&&(n("span",o).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),l&&(i.p.datatype=di,v(),l=!1),i.p.gridstate="visible",n("#gbox_"+n.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&n(".ui-resizable-handle","#gbox_"+n.jgrid.jqID(i.p.id)).show(),n(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,t]),e&&(l||i.p.onHeaderClick.call(i,i.p.gridstate,t)))}),!1}),l&&(i.p.datatype="local",n(".ui-jqgrid-titlebar-close",r.cDiv).trigger("click")))):(n(r.cDiv).hide(),i.p.toppager||n(r.hDiv).addClass("ui-corner-top"));n(r.hDiv).after(r.bDiv).mousemove(function(n){if(r.resizing)return r.dragMove(n),!1});n(".ui-jqgrid-labels",r.hDiv).bind("selectstart",function(){return!1});n(document).bind("mouseup.jqGrid"+i.p.id,function(){return r.resizing?(r.dragEnd(),!1):!0});i.formatCol=tt;i.sortData=hi;i.updatepager=rr;i.refreshIndex=wt;i.setHeadCheckBox=lt;i.constructTr=fi;i.extendPostData=ei;i.formatter=function(n,t,i,r,u){return ti(n,t,i,r,u)};n.extend(r,{populate:v,emptyRows:st,beginReq:ct,endReq:k});this.grid=r;i.addJSONData=function(n){ht(n,i.grid.bDiv)};this.grid.cols=this.rows[0].cells;n(i).triggerHandler("jqGridInitGridDefaults");n(i).triggerHandler("jqGridInitGrid");n.isFunction(i.p.onInitGrid)&&i.p.onInitGrid.call(i);i.p.LoadOnDemand===!1?v():fr();i.p.hiddengrid=!1}})};n.jgrid.extend({getGridParam:function(n){var t=this[0];if(t&&t.grid)return n?t.p[n]!==undefined?t.p[n]:null:t.p},setGridParam:function(t,i){return this.each(function(){if(i==null&&(i=!1),this.grid&&typeof t=="object")if(i===!0){var r=n.extend({},this.p,t);this.p=r}else n.extend(!0,this.p,t)})},getGridRowById:function(t){var i;return this.each(function(){try{for(var r=this.rows.length;r--;)if(t.toString()===this.rows[r].id){i=this.rows[r];break}}catch(u){i=n(this.grid.bDiv).find("#"+n.jgrid.jqID(t))}}),i},getDataIDs:function(){var r=[],t=0,i,u=0;return this.each(function(){if(i=this.rows.length,i&&i>0)while(t<i)n(this.rows[t]).hasClass("jqgrow")&&(r[u]=this.rows[t].id,u++),t++}),r},setSelection:function(t,i,r){return this.each(function(){function a(t){var f=n(u.grid.bDiv)[0].clientHeight,i=n(u.grid.bDiv)[0].scrollTop,r=n(u.rows[t]).position().top,e=u.rows[t].clientHeight;r+e>=f+i?n(u.grid.bDiv)[0].scrollTop=r-(f+i)+e+i:r<f+i&&r<i&&(n(u.grid.bDiv)[0].scrollTop=r)}var u=this,e,f,h,s,c,o,l;t!==undefined&&((i=i===!1?!1:!0,f=n(u).jqGrid("getGridRowById",t),!f||!f.className||f.className.indexOf("ui-state-disabled")>-1)||(u.p.scrollrows===!0&&(h=n(u).jqGrid("getGridRowById",t).rowIndex,h>=0&&a(h)),u.p.frozenColumns===!0&&(o=u.p.id+"_frozen"),u.p.multiselect?(u.setHeadCheckBox(!1),u.p.selrow=f.id,s=n.inArray(u.p.selrow,u.p.selarrrow),s===-1?(f.className!=="ui-subgrid"&&n(f).addClass("ui-state-highlight").attr("aria-selected","true"),e=!0,u.p.selarrrow.push(u.p.selrow)):(f.className!=="ui-subgrid"&&n(f).removeClass("ui-state-highlight").attr("aria-selected","false"),e=!1,u.p.selarrrow.splice(s,1),c=u.p.selarrrow[0],u.p.selrow=c===undefined?null:c),n("#jqg_"+n.jgrid.jqID(u.p.id)+"_"+n.jgrid.jqID(f.id))[u.p.useProp?"prop":"attr"]("checked",e),o&&(s===-1?n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(o)).addClass("ui-state-highlight"):n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(o)).removeClass("ui-state-highlight"),n("#jqg_"+n.jgrid.jqID(u.p.id)+"_"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(o))[u.p.useProp?"prop":"attr"]("checked",e)),i&&(n(u).triggerHandler("jqGridSelectRow",[f.id,e,r]),u.p.onSelectRow&&u.p.onSelectRow.call(u,f.id,e,r))):f.className!=="ui-subgrid"&&(u.p.selrow!==f.id?(l=n(u).jqGrid("getGridRowById",u.p.selrow),l&&n(l).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),n(f).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),o&&(n("#"+n.jgrid.jqID(u.p.selrow),"#"+n.jgrid.jqID(o)).removeClass("ui-state-highlight"),n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(o)).addClass("ui-state-highlight")),e=!0):e=!1,u.p.selrow=f.id,i&&(n(u).triggerHandler("jqGridSelectRow",[f.id,e,r]),u.p.onSelectRow&&u.p.onSelectRow.call(u,f.id,e,r)))))})},resetSelection:function(t){return this.each(function(){var i=this,u,r,f;i.p.frozenColumns===!0&&(r=i.p.id+"_frozen");t!==undefined?(u=t===i.p.selrow?i.p.selrow:t,n("#"+n.jgrid.jqID(i.p.id)+" tbody:first tr#"+n.jgrid.jqID(u)).removeClass("ui-state-highlight").attr("aria-selected","false"),r&&n("#"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r)).removeClass("ui-state-highlight"),i.p.multiselect&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(i.p.id))[i.p.useProp?"prop":"attr"]("checked",!1),r&&n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r))[i.p.useProp?"prop":"attr"]("checked",!1),i.setHeadCheckBox(!1),f=n.inArray(n.jgrid.jqID(u),i.p.selarrrow),f!==-1&&i.p.selarrrow.splice(f,1)),u=null):i.p.multiselect?(n(i.p.selarrrow).each(function(t,u){n(n(i).jqGrid("getGridRowById",u)).removeClass("ui-state-highlight").attr("aria-selected","false");n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u))[i.p.useProp?"prop":"attr"]("checked",!1);r&&(n("#"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r)).removeClass("ui-state-highlight"),n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r))[i.p.useProp?"prop":"attr"]("checked",!1))}),i.setHeadCheckBox(!1),i.p.selarrrow=[],i.p.selrow=null):i.p.selrow&&(n("#"+n.jgrid.jqID(i.p.id)+" tbody:first tr#"+n.jgrid.jqID(i.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),r&&n("#"+n.jgrid.jqID(i.p.selrow),"#"+n.jgrid.jqID(r)).removeClass("ui-state-highlight"),i.p.selrow=null);i.p.cellEdit===!0&&parseInt(i.p.iCol,10)>=0&&parseInt(i.p.iRow,10)>=0&&(n("td:eq("+i.p.iCol+")",i.rows[i.p.iRow]).removeClass("edit-cell ui-state-highlight"),n(i.rows[i.p.iRow]).removeClass("selected-row ui-state-hover"));i.p.savedRow=[]})},getRowData:function(t){var i={},r,u=!1,f,e=0;return this.each(function(){var o=this,s,h;if(t===undefined)u=!0,r=[],f=o.rows.length;else{if(h=n(o).jqGrid("getGridRowById",t),!h)return i;f=2}while(e<f)u&&(h=o.rows[e]),n(h).hasClass("jqgrow")&&(n('td[role="gridcell"]',h).each(function(t){if(s=o.p.colModel[t].name,s!=="cb"&&s!=="subgrid"&&s!=="rn")if(o.p.treeGrid===!0&&s===o.p.ExpandColumn)i[s]=n.oa.ui.htmlDecode(n("span:first",this).html());else try{i[s]=n.unformat.call(o,this,{rowId:h.id,colModel:o.p.colModel[t]},t)}catch(r){i[s]=n.oa.ui.htmlDecode(n(this).html())}}),u&&(r.push(i),i={})),e++}),r||i},getRowData2:function(t){var i;return this.each(function(){var r=this,u=n.jgrid.stripPref(r.p.idPrefix,t),f=r.p._index[u];i=r.p.data[f]}),i||{}},delRowData:function(t){var r=!1,i,u,f;return this.each(function(){var e=this,h,o,s;if(i=n(e).jqGrid("getGridRowById",t),!i)return!1;e.p.subGrid&&(f=n(i).next(),f.hasClass("ui-subgrid")&&f.remove());n(i).remove();e.p.records--;e.p.reccount--;e.updatepager(!0,!1);r=!0;e.p.multiselect&&(u=n.inArray(t,e.p.selarrrow),u!==-1&&e.p.selarrrow.splice(u,1));e.p.selrow=e.p.multiselect&&e.p.selarrrow.length>0?e.p.selarrrow[e.p.selarrrow.length-1]:null;e.p.datatype==="local"&&(h=n.jgrid.stripPref(e.p.idPrefix,t),o=e.p._index[h],typeof o!="undefined"&&(e.p.data.splice(o,1),e.refreshIndex()));e.p.altRows===!0&&r&&(s=e.p.altclass,n(e.rows).each(function(t){t%2==1?n(this).addClass(s):n(this).removeClass(s)}))}),r},setRowData:function(t,i,r){var u,f=!0,e;return this.each(function(){var y,l,a;if(!this.grid)return!1;var o=this,c,s,v=typeof r,h={};if(s=n(this).jqGrid("getGridRowById",t),!s)return!1;if(i)try{if(n(this.p.colModel).each(function(r){u=this.name;var f=n.jgrid.getAccessor(i,u);f!==undefined&&(h[u]=this.formatter&&typeof this.formatter=="string"&&this.formatter==="date"?n.unformat.date.call(o,f,this):f,c=o.formatter(t,f,r,i,"edit"),e=this.title?{title:n.oa.ui.stripHtml(c)}:{},o.p.treeGrid===!0&&u===o.p.ExpandColumn?n("td:eq("+r+") > span:first",s).html(c).attr(e):n("td:eq("+r+")",s).html(c).attr(e))}),o.p.datatype==="local"){if(y=n.jgrid.stripPref(o.p.idPrefix,t),l=o.p._index[y],o.p.treeGrid)for(a in o.p.treeReader)h.hasOwnProperty(o.p.treeReader[a])&&delete h[o.p.treeReader[a]];typeof l!="undefined"&&(o.p.data[l]=n.extend(!0,o.p.data[l],h));h=null}}catch(p){f=!1}f&&(v==="string"?n(s).addClass(r):r!==null&&v==="object"&&n(s).css(r),n(o).triggerHandler("jqGridAfterGridComplete"))}),f},addRowData:function(t,i,r,u){r||(r="last");var d=!1,w,f,h,b,s,e,c,a,l="",v,y,p,o,g,k;return i&&(n.isArray(i)?(v=!0,r="last",y=t):(i=[i],v=!1),this.each(function(){var nt=this,ut=i.length;s=nt.p.rownumbers===!0?1:0;h=nt.p.multiselect===!0?1:0;b=nt.p.subGrid===!0?1:0;v||(t!==undefined?t=String(t):(t=n.jgrid.randId(),nt.p.keyIndex!==!1&&(y=nt.p.colModel[nt.p.keyIndex+h+b+s].name,i[0][y]!==undefined&&(t=i[0][y]))));p=nt.p.altclass;for(var it=0,rt="",tt={},ft=n.isFunction(nt.p.afterInsertRow)?!0:!1;it<ut;){if(o=i[it],f=[],v){try{t=o[y];t===undefined&&(t=n.jgrid.randId())}catch(et){t=n.jgrid.randId()}rt=nt.p.altRows===!0?(nt.rows.length-1)%2==0?p:"":""}for(k=t,t=nt.p.idPrefix+t,s&&(l=nt.formatCol(0,1,"",null,t,!0),f[f.length]='<td role="gridcell" class="ui-state-default jqgrid-rownum" '+l+">0<\/td>"),h&&(a='<input role="checkbox" type="checkbox" id="jqg_'+nt.p.id+"_"+t+'" class="cbox"/>',l=nt.formatCol(s,1,"",null,t,!0),f[f.length]='<td role="gridcell" '+l+">"+a+"<\/td>"),b&&(f[f.length]=n(nt).jqGrid("addSubGridCell",h+s,1,0)),c=h+b+s;c<nt.p.colModel.length;c++)g=nt.p.colModel[c],w=g.name,tt[w]=o[w],a=nt.formatter(t,n.jgrid.getAccessor(o,w),c,o),l=nt.formatCol(c,1,a,o,t,!0),f[f.length]='<td role="gridcell" '+l+">"+a+"<\/td>";if(f.unshift(nt.constructTr(t,!1,rt,tt,o,!1)),f[f.length]="<\/tr>",nt.rows.length===0)n("table:first",nt.grid.bDiv).append(f.join(""));else switch(r){case"last":n(nt.rows[nt.rows.length-1]).after(f.join(""));e=nt.rows.length-1;break;case"first":n(nt.rows[0]).after(f.join(""));e=1;break;case"after":e=n(nt).jqGrid("getGridRowById",u);e&&(n(nt.rows[e.rowIndex+1]).hasClass("ui-subgrid")?n(nt.rows[e.rowIndex+1]).after(f):n(e).after(f.join("")),e=e.rowIndex+1);break;case"before":e=n(nt).jqGrid("getGridRowById",u);e&&(n(e).before(f.join("")),e=e.rowIndex-1)}nt.p.subGrid===!0&&n(nt).jqGrid("addSubGrid",h+s,e);nt.p.records++;nt.p.reccount++;n(nt).triggerHandler("jqGridAfterInsertRow",[t,o,o]);ft&&nt.p.afterInsertRow.call(nt,t,o,o);it++;nt.p.datatype==="local"&&(tt[nt.p.localReader.id]=k,nt.p._index[k]=nt.p.data.length,nt.p.data.push(tt),tt={})}nt.p.altRows!==!0||v||(r==="last"?(nt.rows.length-1)%2==1&&n(nt.rows[nt.rows.length-1]).addClass(p):n(nt.rows).each(function(t){t%2==1?n(this).addClass(p):n(this).removeClass(p)}));nt.updatepager(!0,!0);d=!0})),d},footerData:function(t,i,r){function s(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}var u,f=!1,e={},o;return t==undefined&&(t="get"),typeof r!="boolean"&&(r=!0),t=t.toLowerCase(),this.each(function(){var h=this,c;if(!h.grid||!h.p.footerrow||t==="set"&&s(i))return!1;f=!0;n(this.p.colModel).each(function(s){u=this.name;t==="set"?i[u]!==undefined&&(c=r?h.formatter("",i[u],s,i,"edit"):i[u],o=this.title?{title:n.oa.ui.stripHtml(c)}:{},n("tr.footrow td:eq("+s+")",h.grid.sDiv).html(c).attr(o),f=!0):t==="get"&&(e[u]=n("tr.footrow td:eq("+s+")",h.grid.sDiv).html())})}),t==="get"?e:f},showHideCol:function(t,i){return this.each(function(){var r=this,o=!1,s=n.jgrid.cell_width?0:r.p.cellLayout,f,u,e;r.grid&&(typeof t=="string"&&(t=[t]),i=i!=="none"?"":"none",u=i===""?!0:!1,e=r.p.groupHeader&&(typeof r.p.groupHeader=="object"||n.isFunction(r.p.groupHeader)),e&&n(r).jqGrid("destroyGroupHeader",!1),n(this.p.colModel).each(function(e){if(n.inArray(this.name,t)!==-1&&this.hidden===u){if(r.p.frozenColumns===!0&&this.frozen===!0)return!0;n("tr[role=row]",r.grid.hDiv).each(function(){n(this.cells[e]).css("display",i)});n(r.rows).each(function(){n(this).hasClass("jqgroup")||n(this.cells[e]).css("display",i)});r.p.footerrow&&n("tr.footrow td:eq("+e+")",r.grid.sDiv).css("display",i);f=parseInt(this.width,10);i==="none"?r.p.tblwidth-=f+s:r.p.tblwidth+=f+s;this.hidden=!u;o=!0;n(r).triggerHandler("jqGridShowHideCol",[u,this.name,e])}}),o===!0&&(r.p.shrinkToFit!==!0||isNaN(r.p.height)||(r.p.tblwidth+=parseInt(r.p.scrollOffset,10)),n(r).jqGrid("setGridWidth",r.p.shrinkToFit===!0?r.p.tblwidth:r.p.width)),e&&n(r).jqGrid("setGroupHeaders",r.p.groupHeader))})},hideCol:function(t){return this.each(function(){n(this).jqGrid("showHideCol",t,"none")})},showCol:function(t){return this.each(function(){n(this).jqGrid("showHideCol",t,"")})},remapColumns:function(t,i,r){function f(i){var r;r=i.length?n.makeArray(i):n.extend({},i);n.each(t,function(n){i[n]=r[this]})}function e(i,r){n(">tr"+(r||""),i).each(function(){var i=this,r=n.makeArray(i.cells);n.each(t,function(){var n=r[this];n&&i.appendChild(n)})})}var u=this.get(0);f(u.p.colModel);f(u.p.colNames);f(u.grid.headers);e(n("thead:first",u.grid.hDiv),r&&":not(.ui-jqgrid-labels)");i&&e(n("#"+n.jgrid.jqID(u.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot");u.p.footerrow&&e(n("tbody:first",u.grid.sDiv));u.p.remapColumns&&(u.p.remapColumns.length?f(u.p.remapColumns):u.p.remapColumns=n.makeArray(t));u.p.lastsort=n.inArray(u.p.lastsort,t);u.p.treeGrid&&(u.p.expColInd=n.inArray(u.p.expColInd,t));n(u).triggerHandler("jqGridRemapColumns",[t,i,r])},setGridWidth:function(t,i){return this.each(function(){var v,p;if(this.grid){var r=this,u,e=0,o=n.jgrid.cell_width?0:r.p.cellLayout,f,s=0,y=!1,l=r.p.scrollOffset,a,h=0,c;if(typeof i!="boolean"&&(i=r.p.shrinkToFit),!isNaN(t)){if(t=parseInt(t,10),r.grid.width=r.p.width=t,n("#gbox_"+n.jgrid.jqID(r.p.id)).css("width",t+"px"),n("#gview_"+n.jgrid.jqID(r.p.id)).css("width",t+"px"),n(r.grid.bDiv).css("width",t+"px"),n(r.grid.hDiv).css("width",t+"px"),r.p.pager&&n(r.p.pager).css("width",t+"px"),r.p.toppager&&n(r.p.toppager).css("width",t+"px"),r.p.toolbar[0]===!0&&(n(r.grid.uDiv).css("width",t+"px"),r.p.toolbar[1]==="both"&&n(r.grid.ubDiv).css("width",t+"px")),r.p.footerrow&&n(r.grid.sDiv).css("width",t+"px"),i===!1&&r.p.forceFit===!0&&(r.p.forceFit=!1),i===!0){if(n.each(r.p.colModel,function(){this.hidden===!1&&(u=this.widthOrg,e+=u+o,this.fixed?h+=u+o:s++)}),s===0)return;if(r.p.tblwidth=e,a=t-o*s-h,isNaN(r.p.height)||(n(r.grid.bDiv)[0].clientHeight<n(r.grid.bDiv)[0].scrollHeight||r.rows.length===1)&&(y=!0,a-=l),e=0,v=r.grid.cols.length>0,n.each(r.p.colModel,function(n){if(this.hidden===!1&&!this.fixed){if(u=this.widthOrg,u=Math.round(a*u/(r.p.tblwidth-o*s-h)),u<0)return;this.width=u;e+=u;r.grid.headers[n].width=u;r.grid.headers[n].el.style.width=u+"px";r.p.footerrow&&(r.grid.footers[n].style.width=u+"px");v&&(r.grid.cols[n].style.width=u+"px");f=n}}),!f)return;c=0;y?t-h-(e+o*s)!==l&&(c=t-h-(e+o*s)-l):Math.abs(t-h-(e+o*s))!==1&&(c=t-h-(e+o*s));r.p.colModel[f].width+=c;r.p.tblwidth=e+c+o*s+h;r.p.tblwidth>t?(p=r.p.tblwidth-parseInt(t,10),r.p.tblwidth=t,u=r.p.colModel[f].width=r.p.colModel[f].width-p):u=r.p.colModel[f].width;r.grid.headers[f].width=u;r.grid.headers[f].el.style.width=u+"px";v&&(r.grid.cols[f].style.width=u+"px");r.p.footerrow&&(r.grid.footers[f].style.width=u+"px")}r.p.tblwidth&&(n("table:first",r.grid.bDiv).css("width",r.p.tblwidth+"px"),n("table:first",r.grid.hDiv).css("width",r.p.tblwidth+"px"),r.grid.hDiv.scrollLeft=r.grid.bDiv.scrollLeft,r.p.footerrow&&n("table:first",r.grid.sDiv).css("width",r.p.tblwidth+"px"))}}})},setGridHeight:function(t){return this.each(function(){var i=this,r;i.grid&&(r=n(i.grid.bDiv),r.css({height:t+(isNaN(t)?"":"px")}),i.p.frozenColumns===!0&&n("#"+n.jgrid.jqID(i.p.id)+"_frozen").parent().height(r.height()-16),i.p.height=t,i.p.scroll&&i.grid.populateVisible())})},setCaption:function(t){return this.each(function(){this.p.caption=t;n("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(t);n(this.grid.cDiv).show();n(this.grid.hDiv).removeClass("ui-corner-top")})},setLabel:function(t,i,r,u){return this.each(function(){var e=this,o=-1,f,s;if(e.grid){if(t!==undefined)n(e.p.colModel).each(function(n){if(this.name===t)return o=n,!1});else return;o>=0&&(f=n("tr.ui-jqgrid-labels th:eq("+o+")",e.grid.hDiv),i&&(s=n(".s-ico",f),n("[id^=jqgh_]",f).empty().html(i).append(s),e.p.colNames[o]=i),r&&(typeof r=="string"?n(f).addClass(r):n(f).css(r)),typeof u=="object"&&n(f).attr(u))}})},setCell:function(t,i,r,u,f,e){return this.each(function(){var o=this,s=-1,a,v,l,c,p;if(o.grid&&(isNaN(i)?n(o.p.colModel).each(function(n){if(this.name===i)return s=n,!1}):s=parseInt(i,10),s>=0&&(l=n(o).jqGrid("getGridRowById",t),l))){var h=n("td:eq("+s+")",l),y=0,w=[];if(r!==""||e===!0){while(y<l.cells.length)w.push(l.cells[y].innerHTML),y++;a=o.formatter(t,r,s,w,"edit");v=o.p.colModel[s].title?{title:n.oa.ui.stripHtml(a)}:{};o.p.treeGrid&&n(".tree-wrap",n(h)).length>0?n("span",n(h)).html(a).attr(v):n(h).html(a).attr(v);o.p.datatype==="local"&&(c=o.p.colModel[s],r=c.formatter&&typeof c.formatter=="string"&&c.formatter==="date"?n.unformat.date.call(o,r,c):r,p=o.p._index[n.jgrid.stripPref(o.p.idPrefix,t)],typeof p!="undefined"&&(o.p.data[p][c.name]=r))}typeof u=="string"?n(h).addClass(u):u&&n(h).css(u);typeof f=="object"&&n(h).attr(f)}})},getCell:function(t,i){var r=!1;return this.each(function(){var f=this,u=-1,e;if(f.grid&&(isNaN(i)?n(f.p.colModel).each(function(n){if(this.name===i)return u=n,!1}):u=parseInt(i,10),u>=0&&(e=n(f).jqGrid("getGridRowById",t),e)))try{r=n.unformat.call(f,n("td:eq("+u+")",e),{rowId:e.id,colModel:f.p.colModel[u]},u)}catch(o){r=n.oa.ui.htmlDecode(n("td:eq("+u+")",e).html())}}),r},getCol:function(t,i,r){var u=[],e,h=0,s,o,f;return i=typeof i!="boolean"?!1:i,r===undefined&&(r=!1),this.each(function(){var c=this,l=-1;if(c.grid&&(isNaN(t)?n(c.p.colModel).each(function(n){if(this.name===t)return l=n,!1}):l=parseInt(t,10),l>=0)){var v=c.rows.length,a=0,y=0;if(v&&v>0){while(a<v){if(n(c.rows[a]).hasClass("jqgrow")){try{e=n.unformat.call(c,n(c.rows[a].cells[l]),{rowId:c.rows[a].id,colModel:c.p.colModel[l]},l)}catch(p){e=n.oa.ui.htmlDecode(c.rows[a].cells[l].innerHTML)}r?(f=parseFloat(e),isNaN(f)||(h+=f,o===undefined&&(o=s=f),s=Math.min(s,f),o=Math.max(o,f),y++)):i?u.push({id:c.rows[a].id,value:e}):u.push(e)}a++}if(r)switch(r.toLowerCase()){case"sum":u=h;break;case"avg":u=h/y;break;case"count":u=v-1;break;case"min":u=s;break;case"max":u=o}}}}),u},clearGridData:function(t){return this.each(function(){var i=this,r;i.grid&&(typeof t!="boolean"&&(t=!1),i.p.deepempty?n("#"+n.jgrid.jqID(i.p.id)+" tbody:first tr:gt(0)").remove():(r=n("#"+n.jgrid.jqID(i.p.id)+" tbody:first tr:first")[0],n("#"+n.jgrid.jqID(i.p.id)+" tbody:first").empty().append(r)),i.p.footerrow&&t&&n(".ui-jqgrid-ftable td",i.grid.sDiv).html("&#160;"),i.p.selrow=null,i.p.selarrrow=[],i.p.savedRow=[],i.p.records=0,i.p.page=1,i.p.lastpage=0,i.p.reccount=0,i.p.data=[],i.p._index={},i.updatepager(!0,!1))})},getInd:function(t,i){var u=!1,r;return this.each(function(){r=n(this).jqGrid("getGridRowById",t);r&&(u=i===!0?r:r.rowIndex)}),u},bindKeys:function(t){var i=n.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},t||{});return this.each(function(){var t=this;n("body").is("[role]")||n("body").attr("role","application");t.p.scrollrows=i.scrollingRows;n(t).keydown(function(r){var e=n(t).find("tr[tabindex=0]")[0],f,u,o,s=t.p.treeReader.expanded_field;if(e)if(o=t.p._index[n.jgrid.stripPref(t.p.idPrefix,e.id)],r.keyCode===37||r.keyCode===38||r.keyCode===39||r.keyCode===40){if(r.keyCode===38){if(u=e.previousSibling,f="",u)if(n(u).is(":hidden")){while(u)if(u=u.previousSibling,!n(u).is(":hidden")&&n(u).hasClass("jqgrow")){f=u.id;break}}else f=u.id;n(t).jqGrid("setSelection",f,!0,r);r.preventDefault()}if(r.keyCode===40){if(u=e.nextSibling,f="",u)if(n(u).is(":hidden")){while(u)if(u=u.nextSibling,!n(u).is(":hidden")&&n(u).hasClass("jqgrow")){f=u.id;break}}else f=u.id;n(t).jqGrid("setSelection",f,!0,r);r.preventDefault()}r.keyCode===37&&(t.p.treeGrid&&t.p.data[o][s]&&n(e).find("div.treeclick").trigger("click"),n(t).triggerHandler("jqGridKeyLeft",[t.p.selrow]),n.isFunction(i.onLeftKey)&&i.onLeftKey.call(t,t.p.selrow));r.keyCode===39&&(t.p.treeGrid&&!t.p.data[o][s]&&n(e).find("div.treeclick").trigger("click"),n(t).triggerHandler("jqGridKeyRight",[t.p.selrow]),n.isFunction(i.onRightKey)&&i.onRightKey.call(t,t.p.selrow))}else r.keyCode===13?(n(t).triggerHandler("jqGridKeyEnter",[t.p.selrow]),n.isFunction(i.onEnter)&&i.onEnter.call(t,t.p.selrow)):r.keyCode===32&&(n(t).triggerHandler("jqGridKeySpace",[t.p.selrow]),n.isFunction(i.onSpace)&&i.onSpace.call(t,t.p.selrow))})})},unbindKeys:function(){return this.each(function(){n(this).unbind("keydown")})},getLocalRow:function(t){var r=!1,i;return this.each(function(){typeof t!="undefined"&&(i=this.p._index[n.jgrid.stripPref(this.p.idPrefix,t)],i>=0&&(r=this.p.data[i]))}),r},progressBar:function(t){return t=n.extend({htmlcontent:"",method:"hide",loadtype:"disable"},t||{}),this.each(function(){var i=t.method==="show"?!0:!1;t.htmlcontent!==""&&n("#load_"+n.jgrid.jqID(this.p.id)).html(t.htmlcontent);switch(t.loadtype){case"enable":n("#load_"+n.jgrid.jqID(this.p.id)).toggle(i);break;case"block":n("#lui_"+n.jgrid.jqID(this.p.id)).toggle(i);n("#load_"+n.jgrid.jqID(this.p.id)).toggle(i)}})}})})(jQuery),function(n){"use strict";n.extend(n.jgrid,{showModal:function(n){n.w.show()},closeModal:function(n){n.w.hide().attr("aria-hidden","true");n.o&&n.o.remove()},hideModal:function(t,i){if(i=n.extend({jqm:!0,gb:""},i||{}),i.onClose){var r=i.gb&&typeof i.gb=="string"&&i.gb.substr(0,6)==="#gbox_"?i.onClose.call(n("#"+i.gb.substr(6))[0],t):i.onClose(t);if(typeof r=="boolean"&&!r)return}if(n.fn.jqm&&i.jqm===!0)n(t).attr("aria-hidden","true").jqmHide();else{if(i.gb!=="")try{n(".jqgrid-overlay:first",i.gb).hide()}catch(u){}n(t).hide().attr("aria-hidden","true")}},findPos:function(n){var t=0,i=0;if(n.offsetParent)do t+=n.offsetLeft,i+=n.offsetTop;while(n=n.offsetParent);return[t,i]},createModal:function(t,i,r,u,f,e,o){var s,y,p,h,l,a,c,v,w,b;if(r=n.extend(!0,{},n.jgrid.jqModal||{},r),s=document.createElement("div"),p=this,o=n.extend({},o||{}),y=n(r.gbox).attr("dir")==="rtl"?!0:!1,s.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog",s.id=t.themodal,h=document.createElement("div"),h.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix",h.id=t.modalhead,n(h).append("<span class='ui-jqdialog-title'>"+r.caption+"<\/span>"),l=n("<a class='ui-jqdialog-titlebar-close ui-corner-all'><\/a>").hover(function(){l.addClass("ui-state-hover")},function(){l.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'><\/span>"),n(h).append(l),y?(s.dir="rtl",n(".ui-jqdialog-title",h).css("float","right"),n(".ui-jqdialog-titlebar-close",h).css("left",.3+"em")):(s.dir="ltr",n(".ui-jqdialog-title",h).css("float","left"),n(".ui-jqdialog-titlebar-close",h).css("right",.3+"em")),a=document.createElement("div"),n(a).addClass("ui-jqdialog-content ui-widget-content").attr("id",t.modalcontent),n(a).append(i),s.appendChild(a),n(s).prepend(h),e===!0?n("body").append(s):typeof e=="string"?n(e).append(s):n(s).insertBefore(u),n(s).css(o),r.jqModal===undefined&&(r.jqModal=!0),c={},n.fn.jqm&&r.jqModal===!0?(r.left===0&&r.top===0&&r.overlay&&(v=[],v=n.jgrid.findPos(f),r.left=v[0]+4,r.top=v[1]+4),c.top=r.top+"px",c.left=r.left):(r.left!==0||r.top!==0)&&(c.left=r.left,c.top=r.top+"px"),n("a.ui-jqdialog-titlebar-close",h).click(function(){var i=n("#"+n.jgrid.jqID(t.themodal)).data("onClose")||r.onClose,u=n("#"+n.jgrid.jqID(t.themodal)).data("gbox")||r.gbox;return p.hideModal("#"+n.jgrid.jqID(t.themodal),{gb:u,jqm:r.jqModal,onClose:i}),!1}),r.width!==0&&r.width||(r.width=300),r.height!==0&&r.height||(r.height=200),r.zIndex||(w=n(u).parents("*[role=dialog]").filter(":first").css("z-index"),r.zIndex=w?parseInt(w,10)+2:950),b=0,y&&c.left&&!e&&(b=n(r.gbox).width()-(isNaN(r.width)?0:parseInt(r.width,10))-8,c.left=parseInt(c.left,10)+parseInt(b,10)),c.left&&(c.left+="px"),n(s).css(n.extend({width:isNaN(r.width)?"auto":r.width+"px",height:isNaN(r.height)?"auto":r.height+"px",zIndex:r.zIndex,overflow:"hidden"},c)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":t.modalhead,"aria-hidden":"true"}),r.drag===undefined&&(r.drag=!0),r.resize===undefined&&(r.resize=!0),r.drag)if(n(h).css("cursor","move"),n.fn.jqDrag)n(s).jqDrag(h);else try{n(s).draggable({handle:n("#"+n.jgrid.jqID(h.id))})}catch(k){}if(r.resize)if(n.fn.jqResize)n(s).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'><\/div>"),n("#"+n.jgrid.jqID(t.themodal)).jqResize(".jqResize",t.scrollelm?"#"+n.jgrid.jqID(t.scrollelm):!1);else try{n(s).resizable({handles:"se, sw",alsoResize:t.scrollelm?"#"+n.jgrid.jqID(t.scrollelm):!1})}catch(d){}r.closeOnEscape===!0&&n(s).keydown(function(i){if(i.which==27){var u=n("#"+n.jgrid.jqID(t.themodal)).data("onClose")||r.onClose;p.hideModal("#"+n.jgrid.jqID(t.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:u})}})},viewModal:function(t,i){if(i=n.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:n.jgrid.showModal,onHide:n.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},i||{}),n.fn.jqm&&i.jqm===!0)i.jqM?n(t).attr("aria-hidden","false").jqm(i).jqmShow():n(t).attr("aria-hidden","false").jqmShow();else{i.gbox!==""&&(n(".jqgrid-overlay:first",i.gbox).show(),n(t).data("gbox",i.gbox));n(t).show().attr("aria-hidden","false");try{n(":input:visible",t)[0].focus()}catch(r){}}},info_dialog:function(t,i,r,u){var f={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]},o,c,s,e;if(n.extend(!0,f,n.jgrid.jqModal||{},{caption:"<b>"+t+"<\/b>"},u||{}),o=f.jqModal,c=this,n.fn.jqm&&!o&&(o=!1),s="",f.buttons.length>0)for(e=0;e<f.buttons.length;e++)f.buttons[e].id===undefined&&(f.buttons[e].id="info_button_"+e),s+="<a id='"+f.buttons[e].id+"' class='fm-button ui-state-default ui-corner-all'>"+f.buttons[e].text+"<\/a>";var l=isNaN(f.dataheight)?f.dataheight:f.dataheight+"px",a="text-align:"+f.align+";",h="<div id='info_id'>";h+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+l+";"+a+"'>"+i+"<\/div>";h+=r?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+f.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+r+"<\/a>"+s+"<\/div>":s!==""?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+f.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+s+"<\/div>":"";h+="<\/div>";try{n("#info_dialog").attr("aria-hidden")==="false"&&n.jgrid.hideModal("#info_dialog",{jqm:o});n("#info_dialog").remove()}catch(v){}n.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},h,f,"","",!0);s&&n.each(f.buttons,function(t){n("#"+n.jgrid.jqID(this.id),"#info_id").bind("click",function(){return f.buttons[t].onClick.call(n("#info_dialog")),!1})});n("#closedialog","#info_id").click(function(){return c.hideModal("#info_dialog",{jqm:o,onClose:n("#info_dialog").data("onClose")||f.onClose,gb:n("#info_dialog").data("gbox")||f.gbox}),!1});n(".fm-button","#info_dialog").hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});n.isFunction(f.beforeOpen)&&f.beforeOpen();n.jgrid.viewModal("#info_dialog",{onHide:function(n){n.w.hide().remove();n.o&&n.o.remove()},modal:f.modal,jqm:o});n.isFunction(f.afterOpen)&&f.afterOpen();try{n("#info_dialog").focus()}catch(y){}},bindEv:function(t,i){var r=this;n.isFunction(i.dataInit)&&i.dataInit.call(r,t,i);i.dataEvents&&n.each(i.dataEvents,function(){this.data!==undefined?n(t).bind(this.type,this.data,this.fn):n(t).bind(this.type,this.fn)})},createEl:function(t,i,r,u,f){function v(t,i,r){var u=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value"];r!==undefined&&n.isArray(r)&&n.merge(u,r);n.each(i,function(i,r){n.inArray(i,u)===-1&&n(t).attr(i,r)});i.hasOwnProperty("id")||n(t).attr("id",n.jgrid.randId())}var e="",a=this,nt,d,h,c,p,w,g,tt,s,o,it,rt,y,l,ut,b;switch(t){case"textarea":e=document.createElement("textarea");u?i.cols||n(e).css({width:"98%"}):i.cols||(i.cols=20);i.rows||(i.rows=2);(r==="&nbsp;"||r==="&#160;"||r.length===1&&r.charCodeAt(0)===160)&&(r="");e.value=r;v(e,i);n(e).attr({role:"textbox",multiline:"true"});break;case"checkbox":e=document.createElement("input");e.type="checkbox";i.value?(d=i.value.split(":"),r===d[0]&&(e.checked=!0,e.defaultChecked=!0),e.value=d[0],n(e).attr("offval",d[1])):(nt=(r+"").toLowerCase(),nt.search(/(false|0|no|off|undefined)/i)<0&&nt!==""?(e.checked=!0,e.defaultChecked=!0,e.value=r):e.value="on",n(e).attr("offval","off"));v(e,i,["value"]);n(e).attr("role","checkbox");break;case"select":if(e=document.createElement("select"),e.setAttribute("role","select"),c=[],i.multiple===!0?(h=!0,e.multiple="multiple",n(e).attr("aria-multiselectable","true")):h=!1,i.dataUrl!==undefined)p=i.name?String(i.id).substring(0,String(i.id).length-String(i.name).length-1):String(i.id),w=i.postData||f.postData,a.p&&a.p.idPrefix&&(p=n.jgrid.stripPref(a.p.idPrefix,p)),n.ajax(n.extend({url:n.isFunction(i.dataUrl)?i.dataUrl.call(a,p,r,String(i.name)):i.dataUrl,type:"GET",dataType:"html",data:n.isFunction(w)?w.call(a,p,r,String(i.name)):w,context:{elem:e,options:i,vl:r},success:function(t){var i,r=[],f=this.elem,e=this.vl,u=n.extend({},this.options),o=u.multiple===!0;i=n.isFunction(u.buildSelect)?u.buildSelect.call(a,t):t;typeof i=="string"&&(i=n(n.trim(i)).html());i&&(n(f).append(i),v(f,u,w?["postData"]:undefined),u.size===undefined&&(u.size=o?3:1),o?(r=e.split(","),r=n.map(r,function(t){return n.trim(t)})):r[0]=n.trim(e),setTimeout(function(){n("option",f).each(function(t){t===0&&f.multiple&&(this.selected=!1);n(this).attr("role","option");(n.inArray(n.trim(n(this).text()),r)>-1||n.inArray(n.trim(n(this).val()),r)>-1)&&(this.selected="selected")})},0))}},f||{}));else if(i.value){if(i.size===undefined&&(i.size=h?3:1),h&&(c=r.split(","),c=n.map(c,function(t){return n.trim(t)})),typeof i.value=="function"&&(i.value=i.value()),it=i.separator===undefined?":":i.separator,rt=i.delimiter===undefined?";":i.delimiter,typeof i.value=="string")for(tt=i.value.split(rt),g=0;g<tt.length;g++)s=tt[g].split(it),s.length>2&&(s[1]=n.map(s,function(n,t){if(t>0)return n}).join(it)),o=document.createElement("option"),o.setAttribute("role","option"),o.value=s[0],o.innerHTML=s[1],e.appendChild(o),h||n.trim(s[0])!==n.trim(r)&&n.trim(s[1])!==n.trim(r)||(o.selected="selected"),h&&(n.inArray(n.trim(s[1]),c)>-1||n.inArray(n.trim(s[0]),c)>-1)&&(o.selected="selected");else if(typeof i.value=="object"){y=i.value;for(l in y)y.hasOwnProperty(l)&&(o=document.createElement("option"),o.setAttribute("role","option"),o.value=l,o.innerHTML=y[l],e.appendChild(o),h||n.trim(l)!==n.trim(r)&&n.trim(y[l])!==n.trim(r)||(o.selected="selected"),h&&(n.inArray(n.trim(y[l]),c)>-1||n.inArray(n.trim(l),c)>-1)&&(o.selected="selected"))}v(e,i,["value"])}break;case"text":case"password":case"button":ut=t=="button"?"button":"textbox";e=document.createElement("input");e.type=t;e.value=r;v(e,i);t!=="button"&&(u?i.size||n(e).css({width:"98%"}):i.size||(i.size=20));n(e).attr("role",ut);break;case"image":case"file":e=document.createElement("input");e.type=t;v(e,i);break;case"custom":e=document.createElement("span");try{if(n.isFunction(i.custom_element))if(b=i.custom_element.call(a,r,i),b)b=n(b).addClass("customelement").attr({id:i.id,name:i.name}),n(e).empty().append(b);else throw"e2";else throw"e1";}catch(k){k==="e1"&&n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_element' "+n.jgrid.edit.msg.nodefined,n.jgrid.edit.bClose);k==="e2"?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_element' "+n.jgrid.edit.msg.novalue,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,typeof k=="string"?k:k.message,n.jgrid.edit.bClose)}}return e},checkDate:function(n,t){var a=function(n){return n%4==0&&(n%100!=0||n%400==0)?29:28},i={},h,c,l,s;if(n=n.toLowerCase(),h=n.indexOf("/")!==-1?"/":n.indexOf("-")!==-1?"-":n.indexOf(".")!==-1?".":"/",n=n.split(h),t=t.split(h),t.length!==3)return!1;for(var u=-1,f,e=-1,o=-1,r=0;r<n.length;r++)c=isNaN(t[r])?0:parseInt(t[r],10),i[n[r]]=c,f=n[r],f.indexOf("y")!==-1&&(u=r),f.indexOf("m")!==-1&&(o=r),f.indexOf("d")!==-1&&(e=r);return(f=n[u]==="y"||n[u]==="yyyy"?4:n[u]==="yy"?2:-1,l=[0,31,29,31,30,31,30,31,31,30,31,30,31],u===-1)?!1:(s=i[n[u]].toString(),f===2&&s.length===1&&(f=1),s.length!==f||i[n[u]]===0&&t[u]!=="00")?!1:o===-1?!1:(s=i[n[o]].toString(),s.length<1||i[n[o]]<1||i[n[o]]>12)?!1:e===-1?!1:(s=i[n[e]].toString(),s.length<1||i[n[e]]<1||i[n[e]]>31||i[n[o]]===2&&i[n[e]]>a(i[n[u]])||i[n[e]]>l[i[n[o]]])?!1:!0},isEmpty:function(n){return n.match(/^\s+$/)||n===""?!0:!1},checkTime:function(t){var i;if(!n.jgrid.isEmpty(t))if(i=t.match(/^(\d{1,2}):(\d{2})([apAP][Mm])?$/),i){if(i[3]){if(i[1]<1||i[1]>12)return!1}else if(i[1]>23)return!1;if(i[2]>59)return!1}else return!1;return!0},checkValues:function(t,i,r,u){var f,s,e,c,y,l=this,o=l.p.colModel,h,a,v;if(r===undefined)if(typeof i=="string"){for(s=0,y=o.length;s<y;s++)if(o[s].name===i){f=o[s].editrules;i=s;o[s].formoptions!=null&&(e=o[s].formoptions.label);break}}else i>=0&&(f=o[i].editrules);else f=r,e=u===undefined?"_":u;if(f){if(e||(e=l.p.colNames!=null?l.p.colNames[i]:o[i].label),f.required===!0&&n.jgrid.isEmpty(t))return[!1,e+": "+n.jgrid.edit.msg.required,""];if(h=f.required===!1?!1:!0,f.number===!0&&!(h===!1&&n.jgrid.isEmpty(t))&&isNaN(t))return[!1,e+": "+n.jgrid.edit.msg.number,""];if(f.minValue!==undefined&&!isNaN(f.minValue)&&parseFloat(t)<parseFloat(f.minValue))return[!1,e+": "+n.jgrid.edit.msg.minValue+" "+f.minValue,""];if(f.maxValue!==undefined&&!isNaN(f.maxValue)&&parseFloat(t)>parseFloat(f.maxValue))return[!1,e+": "+n.jgrid.edit.msg.maxValue+" "+f.maxValue,""];if(f.email===!0&&!(h===!1&&n.jgrid.isEmpty(t))&&(a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,!a.test(t)))return[!1,e+": "+n.jgrid.edit.msg.email,""];if(f.integer===!0&&!(h===!1&&n.jgrid.isEmpty(t))){if(isNaN(t))return[!1,e+": "+n.jgrid.edit.msg.integer,""];if(t%1!=0||t.indexOf(".")!==-1)return[!1,e+": "+n.jgrid.edit.msg.integer,""]}if(f.date===!0&&!(h===!1&&n.jgrid.isEmpty(t))&&(o[i].formatoptions&&o[i].formatoptions.newformat?(c=o[i].formatoptions.newformat,n.jgrid.formatter.date.masks.hasOwnProperty(c)&&(c=n.jgrid.formatter.date.masks[c])):c=o[i].datefmt||"Y-m-d",!n.jgrid.checkDate(c,t)))return[!1,e+": "+n.jgrid.edit.msg.date+" - "+c,""];if(f.time===!0&&!(h===!1&&n.jgrid.isEmpty(t))&&!n.jgrid.checkTime(t))return[!1,e+": "+n.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(f.url===!0&&!(h===!1&&n.jgrid.isEmpty(t))&&(a=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,!a.test(t)))return[!1,e+": "+n.jgrid.edit.msg.url,""];if(f.custom===!0&&!(h===!1&&n.jgrid.isEmpty(t)))return n.isFunction(f.custom_func)?(v=f.custom_func.call(l,t,e,i),n.isArray(v)?v:[!1,n.jgrid.edit.msg.customarray,""]):[!1,n.jgrid.edit.msg.customfcheck,""]}return[!0,"",""]}})}(jQuery),function(n){"use strict";var t={};n.jgrid.extend({delGridRow:function(i,r){return r=n.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,customDelete:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},n.jgrid.del,this.jqGrid("getGridParam","delDialogOptions"),r||{}),t[n(this)[0].p.id]=r,this.each(function(){var u=this,nt,tt;if(u.grid&&i){var v=n.isFunction(t[u.p.id].beforeShowForm),y=n.isFunction(t[u.p.id].afterShowForm),p=n.isFunction(t[u.p.id].beforeInitData)?t[u.p.id].beforeInitData:!1,e=u.p.id,a={},c=!0,f="DelTbl_"+n.jgrid.jqID(e),h,w,l,b,it="DelTbl_"+e,o={themodal:"delmod"+e,modalhead:"delhd"+e,modalcontent:"delcnt"+e,scrollelm:f};n.isArray(i)&&(i=i.join());var k=function(i){var r;if(t[u.p.id].reloadAfterSubmit&&u.p.datatype!="local")n(u).trigger("reloadGrid");else{if(u.p.treeGrid===!0)try{n(u).jqGrid("delTreeNode",u.p.idPrefix+i[0])}catch(f){}else for(r=0;r<i.length;r++)n(u).jqGrid("delRowData",u.p.idPrefix+i[r]);u.p.selrow=null;u.p.selarrrow=[]}n.isFunction(t[u.p.id].afterComplete)&&setTimeout(function(){t[u.p.id].afterComplete.call(u,null,i)},500)},d=function(){n.jgrid.hideModal("#"+n.jgrid.jqID(o.themodal),{gb:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,onClose:t[u.p.id].onClose})},g=function(i,r,e){var o=n.isFunction(t[u.p.id].customDelete);r[0]==!0&&i.affectedRows<1&&(r[0]=!1,r[1]=i.affectedRows<0?t[u.p.id].error:t[u.p.id].warning);o?(t[u.p.id].processing=!1,n("#dData","#"+f+"_2").removeClass("ui-state-active"),d(),r[0]==!0&&k(e),t[u.p.id].customDelete.call(u,i,r,e)):(r[0]===!1?(n("#DelError>td","#"+f).html(r[1]),n("#DelError","#"+f).show()):k(e),t[u.p.id].processing=!1,n("#dData","#"+f+"_2").removeClass("ui-state-active"),r[0]&&(d(),n(u).trigger("reloadGrid")))};if(n.isArray(i)&&(i=i.join()),p&&(c=p.call(u,n("#"+f),i),c===undefined&&(c=!0)),c!==!1){if(n("#"+n.jgrid.jqID(o.themodal))[0]!==undefined)n("#DelData>td","#"+f).text(i),n("#DelError","#"+f).hide(),t[u.p.id].processing===!0&&(t[u.p.id].processing=!1,n("#dData","#"+f).removeClass("ui-state-active")),v&&t[u.p.id].beforeShowForm.call(u,n("#"+f)),n.jgrid.viewModal("#"+n.jgrid.jqID(o.themodal),{gbox:"#gbox_"+n.jgrid.jqID(e),jqm:t[u.p.id].jqModal,jqM:!1,overlay:t[u.p.id].overlay,modal:t[u.p.id].modal}),y&&t[u.p.id].afterShowForm.call(u,n("#"+f));else{var rt=isNaN(t[u.p.id].dataheight)?t[u.p.id].dataheight:t[u.p.id].dataheight+"px",ut=isNaN(r.datawidth)?r.datawidth:r.datawidth+"px",s="<div id='"+it+"' class='formdata' style='width:"+ut+";overflow:auto;position:relative;height:"+rt+";'>";s+="<table class='DelTable'><tbody>";s+="<tr id='DelError' style='display:none'><td class='ui-state-error'><\/td><\/tr>";s+="<tr id='DelData' style='display:none'><td >"+i+"<\/td><\/tr>";s+='<tr><td class="delmsg" style="white-space:pre;">'+t[u.p.id].msg+"<\/td><\/tr><tr><td >&#160;<\/td><\/tr>";s+="<\/tbody><\/table><\/div>";nt="<a id='dData' class='fm-button ui-state-default ui-corner-all'>"+r.bSubmit+"<\/a>";tt="<a id='eData' class='fm-button ui-state-default ui-corner-all'>"+r.bCancel+"<\/a>";s+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+f+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/><\/td><\/tr><tr><td class='DelButton EditButton'>"+nt+"&#160;"+tt+"<\/td><\/tr><\/tbody><\/table>";r.gbox="#gbox_"+n.jgrid.jqID(e);n.jgrid.createModal(o,s,r,"#gview_"+n.jgrid.jqID(u.p.id),n("#gview_"+n.jgrid.jqID(u.p.id))[0]);n(".fm-button","#"+f+"_2").hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});r.delicon=n.extend([!0,"left","ui-icon-scissors"],t[u.p.id].delicon);r.cancelicon=n.extend([!0,"left","ui-icon-cancel"],t[u.p.id].cancelicon);r.delicon[0]===!0&&n("#dData","#"+f+"_2").addClass(r.delicon[1]==="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.delicon[2]+"'><\/span>");r.cancelicon[0]===!0&&n("#eData","#"+f+"_2").addClass(r.cancelicon[1]==="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.cancelicon[2]+"'><\/span>");n("#dData","#"+f+"_2").click(function(){var i=[!0,""],y,s=n("#DelData>td","#"+f).text(),c,v;if(a={},n.isFunction(t[u.p.id].onclickSubmit)&&(a=t[u.p.id].onclickSubmit.call(u,t[u.p.id],s)||{}),n.isFunction(t[u.p.id].beforeSubmit)&&(i=t[u.p.id].beforeSubmit.call(u,s)),i[0]&&!t[u.p.id].processing){if(t[u.p.id].processing=!0,l=u.p.prmNames,h=n.extend({},t[u.p.id].delData,a),b=l.oper,h[b]=l.deloper,w=l.id,s=String(s).split(","),!s.length)return!1;for(y in s)s.hasOwnProperty(y)&&(s[y]=n.jgrid.stripPref(u.p.idPrefix,s[y]));h[w]=s.join();n(this).addClass("ui-state-active");c=n.extend({url:t[u.p.id].url||n(u).jqGrid("getGridParam","editurl"),type:t[u.p.id].mtype,data:n.isFunction(t[u.p.id].serializeDelData)?t[u.p.id].serializeDelData.call(u,h):h,error:function(r){i[0]=!1;i[1]=n.isFunction(t[u.p.id].errorTextFormat)?t[u.p.id].errorTextFormat.call(u,r):status+" Status: '"+r.status+"'. Error code: "+r.message;g(r,i,s)},success:function(n){n.status===0&&(i[0]=!1,i[1]=status+" Error: '"+n.message+"'.");g(n,i,s)}},n.jgrid.ajaxOptions,t[u.p.id].ajaxDelOptions);c.url||t[u.p.id].useDataProxy||(n.isFunction(u.p.dataProxy)?t[u.p.id].useDataProxy=!0:(i[0]=!1,i[1]+=" "+n.jgrid.errors.nourl));i[0]&&(t[u.p.id].useDataProxy?(v=u.p.dataProxy.call(u,c,"del_"+u.p.id),v===undefined&&(v=[!0,""]),v[0]===!1?(i[0]=!1,i[1]=v[1]||"Error deleting the selected row!"):n.jgrid.hideModal("#"+n.jgrid.jqID(o.themodal),{gb:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,onClose:t[u.p.id].onClose})):n.oa.ajax.doPost(c.url,c.data,c.success,c.error))}return i[0]===!1&&(n("#DelError>td","#"+f).html(i[1]),n("#DelError","#"+f).show()),!1});n("#eData","#"+f+"_2").click(function(){return n.jgrid.hideModal("#"+n.jgrid.jqID(o.themodal),{gb:"#gbox_"+n.jgrid.jqID(e),jqm:t[u.p.id].jqModal,onClose:t[u.p.id].onClose}),!1});v&&t[u.p.id].beforeShowForm.call(u,n("#"+f));n.jgrid.viewModal("#"+n.jgrid.jqID(o.themodal),{gbox:"#gbox_"+n.jgrid.jqID(e),jqm:t[u.p.id].jqModal,overlay:t[u.p.id].overlay,modal:t[u.p.id].modal});y&&t[u.p.id].afterShowForm.call(u,n("#"+f))}t[u.p.id].closeOnEscape===!0&&setTimeout(function(){n(".ui-jqdialog-titlebar-close","#"+n.jgrid.jqID(o.modalhead)).focus()},0)}}})},getSelectedRows:function(){var t;return this.each(function(){var r={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},i=this;i.p.multiselect?(t=i.p.selarrrow,t.length===0&&(t=null)):t=i.p.selrow;t||(n.jgrid.viewModal("#"+r.themodal,{gbox:"#gbox_"+n.jgrid.jqID(i.p.id),jqm:!0}),n("#jqg_alrt").focus())}),t},searchGrid:function(){return this.each(function(){var t=this,i,r;if(t.grid){t.p.search=!0;t.p.groupingView._locgr=!1;try{t.extendPostData("local")}catch(u){}i=t.p.sortname;r=t.p.sortorder;t.p.datatype="json";t.p.sortname="";n(t).trigger("reloadGrid",[{page:1}])}})},updateGrid:function(){return this.each(function(){var t=this;t.grid&&(t.p.search=!0,_sortExpression=t.p.sortname,_sortOrder=t.p.sortorder,_currPage=t.p.page,t.p.datatype="json",t.p.sortname="",t.p.initialized=!1,n(t).trigger("reloadGrid",[{page:1}]))})},navGrid:function(t,i){return i=n.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null},n.jgrid.nav,i||{}),this.each(function(){var s,r,f,h,e,a,u,l;if(!this.nav&&(s={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},r=this,r.grid&&typeof t=="string")){n("#"+s.themodal)[0]===undefined&&(i.alerttop||i.alertleft||(window.innerWidth!==undefined?(i.alertleft=window.innerWidth,i.alerttop=window.innerHeight):document.documentElement!==undefined&&document.documentElement.clientWidth!==undefined&&document.documentElement.clientWidth!==0?(i.alertleft=document.documentElement.clientWidth,i.alerttop=document.documentElement.clientHeight):(i.alertleft=1024,i.alerttop=768),i.alertleft=i.alertleft/2-parseInt(i.alertwidth,10)/2,i.alerttop=i.alerttop/2-25),n.jgrid.createModal(s,"<div>"+i.alerttext+"<\/div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'><\/span><\/span>",{gbox:"#gbox_"+n.jgrid.jqID(r.p.id),jqModal:!0,drag:!0,resize:!0,caption:i.alertcap,top:i.alerttop,left:i.alertleft,width:i.alertwidth,height:i.alertheight,closeOnEscape:i.closeOnEscape,zIndex:i.alertzIndex},"#gview_"+n.jgrid.jqID(r.p.id),n("#gbox_"+n.jgrid.jqID(r.p.id))[0],!0));var c=1,o,v=function(){n(this).hasClass("ui-state-disabled")||n(this).addClass("ui-state-hover")},y=function(){n(this).removeClass("ui-state-hover")};for(i.cloneToTop&&r.p.toppager&&(c=2),o=0;o<c;o++)e=n("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr><\/tr><\/tbody><\/table>"),a="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'><\/span><\/td>",o===0?(u=t,l=r.p.id,u==r.p.toppager&&(l+="_top",c=1)):(u=r.p.toppager,l=r.p.id+"_top"),r.p.direction=="rtl"&&n(e).attr("dir","rtl").css("float","right"),i.add,i.edit,i.view,i.del,i.search,i.refresh,h=n(".ui-jqgrid").css("font-size")||"11px",n("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+h+";visibility:hidden;' ><\/div>"),f=n(e).clone().appendTo("#testpg2").width(),n("#testpg2").remove(),n(u+"_"+i.position,u).append(e),r.p._nvtd&&(f>r.p._nvtd[0]&&(n(u+"_"+i.position,u).width(f),r.p._nvtd[0]=f),r.p._nvtd[1]=f),h=null,f=null,e=null,this.nav=!0}})},navButtonAdd:function(t,i){return i=n.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},i||{}),this.each(function(){var r,f,u;if(this.grid&&(typeof t=="string"&&t.indexOf("#")!==0&&(t="#"+n.jgrid.jqID(t)),r=n(".navtable",t)[0],f=this,r)){if(i.id&&n("#"+n.jgrid.jqID(i.id),r)[0]!==undefined)return;u=n("<td><\/td>");i.buttonicon.toString().toUpperCase()==="NONE"?n(u).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+i.caption+"<\/div>"):n(u).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+i.buttonicon+"'><\/span>"+i.caption+"<\/div>");i.id&&n(u).attr("id",i.id);i.position==="first"?r.rows[0].cells.length===0?n("tr",r).append(u):n("tr td:eq(0)",r).before(u):n("tr",r).append(u);n(u,r).attr("title",i.title||"").click(function(t){return n(this).hasClass("ui-state-disabled")||n.isFunction(i.onClickButton)&&i.onClickButton.call(f,t),!1}).hover(function(){n(this).hasClass("ui-state-disabled")||n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")})}})},navSeparatorAdd:function(t,i){return i=n.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},i||{}),this.each(function(){var r,u;this.grid&&(typeof t=="string"&&t.indexOf("#")!==0&&(t="#"+n.jgrid.jqID(t)),r=n(".navtable",t)[0],r&&(u="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+i.sepclass+"'><\/span>"+i.sepcontent+"<\/td>",i.position==="first"?r.rows[0].cells.length===0?n("tr",r).append(u):n("tr td:eq(0)",r).before(u):n("tr",r).append(u)))})}})}(jQuery),function(n){"use strict";n.extend(n.jgrid,{template:function(t){var r=n.makeArray(arguments).slice(1),i,u=r.length;return t==null&&(t=""),t.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(t,f){if(!isNaN(parseInt(f,10)))return r[parseInt(f,10)];for(i=0;i<u;i++)if(n.isArray(r[i]))for(var e=r[i],o=e.length;o--;)if(f===e[o].nm)return e[o].v})}});n.jgrid.extend({groupingSetup:function(){return this.each(function(){var f=this,i,r,e,u=f.p.colModel,t=f.p.groupingView;if(t!==null&&(typeof t=="object"||n.isFunction(t)))if(t.groupField.length){for(t.visibiltyOnNextGrouping===undefined&&(t.visibiltyOnNextGrouping=[]),t.lastvalues=[],t._locgr||(t.groups=[]),t.counters=[],i=0;i<t.groupField.length;i++)t.groupOrder[i]||(t.groupOrder[i]="asc"),t.groupText[i]||(t.groupText[i]="{0}"),typeof t.groupColumnShow[i]!="boolean"&&(t.groupColumnShow[i]=!0),typeof t.groupSummary[i]!="boolean"&&(t.groupSummary[i]=!1),t.groupSummaryPos[i]||(t.groupSummaryPos[i]="footer"),t.groupColumnShow[i]===!0?(t.visibiltyOnNextGrouping[i]=!0,n(f).jqGrid("showCol",t.groupField[i])):(t.visibiltyOnNextGrouping[i]=n("#"+n.jgrid.jqID(f.p.id+"_"+t.groupField[i])).is(":visible"),n(f).jqGrid("hideCol",t.groupField[i]));for(t.summary=[],t.hideFirstGroupCol&&(t.formatDisplayField[0]=function(n){return n}),r=0,e=u.length;r<e;r++)t.hideFirstGroupCol&&(u[r].hidden||t.groupField[0]!==u[r].name||(u[r].formatter=function(){return""})),u[r].summaryType&&(u[r].summaryDivider?t.summary.push({nm:u[r].name,st:u[r].summaryType,v:"",sd:u[r].summaryDivider,vd:"",sr:u[r].summaryRound,srt:u[r].summaryRoundType||"round"}):t.summary.push({nm:u[r].name,st:u[r].summaryType,v:"",sr:u[r].summaryRound,srt:u[r].summaryRoundType||"round"}))}else f.p.grouping=!1;else f.p.grouping=!1})},groupingPrepare:function(t,i){return this.each(function(){for(var r=this.p.groupingView,f=this,l=r.groupField.length,s,e,h,o,c=0,u=0;u<l;u++)s=r.groupField[u],h=r.displayField[u],e=t[s],o=h==null?null:t[h],o==null&&(o=e),e!==undefined&&(i===0?(r.groups.push({idx:u,dataIndex:s,value:e,displayValue:o,startRow:i,cnt:1,summary:[]}),r.lastvalues[u]=e,r.counters[u]={cnt:1,pos:r.groups.length-1,summary:n.extend(!0,[],r.summary)},n.each(r.counters[u].summary,function(){n.isFunction(this.st)?this.v=this.st.call(f,this.v,this.nm,t):(this.v=n(f).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),this.st.toLowerCase()==="avg"&&this.sd&&(this.vd=n(f).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)))}),r.groups[r.counters[u].pos].summary=r.counters[u].summary):typeof e=="object"||(n.isArray(r.isInTheSameGroup)&&n.isFunction(r.isInTheSameGroup[u])?r.isInTheSameGroup[u].call(f,r.lastvalues[u],e,u,r):r.lastvalues[u]===e)?c===1?(r.groups.push({idx:u,dataIndex:s,value:e,displayValue:o,startRow:i,cnt:1,summary:[]}),r.lastvalues[u]=e,r.counters[u]={cnt:1,pos:r.groups.length-1,summary:n.extend(!0,[],r.summary)},n.each(r.counters[u].summary,function(){n.isFunction(this.st)?this.v=this.st.call(f,this.v,this.nm,t):(this.v=n(f).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),this.st.toLowerCase()==="avg"&&this.sd&&(this.vd=n(f).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)))}),r.groups[r.counters[u].pos].summary=r.counters[u].summary):(r.counters[u].cnt+=1,r.groups[r.counters[u].pos].cnt=r.counters[u].cnt,n.each(r.counters[u].summary,function(){n.isFunction(this.st)?this.v=this.st.call(f,this.v,this.nm,t):(this.v=n(f).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),this.st.toLowerCase()==="avg"&&this.sd&&(this.vd=n(f).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)))}),r.groups[r.counters[u].pos].summary=r.counters[u].summary):(r.groups.push({idx:u,dataIndex:s,value:e,displayValue:o,startRow:i,cnt:1,summary:[]}),r.lastvalues[u]=e,c=1,r.counters[u]={cnt:1,pos:r.groups.length-1,summary:n.extend(!0,[],r.summary)},n.each(r.counters[u].summary,function(){n.isFunction(this.st)?this.v=this.st.call(f,this.v,this.nm,t):(this.v=n(f).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),this.st.toLowerCase()==="avg"&&this.sd&&(this.vd=n(f).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)))}),r.groups[r.counters[u].pos].summary=r.counters[u].summary))}),this},groupingToggle:function(t){return this.each(function(){var u=this,a=u.p.groupingView,o=t.split("_"),h=parseInt(o[o.length-2],10);o.splice(o.length-2,2);var v=o.join("_"),s=a.minusicon,c=a.plusicon,k=n("#"+n.jgrid.jqID(t)),i=k.length?k[0].nextSibling:null,y=n("#"+n.jgrid.jqID(t)+" span.tree-wrap-"+u.p.direction),p=function(t){var i=n.map(t.split(" "),function(n){if(n.substring(0,v.length+1)===v+"_")return parseInt(n.substring(v.length+1),10)});return i.length>0?i[0]:undefined},r,l,w=!1,e=u.p.frozenColumns?u.p.id+"_frozen":!1,b=e?n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(e)):!1,f=b&&b.length?b[0].nextSibling:null;if(y.hasClass(s)){if(a.showSummaryOnHide){if(i)while(i){if(r=p(i.className),r!==undefined&&r<=h)break;n(i).hide();i=i.nextSibling;e&&(n(f).hide(),f=f.nextSibling)}}else if(i)while(i){if(r=p(i.className),r!==undefined&&r<=h)break;n(i).hide();i=i.nextSibling;e&&(n(f).hide(),f=f.nextSibling)}y.removeClass(s).addClass(c);w=!0}else{if(i)for(l=undefined;i;){if(r=p(i.className),l===undefined&&(l=r===undefined),r!==undefined){if(r<=h)break;r===h+1&&(n(i).show().find(">td>span.tree-wrap-"+u.p.direction).removeClass(s).addClass(c),e&&n(f).show().find(">td>span.tree-wrap-"+u.p.direction).removeClass(s).addClass(c))}else l&&(n(i).show(),e&&n(f).show());i=i.nextSibling;e&&(f=f.nextSibling)}y.removeClass(c).addClass(s)}n(u).triggerHandler("jqGridGroupingClickGroup",[t,w]);n.isFunction(u.p.onClickGroup)&&u.p.onClickGroup.call(u,t,w)}),!1},groupingRender:function(t,i,r,u){return this.each(function(){function d(n,t,i){var u=!1,r,f;if(t===0)u=i[n];else if(f=i[n].idx,f===0)u=i[n];else for(r=n;r>=0;r--)if(i[r].idx===f-t){u=i[r];break}return u}function k(t,r,u,f){for(var s=d(t,r,u),h=e.p.colModel,c,v=s.cnt,y="",l,a,o=f;o<i;o++)l="<td "+e.formatCol(o,1,"")+">&#160;<\/td>",a="{0}",n.each(s.summary,function(){if(this.nm===h[o].name){h[o].summaryTpl&&(a=h[o].summaryTpl);typeof this.st=="string"&&this.st.toLowerCase()==="avg"&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&v>0&&(this.v=this.v/v));try{this.groupCount=s.cnt;this.groupIndex=s.dataIndex;this.groupValue=s.value;c=e.formatter("",this.v,o,this)}catch(t){c=this.v}return l="<td "+e.formatCol(o,1,"")+">"+n.jgrid.format(a,c)+"<\/td>",!1}}),y+=l;return y}var e=this,f=e.p.groupingView,o="",v="",h,l,w=f.groupCollapse?f.plusicon:f.minusicon,s,y=[],b=f.groupField.length,c,p,a;w+=" tree-wrap-"+e.p.direction;n.each(e.p.colModel,function(n,t){for(var i=0;i<b;i++)if(f.groupField[i]===t.name){y[i]=n;break}});c=0;p=n.makeArray(f.groupSummary);p.reverse();a=e.p.multiselect?' colspan="2"':"";n.each(f.groups,function(d,g){var nt,ot,it,et;if(f._locgr&&!(g.startRow+g.cnt>(r-1)*u&&g.startRow<r*u))return!0;c++;l=e.p.id+"ghead_"+g.idx;h=l+"_"+d;v="<span style='cursor:pointer;' class='ui-icon "+w+"' onclick=\"jQuery('#"+n.jgrid.jqID(e.p.id)+"').jqGrid('groupingToggle','"+h+"');return false;\"><\/span>";try{n.isArray(f.formatDisplayField)&&n.isFunction(f.formatDisplayField[g.idx])?(g.displayValue=f.formatDisplayField[g.idx].call(e,g.displayValue,g.value,e.p.colModel[y[g.idx]],g.idx,f),s=g.displayValue):s=e.formatter(h,g.displayValue,y[g.idx],g.value)}catch(ct){s=g.displayValue}if(nt="",nt=n.isFunction(f.groupText[g.idx])?f.groupText[g.idx].call(e,s,g.cnt,g.summary):n.jgrid.template(f.groupText[g.idx],s,g.cnt,g.summary),typeof nt=="string"||typeof nt=="number"||(nt=s),f.groupSummaryPos[g.idx]==="header"?(o+='<tr id="'+h+'"'+(f.groupCollapse&&g.idx>0?' style="display:none;" ':" ")+'role="row" class= "ui-widget-content jqgroup ui-row-'+e.p.direction+" "+l+'"><td style="padding-left:'+g.idx*12+'px;"'+a+">"+v+nt+"<\/td>",o+=k(d,0,f.groups,f.groupColumnShow[g.idx]===!1?a===""?2:3:a===""?1:2),o+="<\/tr>"):o+='<tr id="'+h+'"'+(f.groupCollapse&&g.idx>0?' style="display:none;" ':" ")+'role="row" class= "ui-widget-content jqgroup ui-row-'+e.p.direction+" "+l+'"><td style="padding-left:'+g.idx*12+'px;" colspan="'+(f.groupColumnShow[g.idx]===!1?i-1:i)+'">'+v+nt+"<\/td><\/tr>",ot=b-1===g.idx,ot){var ft=f.groups[d+1],rt,tt,ut=0,st=g.startRow,ht=ft!==undefined?ft.startRow:f.groups[d].startRow+f.groups[d].cnt;for(f._locgr&&(ut=(r-1)*u,ut>g.startRow&&(st=ut)),rt=st;rt<ht;rt++){if(!t[rt-ut])break;o+=t[rt-ut].join("")}if(f.groupSummaryPos[g.idx]!=="header"){if(ft!==undefined){for(it=0;it<f.groupField.length;it++)if(ft.dataIndex===f.groupField[it])break;c=f.groupField.length-it}for(tt=0;tt<c;tt++)p[tt]&&(et="",f.groupCollapse&&!f.showSummaryOnHide&&(et=' style="display:none;"'),o+="<tr"+et+' jqfootlevel="'+(g.idx-tt)+'" role="row" class="ui-widget-content jqfoot ui-row-'+e.p.direction+'">',o+=k(d,tt,f.groups,0),o+="<\/tr>");c=it}}});n("#"+n.jgrid.jqID(e.p.id)+" tbody:first").append(o);o=null})},groupingGroupBy:function(t,i){return this.each(function(){var f=this,u,r;for(typeof t=="string"&&(t=[t]),u=f.p.groupingView,f.p.grouping=!0,u._locgr=!1,u.visibiltyOnNextGrouping===undefined&&(u.visibiltyOnNextGrouping=[]),r=0;r<u.groupField.length;r++)!u.groupColumnShow[r]&&u.visibiltyOnNextGrouping[r]&&n(f).jqGrid("showCol",u.groupField[r]);for(r=0;r<t.length;r++)u.visibiltyOnNextGrouping[r]=n("#"+n.jgrid.jqID(f.p.id)+"_"+n.jgrid.jqID(t[r])).is(":visible");f.p.groupingView=n.extend(f.p.groupingView,i||{});u.groupField=t;n(f).trigger("reloadGrid")})},groupingRemove:function(t){return this.each(function(){var i=this,r,u;if(t===undefined&&(t=!0),i.p.grouping=!1,t===!0){for(r=i.p.groupingView,u=0;u<r.groupField.length;u++)!r.groupColumnShow[u]&&r.visibiltyOnNextGrouping[u]&&n(i).jqGrid("showCol",r.groupField);n("tr.jqgroup, tr.jqfoot","#"+n.jgrid.jqID(i.p.id)+" tbody:first").remove();n("tr.jqgrow:hidden","#"+n.jgrid.jqID(i.p.id)+" tbody:first").show()}else n(i).trigger("reloadGrid")})},groupingCalculations:{handler:function(n,t,i,r,u,f){var o={sum:function(){return parseFloat(t||0)+parseFloat(f[i]||0)},min:function(){return t===""?parseFloat(f[i]||0):Math.min(parseFloat(t),parseFloat(f[i]||0))},max:function(){return t===""?parseFloat(f[i]||0):Math.max(parseFloat(t),parseFloat(f[i]||0))},count:function(){return(t===""&&(t=0),f.hasOwnProperty(i))?t+1:0},avg:function(){return o.sum()}},e,s;if(!o[n])throw"jqGrid Grouping No such method: "+n;return e=o[n](),r!=null&&(u==="fixed"?e=e.toFixed(r):(s=Math.pow(10,r),e=Math.round(e*s)/s)),e}}})}(jQuery),function(n){"use strict";n.jgrid.inlineEdit=n.jgrid.inlineEdit||{};n.jgrid.extend({editRow:function(t,i,r,u,f,e,o,s,h){var c={},l=n.makeArray(arguments).slice(1);return n.type(l[0])==="object"?c=l[0]:(i!==undefined&&(c.keys=i),n.isFunction(r)&&(c.oneditfunc=r),n.isFunction(u)&&(c.successfunc=u),f!==undefined&&(c.url=f),e!==undefined&&(c.extraparam=e),n.isFunction(o)&&(c.aftersavefunc=o),n.isFunction(s)&&(c.errorfunc=s),n.isFunction(h)&&(c.afterrestorefunc=h)),c=n.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0},n.jgrid.inlineEdit,c),this.each(function(){var i=this,f,u,l,a=0,o=null,h={},e,r,s;i.grid&&(e=n(i).jqGrid("getInd",t,!0),e!==!1)&&(s=n.isFunction(c.beforeEditRow)?c.beforeEditRow.call(i,c,t):undefined,s===undefined&&(s=!0),s)&&(l=n(e).attr("editable")||"0",l!=="0"||n(e).hasClass("not-editable-row")||(r=i.p.colModel,n('td[role="gridcell"]',e).each(function(e){var c,l,s;if(f=r[e].name,c=i.p.treeGrid===!0&&f===i.p.ExpandColumn,c)u=n("span:first",this).html();else try{u=n.unformat.call(i,this,{rowId:t,colModel:r[e]},e)}catch(v){u=r[e].edittype&&r[e].edittype==="textarea"?n(this).text():n(this).html()}f!=="cb"&&f!=="subgrid"&&f!=="rn"&&(i.p.autoencode&&(u=n.jgrid.htmlDecode(u)),h[f]=u,r[e].editable===!0&&(o===null&&(o=e),c?n("span:first",this).html(""):n(this).html(""),l=n.extend({},r[e].editoptions||{},{id:t+"_"+f,name:f,rowId:t}),r[e].edittype||(r[e].edittype="text"),(u==="&nbsp;"||u==="&#160;"||u.length===1&&u.charCodeAt(0)===160)&&(u=""),s=n.jgrid.createEl.call(i,r[e].edittype,l,u,!0,n.extend({},n.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{})),n(s).addClass("editable"),c?n("span:first",this).append(s):n(this).append(s),n.jgrid.bindEv.call(i,s,l),r[e].edittype==="select"&&r[e].editoptions!==undefined&&r[e].editoptions.multiple===!0&&r[e].editoptions.dataUrl===undefined&&n.jgrid.msie&&n(s).width(n(s).width()),a++))}),a>0&&(h.id=t,i.p.savedRow.push(h),n(e).attr("editable","1"),c.focusField&&(typeof c.focusField=="number"&&parseInt(c.focusField,10)<=r.length&&(o=c.focusField),setTimeout(function(){var t=n("td:eq("+o+") :input:visible",e).not(":disabled");t.length>0&&t.focus()},0)),c.keys===!0&&n(e).bind("keydown",function(r){if(r.keyCode===27){if(n(i).jqGrid("restoreRow",t,c.afterrestorefunc),i.p._inlinenav)try{n(i).jqGrid("showAddEditButtons")}catch(f){}return!1}if(r.keyCode===13){var u=r.target;if(u.tagName==="TEXTAREA")return!0;if(n(i).jqGrid("saveRow",t,c)&&i.p._inlinenav)try{n(i).jqGrid("showAddEditButtons")}catch(e){}return!1}}),n(i).triggerHandler("jqGridInlineEditRow",[t,c]),n.isFunction(c.oneditfunc)&&c.oneditfunc.call(i,t))))})},saveRow:function(t,i,r,u,f,e,o){var ht=n.makeArray(arguments).slice(1),h={},nt,a,ut,ft,y,tt,it,rt,et,ot,g,st;n.type(ht[0])==="object"?h=ht[0]:(n.isFunction(i)&&(h.successfunc=i),r!==undefined&&(h.url=r),u!==undefined&&(h.extraparam=u),n.isFunction(f)&&(h.aftersavefunc=f),n.isFunction(e)&&(h.errorfunc=e),n.isFunction(o)&&(h.afterrestorefunc=o));h=n.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",saveui:"enable",savetext:n.jgrid.defaults.savetext||"Saving..."},n.jgrid.inlineEdit,h);var b=!1,s=this[0],l,c={},k={},p={},ct,w,d,v;if(!s.grid||(v=n(s).jqGrid("getInd",t,!0),v===!1))return b;if(nt=n.isFunction(h.beforeSaveRow)?h.beforeSaveRow.call(s,h,t):undefined,nt===undefined&&(nt=!0),nt){if(ct=n(v).attr("editable"),h.url=h.url||s.p.editurl,ct==="1"){if(n('td[role="gridcell"]',v).each(function(t){var i,f,r;if(a=s.p.colModel[t],l=a.name,l!=="cb"&&l!=="subgrid"&&a.editable===!0&&l!=="rn"&&!n(this).hasClass("not-editable-cell")){switch(a.edittype){case"checkbox":i=["Yes","No"];a.editoptions&&(i=a.editoptions.value.split(":"));c[l]=n("input",this).is(":checked")?i[0]:i[1];break;case"text":case"password":case"textarea":case"button":c[l]=n("input, textarea",this).val();break;case"select":a.editoptions.multiple?(f=n("select",this),r=[],c[l]=n(f).val(),c[l]=c[l]?c[l].join(","):"",n("select option:selected",this).each(function(t,i){r[t]=n(i).text()}),k[l]=r.join(",")):(c[l]=n("select option:selected",this).val(),k[l]=n("select option:selected",this).text());a.formatter&&a.formatter==="select"&&(k={});break;case"custom":try{if(a.editoptions&&n.isFunction(a.editoptions.custom_value)){if(c[l]=a.editoptions.custom_value.call(s,n(".customelement",this),"get"),c[l]===undefined)throw"e2";}else throw"e1";}catch(u){u==="e1"&&n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.nodefined,n.jgrid.edit.bClose);u==="e2"?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.novalue,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,u.message,n.jgrid.edit.bClose)}}if(d=n.jgrid.checkValues.call(s,c[l],t),d[0]===!1)return!1;s.p.autoencode&&(c[l]=n.jgrid.htmlEncode(c[l]));h.url!=="clientArray"&&a.editoptions&&a.editoptions.NullIfEmpty===!0&&c[l]===""&&(p[l]="null")}}),d[0]===!1){try{ut=n(s).jqGrid("getGridRowById",t);ft=n.jgrid.findPos(ut);n.jgrid.info_dialog(n.jgrid.errors.errcap,d[1],n.jgrid.edit.bClose,{left:ft[0],top:ft[1]+n(ut).outerHeight()})}catch(lt){alert(d[1])}return b}if(tt=s.p.prmNames,it=t,y=s.p.keyName===!1?tt.id:s.p.keyName,c&&(c[tt.oper]=tt.editoper,c[y]===undefined||c[y]===""?c[y]=t:v.id!==s.p.idPrefix+c[y]&&(rt=n.jgrid.stripPref(s.p.idPrefix,t),s.p._index[rt]!==undefined&&(s.p._index[c[y]]=s.p._index[rt],delete s.p._index[rt]),t=s.p.idPrefix+c[y],n(v).attr("id",t),s.p.selrow===it&&(s.p.selrow=t),n.isArray(s.p.selarrrow)&&(et=n.inArray(it,s.p.selarrrow),et>=0&&(s.p.selarrrow[et]=t)),s.p.multiselect&&(ot="jqg_"+s.p.id+"_"+t,n("input.cbox",v).attr("id",ot).attr("name",ot))),s.p.inlineData===undefined&&(s.p.inlineData={}),c=n.extend({},c,s.p.inlineData,h.extraparam)),h.url==="clientArray"){for(c=n.extend({},c,k),s.p.autoencode&&n.each(c,function(t,i){c[t]=n.jgrid.htmlDecode(i)}),st=n(s).jqGrid("setRowData",t,c),n(v).attr("editable","0"),g=0;g<s.p.savedRow.length;g++)if(String(s.p.savedRow[g].id)===String(it)){w=g;break}w>=0&&s.p.savedRow.splice(w,1);n(s).triggerHandler("jqGridInlineAfterSaveRow",[t,st,c,h]);n.isFunction(h.aftersavefunc)&&h.aftersavefunc.call(s,t,st,c,h);b=!0;n(v).removeClass("jqgrid-new-row").unbind("keydown")}else n(s).jqGrid("progressBar",{method:"show",loadtype:h.saveui,htmlcontent:h.savetext}),p=n.extend({},c,p),p[y]=n.jgrid.stripPref(s.p.idPrefix,p[y]),n.ajax(n.extend({url:h.url,data:n.isFunction(s.p.serializeRowData)?s.p.serializeRowData.call(s,p):p,type:h.mtype,async:!0,complete:function(i,r){if(n(s).jqGrid("progressBar",{method:"hide",loadtype:h.saveui,htmlcontent:h.savetext}),r==="success"){var e=!0,u,f;if(u=n(s).triggerHandler("jqGridInlineSuccessSaveRow",[i,t,h]),n.isArray(u)||(u=[!0,c]),u[0]&&n.isFunction(h.successfunc)&&(u=h.successfunc.call(s,i)),n.isArray(u)?(e=u[0],c=u[1]||c):e=u,e===!0){for(s.p.autoencode&&n.each(c,function(t,i){c[t]=n.jgrid.htmlDecode(i)}),c=n.extend({},c,k),n(s).jqGrid("setRowData",t,c),n(v).attr("editable","0"),f=0;f<s.p.savedRow.length;f++)if(String(s.p.savedRow[f].id)===String(t)){w=f;break}w>=0&&s.p.savedRow.splice(w,1);n(s).triggerHandler("jqGridInlineAfterSaveRow",[t,i,c,h]);n.isFunction(h.aftersavefunc)&&h.aftersavefunc.call(s,t,i,c,h);b=!0;n(v).removeClass("jqgrid-new-row").unbind("keydown")}else n(s).triggerHandler("jqGridInlineErrorSaveRow",[t,i,r,null,h]),n.isFunction(h.errorfunc)&&h.errorfunc.call(s,t,i,r,null),h.restoreAfterError===!0&&n(s).jqGrid("restoreRow",t,h.afterrestorefunc)}},error:function(i,r,u){if(n("#lui_"+n.jgrid.jqID(s.p.id)).hide(),n(s).triggerHandler("jqGridInlineErrorSaveRow",[t,i,r,u,h]),n.isFunction(h.errorfunc))h.errorfunc.call(s,t,i,r,u);else{var f=i.responseText||i.statusText;try{n.jgrid.info_dialog(n.jgrid.errors.errcap,'<div class="ui-state-error">'+f+"<\/div>",n.jgrid.edit.bClose,{buttonalign:"right"})}catch(e){alert(f)}}h.restoreAfterError===!0&&n(s).jqGrid("restoreRow",t,h.afterrestorefunc)}},n.jgrid.ajaxOptions,s.p.ajaxRowOptions||{}))}return b}},restoreRow:function(t,i){var u=n.makeArray(arguments).slice(1),r={};return n.type(u[0])==="object"?r=u[0]:n.isFunction(i)&&(r.afterrestorefunc=i),r=n.extend(!0,{},n.jgrid.inlineEdit,r),this.each(function(){var i=this,u=-1,e,s={},f,o;if(i.grid&&(e=n(i).jqGrid("getInd",t,!0),e!==!1)&&(o=n.isFunction(r.beforeCancelRow)?r.beforeCancelRow.call(i,r,t):undefined,o===undefined&&(o=!0),o)){for(f=0;f<i.p.savedRow.length;f++)if(String(i.p.savedRow[f].id)===String(t)){u=f;break}if(u>=0){if(n.isFunction(n.fn.datepicker))try{n("input.hasDatepicker","#"+n.jgrid.jqID(e.id)).datepicker("hide")}catch(h){}n.each(i.p.colModel,function(){this.editable===!0&&i.p.savedRow[u].hasOwnProperty(this.name)&&(s[this.name]=i.p.savedRow[u][this.name])});n(i).jqGrid("setRowData",t,s);n(e).attr("editable","0").unbind("keydown");i.p.savedRow.splice(u,1);n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(i.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){n(i).jqGrid("delRowData",t);n(i).jqGrid("showAddEditButtons")},0)}n(i).triggerHandler("jqGridInlineAfterRestoreRow",[t]);n.isFunction(r.afterrestorefunc)&&r.afterrestorefunc.call(i,t)}})},addRow:function(t){return t=n.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},t||{}),this.each(function(){var i,r,u,f;this.grid&&(i=this,r=n.isFunction(t.beforeAddRow)?t.beforeAddRow.call(i,t.addRowParams):undefined,r===undefined&&(r=!0),r)&&(t.rowID=n.isFunction(t.rowID)?t.rowID.call(i,t):t.rowID!=null?t.rowID:n.jgrid.randId(),t.useDefValues===!0&&n(i.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var r=this.editoptions.defaultValue,u=n.isFunction(r)?r.call(i):r;t.initdata[this.name]=u}}),n(i).jqGrid("addRowData",t.rowID,t.initdata,t.position),t.rowID=i.p.idPrefix+t.rowID,n("#"+n.jgrid.jqID(t.rowID),"#"+n.jgrid.jqID(i.p.id)).addClass("jqgrid-new-row"),t.useFormatter?n("#"+n.jgrid.jqID(t.rowID)+" .ui-inline-edit","#"+n.jgrid.jqID(i.p.id)).click():(u=i.p.prmNames,f=u.oper,t.addRowParams.extraparam[f]=u.addoper,n(i).jqGrid("editRow",t.rowID,t.addRowParams),n(i).jqGrid("setSelection",t.rowID)))})},inlineNav:function(t,i){return i=n.extend(!0,{edit:!1,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},n.jgrid.nav,i||{}),this.each(function(){var r,s,u,o,e,h,f;if(this.grid){if(r=this,u=n.jgrid.jqID(r.p.id),r.p._inlinenav=!0,i.addParams.useFormatter===!0)for(o=r.p.colModel,e=0;e<o.length;e++)if(o[e].formatter&&o[e].formatter==="actions"){o[e].formatoptions&&(h={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},f=n.extend(h,o[e].formatoptions),i.addParams.addRowParams={keys:f.keys,oneditfunc:f.onEdit,successfunc:f.onSuccess,url:f.url,extraparam:f.extraparam,aftersavefunc:f.afterSave,errorfunc:f.onError,afterrestorefunc:f.afterRestore});break}i.add&&n(r).jqGrid("navButtonAdd",t,{caption:i.addtext,title:i.addtitle,buttonicon:i.addicon,id:r.p.id+"_iladd",onClickButton:function(){n(r).jqGrid("addRow",i.addParams);i.addParams.useFormatter||(n("#"+u+"_ilsave").removeClass("ui-state-disabled"),n("#"+u+"_ilcancel").removeClass("ui-state-disabled"),n("#"+u+"_iladd").addClass("ui-state-disabled"),n("#"+u+"_iledit").addClass("ui-state-disabled"))}});i.edit&&n(r).jqGrid("navButtonAdd",t,{caption:i.edittext,title:i.edittitle,buttonicon:i.editicon,id:r.p.id+"_iledit",onClickButton:function(){var t=n(r).jqGrid("getGridParam","selrow");t?(n(r).jqGrid("editRow",t,i.editParams),n("#"+u+"_ilsave").removeClass("ui-state-disabled"),n("#"+u+"_ilcancel").removeClass("ui-state-disabled"),n("#"+u+"_iladd").addClass("ui-state-disabled"),n("#"+u+"_iledit").addClass("ui-state-disabled")):(n.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+u,jqm:!0}),n("#jqg_alrt").focus())}});i.save&&(n(r).jqGrid("navButtonAdd",t,{caption:i.savetext||"",title:i.savetitle||"Save row",buttonicon:i.saveicon,id:r.p.id+"_ilsave",onClickButton:function(){var t=r.p.savedRow[0].id;if(t){var f=r.p.prmNames,e=f.oper,o=i.editParams;n("#"+n.jgrid.jqID(t),"#"+u).hasClass("jqgrid-new-row")?(i.addParams.addRowParams.extraparam[e]=f.addoper,o=i.addParams.addRowParams):(i.editParams.extraparam||(i.editParams.extraparam={}),i.editParams.extraparam[e]=f.editoper);n(r).jqGrid("saveRow",t,o)&&n(r).jqGrid("showAddEditButtons")}else n.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+u,jqm:!0}),n("#jqg_alrt").focus()}}),n("#"+u+"_ilsave").addClass("ui-state-disabled"));i.cancel&&(n(r).jqGrid("navButtonAdd",t,{caption:i.canceltext||"",title:i.canceltitle||"Cancel row editing",buttonicon:i.cancelicon,id:r.p.id+"_ilcancel",onClickButton:function(){var t=r.p.savedRow[0].id,f=i.editParams;t?(n("#"+n.jgrid.jqID(t),"#"+u).hasClass("jqgrid-new-row")&&(f=i.addParams.addRowParams),n(r).jqGrid("restoreRow",t,f),n(r).jqGrid("showAddEditButtons")):(n.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+u,jqm:!0}),n("#jqg_alrt").focus())}}),n("#"+u+"_ilcancel").addClass("ui-state-disabled"));i.restoreAfterSelect===!0&&(s=n.isFunction(r.p.beforeSelectRow)?r.p.beforeSelectRow:!1,r.p.beforeSelectRow=function(t,u){var f=!0;return r.p.savedRow.length>0&&r.p._inlinenav===!0&&t!==r.p.selrow&&r.p.selrow!==null&&(r.p.selrow===i.addParams.rowID?n(r).jqGrid("delRowData",r.p.selrow):n(r).jqGrid("restoreRow",r.p.selrow,i.editParams),n(r).jqGrid("showAddEditButtons")),s&&(f=s.call(r,t,u)),f})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var t=n.jgrid.jqID(this.p.id);n("#"+t+"_ilsave").addClass("ui-state-disabled");n("#"+t+"_ilcancel").addClass("ui-state-disabled");n("#"+t+"_iladd").removeClass("ui-state-disabled");n("#"+t+"_iledit").removeClass("ui-state-disabled")}})}})}(jQuery),function(n){"use strict";n.jgrid.extend({setSubGrid:function(){return this.each(function(){var t=this,i,r;if(t.p.subGridOptions=n.extend({plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,reloadOnExpand:!0},t.p.subGridOptions||{}),t.p.colNames.unshift(""),t.p.colModel.unshift({name:"subgrid",width:n.jgrid.cell_width?t.p.subGridWidth+t.p.cellLayout:t.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),i=t.p.subGridModel,i[0])for(i[0].align=n.extend([],i[0].align||[]),r=0;r<i[0].name.length;r++)i[0].align[r]=i[0].align[r]||"left"})},addSubGridCell:function(n,t,i){var f="",e,o,r,u;return this.each(function(){f=this.formatCol(n,t);o=this.p.id;e=this.p.subGridOptions.plusicon}),r="<a href='javascript:void(0);'><span class='ui-icon "+e+"'><\/span><\/a>",u="sgcollapsed",i!==1&&(r="",u=""),'<td role="gridcell" aria-describedby="'+o+'_subgrid" class="ui-sgcollapsed '+u+'" '+f+">"+r+"<\/td>"},addSubGrid:function(t,i){return this.each(function(){var r=this,c,s;if(r.grid){var h=function(t,i,u){var f=n("<td align='"+r.p.subGridModel[0].align[u]+"'><\/td>").html(i);n(t).append(f)},l=function(t,i){for(var o,e,s=n("<table cellspacing='0' cellpadding='0' border='0'><tbody><\/tbody><\/table>"),f=n("<tr><\/tr>"),c,u=0;u<r.p.subGridModel[0].name.length;u++)o=n("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'><\/th>"),n(o).html(r.p.subGridModel[0].name[u]),n(o).width(r.p.subGridModel[0].width[u]),n(f).append(o);return n(s).append(f),t&&(e=r.p.xmlReader.subgrid,n(e.root+" "+e.row,t).each(function(){if(f=n("<tr class='ui-widget-content ui-subtblcell'><\/tr>"),e.repeatitems===!0)n(e.cell,this).each(function(t){h(f,n(this).text()||"&#160;",t)});else{var t=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name;if(t)for(u=0;u<t.length;u++)h(f,n(t[u],this).text()||"&#160;",u)}n(s).append(f)})),c=n("table:first",r.grid.bDiv).attr("id")+"_",n("#"+n.jgrid.jqID(c+i)).append(s),r.grid.hDiv.loading=!1,n("#load_"+n.jgrid.jqID(r.p.id)).hide(),!1},a=function(t,i){for(var c,l,e,s,u,v=n("<table cellspacing='0' cellpadding='0' border='0'><tbody><\/tbody><\/table>"),o=n("<tr><\/tr>"),a,y,f=0;f<r.p.subGridModel[0].name.length;f++)c=n("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'><\/th>"),n(c).html(r.p.subGridModel[0].name[f]),n(c).width(r.p.subGridModel[0].width[f]),n(o).append(c);if(n(v).append(o),t&&(s=r.p.jsonReader.subgrid,l=n.jgrid.getAccessor(t,s.root),l!==undefined))for(f=0;f<l.length;f++){if(e=l[f],o=n("<tr class='ui-widget-content ui-subtblcell'><\/tr>"),s.repeatitems===!0)for(s.cell&&(e=e[s.cell]),u=0;u<e.length;u++)h(o,e[u]||"&#160;",u);else if(a=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name,a.length)for(u=0;u<a.length;u++)h(o,e[a[u]]||"&#160;",u);n(v).append(o)}return y=n("table:first",r.grid.bDiv).attr("id")+"_",n("#"+n.jgrid.jqID(y+i)).append(v),r.grid.hDiv.loading=!1,n("#load_"+n.jgrid.jqID(r.p.id)).hide(),!1},p=function(t){var f,i,u,e;if(f=n(t).attr("id"),i={nd_:(new Date).getTime()},i[r.p.prmNames.subgridid]=f,!r.p.subGridModel[0])return!1;if(r.p.subGridModel[0].params)for(e=0;e<r.p.subGridModel[0].params.length;e++)for(u=0;u<r.p.colModel.length;u++)r.p.colModel[u].name===r.p.subGridModel[0].params[e]&&(i[r.p.colModel[u].name]=n("td:eq("+u+")",t).text().replace(/\&#160\;/ig,""));if(!r.grid.hDiv.loading){r.grid.hDiv.loading=!0;n("#load_"+n.jgrid.jqID(r.p.id)).show();r.p.subgridtype||(r.p.subgridtype=r.p.datatype);n.isFunction(r.p.subgridtype)?r.p.subgridtype.call(r,i):r.p.subgridtype=r.p.subgridtype.toLowerCase();switch(r.p.subgridtype){case"xml":case"json":n.ajax(n.extend({type:r.p.mtype,url:r.p.subGridUrl,dataType:r.p.subgridtype,data:n.isFunction(r.p.serializeSubGridData)?r.p.serializeSubGridData.call(r,i):i,complete:function(t){r.p.subgridtype==="xml"?l(t.responseXML,f):a(n.jgrid.parse(t.responseText),f);t=null}},n.jgrid.ajaxOptions,r.p.ajaxSubgridOptions||{}))}}return!1},u,e,v,y=0,f,o;for(n.each(r.p.colModel,function(){(this.hidden===!0||this.name==="rn"||this.name==="cb")&&y++}),c=r.rows.length,s=1,i!==undefined&&i>0&&(s=i,c=i+1);s<c;)n(r.rows[s]).hasClass("jqgrow")&&n(r.rows[s].cells[t]).bind("click",function(){var i=n(this).parent("tr")[0];if(o=i.nextSibling,n(this).hasClass("sgcollapsed")){if(e=r.p.id,u=i.id,r.p.subGridOptions.reloadOnExpand!==!0&&(r.p.subGridOptions.reloadOnExpand!==!1||n(o).hasClass("ui-subgrid")))n(o).show();else{if(v=t>=1?"<td colspan='"+t+"'>&#160;<\/td>":"",f=n(r).triggerHandler("jqGridSubGridBeforeExpand",[e+"_"+u,u]),f=f===!1||f==="stop"?!1:!0,f&&n.isFunction(r.p.subGridBeforeExpand)&&(f=r.p.subGridBeforeExpand.call(r,e+"_"+u,u)),f===!1)return!1;n(i).after("<tr role='row' class='ui-subgrid'>"+v+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+r.p.subGridOptions.openicon+"'><\/span><\/td><td colspan='"+parseInt(r.p.colNames.length-1-y,10)+"' class='ui-widget-content subgrid-data'><div id="+e+"_"+u+" class='tablediv'><\/div><\/td><\/tr>");n(r).triggerHandler("jqGridSubGridRowExpanded",[e+"_"+u,u]);n.isFunction(r.p.subGridRowExpanded)?r.p.subGridRowExpanded.call(r,e+"_"+u,u):p(i)}n(this).html("<a href='javascript:void(0);'><span class='ui-icon "+r.p.subGridOptions.minusicon+"'><\/span><\/a>").removeClass("sgcollapsed").addClass("sgexpanded");r.p.subGridOptions.selectOnExpand&&n(r).jqGrid("setSelection",u)}else if(n(this).hasClass("sgexpanded")){if(f=n(r).triggerHandler("jqGridSubGridRowColapsed",[e+"_"+u,u]),f=f===!1||f==="stop"?!1:!0,f&&n.isFunction(r.p.subGridRowColapsed)&&(u=i.id,f=r.p.subGridRowColapsed.call(r,e+"_"+u,u)),f===!1)return!1;r.p.subGridOptions.reloadOnExpand===!0?n(o).remove(".ui-subgrid"):n(o).hasClass("ui-subgrid")&&n(o).hide();n(this).html("<a href='javascript:void(0);'><span class='ui-icon "+r.p.subGridOptions.plusicon+"'><\/span><\/a>").removeClass("sgexpanded").addClass("sgcollapsed")}return!1}),s++;r.p.subGridOptions.expandOnLoad===!0&&n(r.rows).filter(".jqgrow").each(function(t,i){n(i.cells[0]).click()});r.subGridXml=function(n,t){l(n,t)};r.subGridJson=function(n,t){a(n,t)}}})},expandSubGridRow:function(t){return this.each(function(){var u=this,i,r;(u.grid||t)&&u.p.subGrid===!0&&(i=n(this).jqGrid("getInd",t,!0),i&&(r=n("td.sgcollapsed",i)[0],r&&n(r).trigger("click")))})},collapseSubGridRow:function(t){return this.each(function(){var u=this,i,r;(u.grid||t)&&u.p.subGrid===!0&&(i=n(this).jqGrid("getInd",t,!0),i&&(r=n("td.sgexpanded",i)[0],r&&n(r).trigger("click")))})},toggleSubGridRow:function(t){return this.each(function(){var u=this,r,i;(u.grid||t)&&u.p.subGrid===!0&&(r=n(this).jqGrid("getInd",t,!0),r&&(i=n("td.sgcollapsed",r)[0],i?n(i).trigger("click"):(i=n("td.sgexpanded",r)[0],i&&n(i).trigger("click"))))})}})}(jQuery),function(n){"use strict";n.fmatter={};n.extend(n.fmatter,{isBoolean:function(n){return typeof n=="boolean"},isObject:function(t){return t&&(typeof t=="object"||n.isFunction(t))||!1},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"&&isFinite(n)},isValue:function(n){return this.isObject(n)||this.isString(n)||this.isNumber(n)||this.isBoolean(n)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=n.trim(t).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,""),t===""):!0}});n.fn.fmatter=function(t,i,r,u,f){var e=i;r=n.extend({},n.jgrid.formatter,r);try{e=n.fn.fmatter[t].call(this,i,r,u,f)}catch(o){}return e};n.fmatter.util={NumberFormat:function(t,i){var s,h,l,f,c,e;if(n.fmatter.isNumber(t)||(t*=1),n.fmatter.isNumber(t)){var a=t<0,r=String(t),o=i.decimalSeparator||".",u;if(n.fmatter.isNumber(i.decimalPlaces)&&(s=i.decimalPlaces,h=Math.pow(10,s),r=String(Math.round(t*h)/h),u=r.lastIndexOf("."),s>0))for(u<0?(r+=o,u=r.length-1):o!=="."&&(r=r.replace(".",o));r.length-1-u<s;)r+="0";if(i.thousandsSeparator){for(l=i.thousandsSeparator,u=r.lastIndexOf(o),u=u>-1?u:r.length,f=r.substring(u),c=-1,e=u;e>0;e--)c++,c%3==0&&e!==u&&(!a||e>1)&&(f=l+f),f=r.charAt(e-1)+f;r=f}return r=i.prefix?i.prefix+r:r,i.suffix?r+i.suffix:r}return t}};n.fn.fmatter.defaultFormat=function(t,i){return n.fmatter.isValue(t)&&t!==""?t:i.defaultValue||"&#160;"};n.fn.fmatter.email=function(t,i){return n.fmatter.isEmpty(t)?n.fn.fmatter.defaultFormat(t,i):'<a href="mailto:'+t+'">'+t+"<\/a>"};n.fn.fmatter.checkbox=function(t,i){var r=n.extend({},i.checkbox),u,f;return i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(r=n.extend({},r,i.colModel.formatoptions)),u=r.disabled===!0?'disabled="disabled"':"",(n.fmatter.isEmpty(t)||t===undefined)&&(t=n.fn.fmatter.defaultFormat(t,r)),t=String(t),t=(t+"").toLowerCase(),f=t.search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"",'<input type="checkbox" '+f+' value="'+t+'" offval="no" '+u+"/>"};n.fn.fmatter.link=function(t,i){var r={target:i.target},u="";return(i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(r=n.extend({},r,i.colModel.formatoptions)),r.target&&(u="target="+r.target),!n.fmatter.isEmpty(t))?"<a "+u+' href="'+t+'">'+t+"<\/a>":n.fn.fmatter.defaultFormat(t,i)};n.fn.fmatter.showlink=function(t,i){var r={baseLinkUrl:i.baseLinkUrl,showAction:i.showAction,addParam:i.addParam||"",target:i.target,idName:i.idName},u="",f;return(i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(r=n.extend({},r,i.colModel.formatoptions)),r.target&&(u="target="+r.target),f=r.baseLinkUrl+r.showAction+"?"+r.idName+"="+i.rowId+r.addParam,n.fmatter.isString(t)||n.fmatter.isNumber(t))?"<a "+u+' href="'+f+'">'+t+"<\/a>":n.fn.fmatter.defaultFormat(t,i)};n.fn.fmatter.integer=function(t,i){var r=n.extend({},i.integer);return(i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(r=n.extend({},r,i.colModel.formatoptions)),n.fmatter.isEmpty(t))?r.defaultValue:n.fmatter.util.NumberFormat(t,r)};n.fn.fmatter.number=function(t,i){var r=n.extend({},i.number);return(i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(r=n.extend({},r,i.colModel.formatoptions)),n.fmatter.isEmpty(t))?r.defaultValue:n.fmatter.util.NumberFormat(t,r)};n.fn.fmatter.currency=function(t,i){var r=n.extend({},i.currency);return(i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(r=n.extend({},r,i.colModel.formatoptions)),n.fmatter.isEmpty(t))?r.defaultValue:n.fmatter.util.NumberFormat(t,r)};n.fn.fmatter.date=function(t,i,r,u){var f=n.extend({},i.date);return(i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(f=n.extend({},f,i.colModel.formatoptions)),!f.reformatAfterEdit&&u==="edit")?n.fn.fmatter.defaultFormat(t,i):n.fmatter.isEmpty(t)?n.fn.fmatter.defaultFormat(t,i):n.jgrid.parseDate(f.srcformat,t,f.newformat,f)};n.fn.fmatter.select=function(t,i){var r,f,o,c,s,e,u,l,a,h;if(t=String(t),r=!1,f=[],i.colModel.formatoptions!==undefined?(r=i.colModel.formatoptions.value,o=i.colModel.formatoptions.separator===undefined?":":i.colModel.formatoptions.separator,c=i.colModel.formatoptions.delimiter===undefined?";":i.colModel.formatoptions.delimiter):i.colModel.editoptions!==undefined&&(r=i.colModel.editoptions.value,o=i.colModel.editoptions.separator===undefined?":":i.colModel.editoptions.separator,c=i.colModel.editoptions.delimiter===undefined?";":i.colModel.editoptions.delimiter),r)if(s=i.colModel.editoptions.multiple===!0?!0:!1,e=[],s&&(e=t.split(","),e=n.map(e,function(t){return n.trim(t)})),n.fmatter.isString(r)){for(l=r.split(c),a=0,h=0;h<l.length;h++)if(u=l[h].split(o),u.length>2&&(u[1]=n.map(u,function(n,t){if(t>0)return n}).join(o)),s)n.inArray(u[0],e)>-1&&(f[a]=u[1],a++);else if(n.trim(u[0])===n.trim(t)){f[0]=u[1];break}}else n.fmatter.isObject(r)&&(s?f=n.map(e,function(n){return r[n]}):f[0]=r[t]||"");return t=f.join(", "),t===""?n.fn.fmatter.defaultFormat(t,i):t};n.fn.fmatter.rowactions=function(t){var c=n(this).closest("tr.jqgrow"),f=c.attr("id"),a=n(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),r=n("#"+a),o=r[0],e=o.p,s=e.colModel[n.jgrid.getCellIndex(this)],u=s.frozen?n("tr#"+f+" td:eq("+n.jgrid.getCellIndex(this)+") > div",r):n(this).parent(),i={extraparam:{}},v=function(t,r){n.isFunction(i.afterSave)&&i.afterSave.call(o,t,r);u.find("div.ui-inline-edit,div.ui-inline-del").show();u.find("div.ui-inline-save,div.ui-inline-cancel").hide()},l=function(t){n.isFunction(i.afterRestore)&&i.afterRestore.call(o,t);u.find("div.ui-inline-edit,div.ui-inline-del").show();u.find("div.ui-inline-save,div.ui-inline-cancel").hide()},h;s.formatoptions!==undefined&&(i=n.extend(i,s.formatoptions));e.editOptions!==undefined&&(i.editOptions=e.editOptions);e.delOptions!==undefined&&(i.delOptions=e.delOptions);c.hasClass("jqgrid-new-row")&&(i.extraparam[e.prmNames.oper]=e.prmNames.addoper);h={keys:i.keys,oneditfunc:i.onEdit,successfunc:i.onSuccess,url:i.url,extraparam:i.extraparam,aftersavefunc:v,errorfunc:i.onError,afterrestorefunc:l,restoreAfterError:i.restoreAfterError,mtype:i.mtype};switch(t){case"edit":r.jqGrid("editRow",f,h);u.find("div.ui-inline-edit,div.ui-inline-del").hide();u.find("div.ui-inline-save,div.ui-inline-cancel").show();r.triggerHandler("jqGridAfterGridComplete");break;case"save":r.jqGrid("saveRow",f,h)&&(u.find("div.ui-inline-edit,div.ui-inline-del").show(),u.find("div.ui-inline-save,div.ui-inline-cancel").hide(),r.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":r.jqGrid("restoreRow",f,l);u.find("div.ui-inline-edit,div.ui-inline-del").show();u.find("div.ui-inline-save,div.ui-inline-cancel").hide();r.triggerHandler("jqGridAfterGridComplete");break;case"del":r.jqGrid("delGridRow",f,i.delOptions);break;case"formedit":r.jqGrid("setSelection",f);r.jqGrid("editGridRow",f,i.editOptions)}};n.fn.fmatter.actions=function(t,i){var e={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},u=i.rowId,f="",r;return(i.colModel.formatoptions!==undefined&&(e=n.extend(e,i.colModel.formatoptions)),u===undefined||n.fmatter.isEmpty(u))?"":(e.editformbutton?(r="id='jEditButton_"+u+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",f+="<div title='"+n.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+r+"><span class='ui-icon ui-icon-pencil'><\/span><\/div>"):e.editbutton&&(r="id='jEditButton_"+u+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ",f+="<div title='"+n.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+r+"><span class='ui-icon ui-icon-pencil'><\/span><\/div>"),e.delbutton&&(r="id='jDeleteButton_"+u+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",f+="<div title='"+n.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+r+"><span class='ui-icon ui-icon-trash'><\/span><\/div>"),r="id='jSaveButton_"+u+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",f+="<div title='"+n.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+r+"><span class='ui-icon ui-icon-disk'><\/span><\/div>",r="id='jCancelButton_"+u+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",f+="<div title='"+n.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+r+"><span class='ui-icon ui-icon-cancel'><\/span><\/div>","<div style='margin-left:8px;'>"+f+"<\/div>")};n.unformat=function(t,i,r,u){var f,h=i.colModel.formatter,e=i.colModel.formatoptions||{},o,l=/([\.\*\_\'\(\)\{\}\+\?\\])/g,a=i.colModel.unformat||n.fn.fmatter[h]&&n.fn.fmatter[h].unformat,c,s,v;if(typeof a!="undefined"&&n.isFunction(a))f=a.call(this,n(t).text(),i,t);else if(h!==undefined&&n.fmatter.isString(h)){c=n.jgrid.formatter||{};switch(h){case"integer":e=n.extend({},c.integer,e);o=e.thousandsSeparator.replace(l,"\\$1");s=new RegExp(o,"g");f=n(t).text().replace(s,"");break;case"number":e=n.extend({},c.number,e);o=e.thousandsSeparator.replace(l,"\\$1");s=new RegExp(o,"g");f=n(t).text().replace(s,"").replace(e.decimalSeparator,".");break;case"currency":e=n.extend({},c.currency,e);o=e.thousandsSeparator.replace(l,"\\$1");s=new RegExp(o,"g");f=n(t).text();e.prefix&&e.prefix.length&&(f=f.substr(e.prefix.length));e.suffix&&e.suffix.length&&(f=f.substr(0,f.length-e.suffix.length));f=f.replace(s,"").replace(e.decimalSeparator,".");break;case"checkbox":v=i.colModel.editoptions?i.colModel.editoptions.value.split(":"):["Yes","No"];f=n("input",t).is(":checked")?v[0]:v[1];break;case"select":f=n.unformat.select(t,i,r,u);break;case"dropdown":f=n.unformat.dropdown(t,i,r,u);break;case"template":f=n.unformat.template(t,i,r,u);break;case"actions":return"";default:f=n(t).text()}}return f!==undefined?f:u===!0?n(t).text():n.jgrid.htmlDecode(n(t).html())};n.unformat.select=function(t,i,r,u){var c=[],s=n(t).text(),v,y,l;if(u===!0)return s;var e=n.extend({},i.colModel.formatoptions!==undefined?i.colModel.formatoptions:i.colModel.editoptions),p=e.separator===undefined?":":e.separator,w=e.delimiter===undefined?";":e.delimiter;if(e.value){var h=e.value,a=e.multiple===!0?!0:!1,o=[],f;if(a&&(o=s.split(","),o=n.map(o,function(t){return n.trim(t)})),n.fmatter.isString(h)){for(v=h.split(w),y=0,l=0;l<v.length;l++)if(f=v[l].split(p),f.length>2&&(f[1]=n.map(f,function(n,t){if(t>0)return n}).join(p)),a)n.inArray(f[1],o)>-1&&(c[y]=f[0],y++);else if(n.trim(f[1])===n.trim(s)){c[0]=f[0];break}}else(n.fmatter.isObject(h)||n.isArray(h))&&(a||(o[0]=s),c=n.map(o,function(t){var i;return n.each(h,function(n,r){if(r===t)return i=n,!1}),typeof i!="undefined"?i:void 0}));return c.join(", ")}return s||""};n.unformat.date=function(t,i){var r=n.jgrid.formatter.date||{};return(i.formatoptions!==undefined&&(r=n.extend({},r,i.formatoptions)),!n.fmatter.isEmpty(t))?n.jgrid.parseDate(r.newformat,t,r.srcformat,r):n.fn.fmatter.defaultFormat(t,i)}}(jQuery),function(n){n.fn.fmatter.actionlink=function(t,i){if(t!=null&&t==0)return"";var r={baseLinkUrl:i.baseLinkUrl,showAction:i.showAction,text:i.text,addParam:i.addParam||"",target:i.target,idName:i.idName},u="",f,e=t;return i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(r=n.extend({},r,i.colModel.formatoptions)),r.target&&(u="target="+r.target),r.text&&(e=r.text),f=r.baseLinkUrl+r.showAction+"?"+r.idName+"="+i.rowId+r.addParam,"<a "+u+' href="'+f+'">'+e+"<\/a>"};n.fn.fmatter.actiondeletebutton=function(t,i){var r,u;if(t!=null&&t==0)return"";r={keys:!1,delbutton:!0,title:i.title};u="";i.colModel.formatoptions!==undefined&&(r=n.extend(r,i.colModel.formatoptions));var f=i.rowId,e="",o,u=n.jgrid.nav.deltitle;return f===undefined||n.fmatter.isEmpty(f)?"":(r.title&&(u=r.title),r.delbutton&&(o="id='jDeleteButton_"+f+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",e+="<a href='javascript:void(0);' title='"+u+"' class='ui-inline-del' "+o+"><span class='ui-icon ui-icon-trash'><\/span><\/a>"),"<div class='ui-action'>"+e+"<\/div>")};n.fn.fmatter.actionbutton=function(t,i){var u,s;if(t!=null&&t==0)return"";var r={baseLinkUrl:i.baseLinkUrl,showAction:i.showAction,icon:i.icon,addParam:i.addParam||"",title:i.title,target:i.target,idName:i.idName},f="",e="",o;return i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(r=n.extend({},r,i.colModel.formatoptions)),u="",r.target&&(f="target="+r.target),r.title&&(e="title='"+r.title+"'"),o=r.baseLinkUrl+r.showAction+"?"+r.idName+"="+i.rowId+r.addParam,s="onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",u=u+"<a "+f+' href="'+o+"\" class='ui-inline-edit' "+s+"><span class='ui-icon ui-icon-"+r.icon+"'><\/span><\/a>","<div class='ui-action' "+e+">"+u+"<\/div>"};n.fn.fmatter.jsaction=function(t,i){var r;if(t!=null&&t==0)return"";r={action:i.action,icon:i.icon,text:i.text,title:i.title,active:i.active};i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(r=n.extend({},r,i.colModel.formatoptions));var l=i.rowId,u="",f,o="",s=i.rowId,h="",e="",c="";return t.len>0&&(s=t),r.title&&(h="title='"+r.title+"'"),r.active==1?o="onclick=jQuery.fn.fmatter.customAction('"+l+"','"+i.gid+"','"+r.action+"',"+i.pos+",'"+s+"');":c=" style= 'cursor:not-allowed;'",f="onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",r.icon&&(e="<span class='ui-icon ui-icon-"+r.icon+"'><\/span>"),r.text&&(e="<span>"+r.text+"<\/span>",f=""),u=u+"<a href='javascript:void(0);' "+o+" class='ui-pg-div ui-inline-edit' "+f+">"+e+"<\/a>","<div class='ui-action' "+h+c+">"+u+"<\/div>"};n.fn.fmatter.customAction=function(n,t,i,r,u){var f=i+"('"+u+"');",e=eval(f)};n.fn.fmatter.custom=function(t,i,r){var s=i.gid,u={keys:[],definition:""},c,y,p,w,l,f,a,e,v,h,o;if(i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(u=n.extend(u,i.colModel.formatoptions)),n.isArray(u.keys)===!1){for(l=[],a=u.keys.split(","),f=0;f<a.length;f++)l.push(a[f]);u.keys=l}var b=i.rowId,k="",d=[];if(k=u.definition,b===undefined||n.fmatter.isEmpty(b))return"";if(u.keys||(u.keys=[]),c=u.keys.length,f=0,y=n("#"+s)[0].p.datatype,p=n("#"+s)[0].p.multiselect,w=n("#"+s)[0].p.subGrid,e=0,v=n("#"+s)[0].p.colModel,c>0)while(f<c){if(h="",y==="local")h=n.jgrid.getAccessor(r,u.keys[f]);else for(e=0;e<v.length;e++)o=p?e-1:e,o=w?o-1:o,v[e].name.toLowerCase()==u.keys[f].toLowerCase()&&(h=n.jgrid.getAccessor(r,o));d.push(h);f++}return n.fn.fmatter.myformat(k,d)};n.fn.fmatter.myformat=function(n,t){return n===undefined&&(n=""),n.replace(/\{(\d+)\}/g,function(n,i){return t[i]})};n.fn.fmatter.customjs=function(t,i,r){var a=i.gid,u={keys:[],js:""},v,k,d,g,y,f,p,o,e,w,c,l,b;if(i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(u=n.extend(u,i.colModel.formatoptions)),n.isArray(u.keys)===!1){for(y=[],p=u.keys.split(","),f=0;f<p.length;f++)y.push(p[f]);u.keys=y}var s=i.rowId,h="";if((h=u.js,o="",s===undefined||n.fmatter.isEmpty(s))||h===""||n.fmatter.isEmpty(h))return"";if(u.keys||(u.keys=[]),v=u.keys.length,f=0,k=n("#"+a)[0].p.datatype,d=n("#"+a)[0].p.multiselect,g=n("#"+a)[0].p.subGrid,e=0,w=n("#"+a)[0].p.colModel,v>0)while(f<v){if(c=null,k==="local")c=n.jgrid.getAccessor(r,u.keys[f]);else for(e=0;e<w.length;e++)l=d?e-1:e,l=g?l-1:l,w[e].name.toLowerCase()==u.keys[f].toLowerCase()&&(c=n.jgrid.getAccessor(r,l));o=o+(o.length>0?",":"")+(c==null?"''":"'"+escape(c)+"'");f++}return b=h+"(["+o+"], "+s+");",typeof s=="string"&&(b=h+"(["+o+"], '"+s+"');"),eval(b)};n.fn.fmatter.template=function(t,i,r){var h=i.gid,f={templateid:"",js:""},c,a,l;i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(f=n.extend(f,i.colModel.formatoptions));var o=i.rowId,e="";if((e=f.js,a="",o===undefined||n.fmatter.isEmpty(o))||e===""||n.fmatter.isEmpty(e))return"";c=n("#"+h)[0].p.datatype;var u=0,v=n("#"+h)[0].p.colModel,s={};if(c==="local")s=r;else for(l=r.length,u=0;u<l;u++)s[v[u].name]=r[u];return window[e](s,o,f.templateid)};n.unformat.template=function(){return null};n.fn.fmatter.dropdown=function(t,r){var u,s="",h="",e,f,c,l,o;if(r.colModel!==undefined&&r.colModel.formatoptions!==undefined&&(u=n.extend({},r.colModel.formatoptions||{},{id:nm,name:nm})),u.value)for(c=u.separator===undefined?":":u.separator,l=u.delimiter===undefined?";":u.delimiter,e=u.value.split(l),i=0;i<e.length;i++)f=e[i].split(c),o="",f[0]==t&&(o="selected"),s+='<option value="'+f[0]+'" '+o+">"+f[1]+"<\/option>";return t==325&&(h=" disabled"),'<select originalValue="'+t+'" '+h+' onchange="javascript:SetStatus(this, '+r.rowId+');">'+s+"<\/select>"};n.unformat.dropdown=function(t){var i=n(t);return n(i.html()).attr("originalValue")};n.fn.fmatter.phone=function(t,i){var r=n.extend({},i.phone);return(i.colModel!==undefined&&i.colModel.formatoptions!==undefined&&(r=n.extend({},r,i.colModel.formatoptions)),n.fmatter.isEmpty(t))?r.defaultValue:n.oa.core.utilities.PhoneFormat(t,r)};n.fn.fmatter.selectColumn=function(){return"<span class='grid-select-column'>select<\/span>"}}(jQuery);var _srcLoaded=!1,_showAdvDefault,_rangeLoaded=!1,_currPage=1,_sortExpression="",_sortOrder="",_sdata={},_rowNum;